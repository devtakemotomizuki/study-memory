(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),c=a[1],u=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:u});c.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,s=t.options,a=void 0===s?{}:s,c=this.normalizeInstanceIdentifier(void 0===i?o:i);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:c,options:a});try{for(var l=Object(r.g)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=Object(r.e)(h.value,2),f=d[1];c===this.normalizeInstanceIdentifier(d[0])&&f.resolve(u)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return u},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var c=n("3N8a");class u extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var l=n("IjjT");class h extends l.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(u),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class u extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof u?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new u(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends u{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),u=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new u(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class u extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let u=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.3.3","app")},KqfI:function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),u=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(u.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},WMd4:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("EY2u"),i=n("LRne"),s=n("z6cu");let o=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(i.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})()},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class u extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new u(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return dn}),n.d(e,"b",function(){return ll}),n.d(e,"c",function(){return sl}),n.d(e,"d",function(){return rl}),n.d(e,"e",function(){return il}),n.d(e,"f",function(){return sh}),n.d(e,"g",function(){return $l}),n.d(e,"h",function(){return Zc}),n.d(e,"i",function(){return wl}),n.d(e,"j",function(){return wc}),n.d(e,"k",function(){return fl}),n.d(e,"l",function(){return Oc}),n.d(e,"m",function(){return eh}),n.d(e,"n",function(){return Ir}),n.d(e,"o",function(){return Mu}),n.d(e,"p",function(){return ks}),n.d(e,"q",function(){return jn}),n.d(e,"r",function(){return A}),n.d(e,"s",function(){return hn}),n.d(e,"t",function(){return Ws}),n.d(e,"u",function(){return zc}),n.d(e,"v",function(){return Qc}),n.d(e,"w",function(){return dl}),n.d(e,"x",function(){return cu}),n.d(e,"y",function(){return Gl}),n.d(e,"z",function(){return au}),n.d(e,"A",function(){return ql}),n.d(e,"B",function(){return Cl}),n.d(e,"C",function(){return Pn}),n.d(e,"D",function(){return ul}),n.d(e,"E",function(){return cl}),n.d(e,"F",function(){return Fu}),n.d(e,"G",function(){return Ic}),n.d(e,"H",function(){return xc}),n.d(e,"I",function(){return Pr}),n.d(e,"J",function(){return Ac}),n.d(e,"K",function(){return Sr}),n.d(e,"L",function(){return Nn}),n.d(e,"M",function(){return Xl}),n.d(e,"N",function(){return ru}),n.d(e,"O",function(){return Dl}),n.d(e,"P",function(){return fn}),n.d(e,"Q",function(){return Rc}),n.d(e,"R",function(){return Dc}),n.d(e,"S",function(){return lu}),n.d(e,"T",function(){return M}),n.d(e,"U",function(){return Hl}),n.d(e,"V",function(){return Bl}),n.d(e,"W",function(){return f}),n.d(e,"X",function(){return An}),n.d(e,"Y",function(){return Vl}),n.d(e,"Z",function(){return rh}),n.d(e,"ab",function(){return Pl}),n.d(e,"bb",function(){return hl}),n.d(e,"cb",function(){return Ds}),n.d(e,"db",function(){return ya}),n.d(e,"eb",function(){return wr}),n.d(e,"fb",function(){return rr}),n.d(e,"gb",function(){return Wn}),n.d(e,"hb",function(){return $n}),n.d(e,"ib",function(){return Zn}),n.d(e,"jb",function(){return Gn}),n.d(e,"kb",function(){return Kn}),n.d(e,"lb",function(){return Yn}),n.d(e,"mb",function(){return fa}),n.d(e,"nb",function(){return nh}),n.d(e,"ob",function(){return pa}),n.d(e,"pb",function(){return ma}),n.d(e,"qb",function(){return Qn}),n.d(e,"rb",function(){return U}),n.d(e,"sb",function(){return eo}),n.d(e,"tb",function(){return So}),n.d(e,"ub",function(){return wo}),n.d(e,"vb",function(){return Eo}),n.d(e,"wb",function(){return da}),n.d(e,"xb",function(){return xt}),n.d(e,"yb",function(){return l}),n.d(e,"zb",function(){return zn}),n.d(e,"Ab",function(){return $s}),n.d(e,"Bb",function(){return _t}),n.d(e,"Cb",function(){return bc}),n.d(e,"Db",function(){return Ai}),n.d(e,"Eb",function(){return oo}),n.d(e,"Fb",function(){return Ho}),n.d(e,"Gb",function(){return sa}),n.d(e,"Hb",function(){return oa}),n.d(e,"Ib",function(){return qo}),n.d(e,"Jb",function(){return Yu}),n.d(e,"Kb",function(){return J}),n.d(e,"Lb",function(){return ot}),n.d(e,"Mb",function(){return w}),n.d(e,"Nb",function(){return E}),n.d(e,"Ob",function(){return rt}),n.d(e,"Pb",function(){return at}),n.d(e,"Qb",function(){return lo}),n.d(e,"Rb",function(){return go}),n.d(e,"Sb",function(){return vo}),n.d(e,"Tb",function(){return bo}),n.d(e,"Ub",function(){return yo}),n.d(e,"Vb",function(){return mo}),n.d(e,"Wb",function(){return po}),n.d(e,"Xb",function(){return _o}),n.d(e,"Yb",function(){return on}),n.d(e,"Zb",function(){return aa}),n.d(e,"ac",function(){return cc}),n.d(e,"bc",function(){return lc}),n.d(e,"cc",function(){return uc}),n.d(e,"dc",function(){return kn}),n.d(e,"ec",function(){return cn}),n.d(e,"fc",function(){return nl}),n.d(e,"gc",function(){return Co}),n.d(e,"hc",function(){return Zu}),n.d(e,"ic",function(){return Se}),n.d(e,"jc",function(){return ko}),n.d(e,"kc",function(){return Du}),n.d(e,"lc",function(){return Ru}),n.d(e,"mc",function(){return ju}),n.d(e,"nc",function(){return Ro}),n.d(e,"oc",function(){return Do}),n.d(e,"pc",function(){return ho}),n.d(e,"qc",function(){return jo}),n.d(e,"rc",function(){return Po}),n.d(e,"sc",function(){return Ou}),n.d(e,"tc",function(){return Tu}),n.d(e,"uc",function(){return xu}),n.d(e,"vc",function(){return Ku}),n.d(e,"wc",function(){return uo}),n.d(e,"xc",function(){return $t}),n.d(e,"yc",function(){return Cr}),n.d(e,"zc",function(){return it}),n.d(e,"Ac",function(){return Uo}),n.d(e,"Bc",function(){return Oo}),n.d(e,"Cc",function(){return ca}),n.d(e,"Dc",function(){return co}),n.d(e,"Ec",function(){return el}),n.d(e,"Fc",function(){return ea}),n.d(e,"Gc",function(){return na}),n.d(e,"Hc",function(){return ra}),n.d(e,"Ic",function(){return ia}),n.d(e,"Jc",function(){return Gu});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function c(t){for(let e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function u(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function l(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(l).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=c({__forward_ref__:c});function f(t){return t.__forward_ref__=f,t.toString=function(){return l(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function v(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${b(t)} found${n}`)}function _(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}function w(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function E(t){return{providers:t.providers||[],imports:t.imports||[]}}function S(t){return C(t,T)||C(t,I)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function O(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(k))?t[x]:null}const T=c({"\u0275prov":c}),x=c({"\u0275inj":c}),I=c({ngInjectableDef:c}),k=c({ngInjectorDef:c});var A=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let D;function R(t){const e=D;return D=t,e}function j(t,e,n){const r=S(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&A.Optional?null:void 0!==e?e:void v(l(t),"Injector")}function P(t){return{toString:t}.toString()}var N=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const L="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,U=L||B||F||V,q={},H=[],z=[],W=c({"\u0275cmp":c}),Q=c({"\u0275dir":c}),$=c({"\u0275pipe":c}),K=c({"\u0275mod":c}),G=c({"\u0275loc":c}),Y=c({"\u0275fac":c}),Z=c({__NG_ELEMENT_ID__:c});let X=0;function J(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=X++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(et):null,n})}function tt(t){return ct(t)||function(t){return t[Q]||null}(t)}function et(t){return function(t){return t[$]||null}(t)}const nt={};function rt(t){const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{nt[t.id]=t.type}),e}function it(t,e){return P(()=>{const n=ut(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function st(t,e){if(null==t)return q;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ot=J;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[W]||null}function ut(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${l(t)} does not have '\u0275mod' property.`);return n}const lt=20,ht=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function ft(t){return Array.isArray(t)&&!0===t[1]}function pt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function gt(t){return 1==(1&t.flags)}function yt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}class vt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return wt}function wt(t){return t.type.prototype.ngOnChanges&&(t.setInput=St),Et}function Et(){const t=Ct(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===q)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function St(t,e,n,r){const i=Ct(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:q,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new vt(c&&c.currentValue,e,o===q),t[r]=e}function Ct(t){return t.__ngSimpleChanges__||null}_t.ngInherit=!0;const Ot="http://www.w3.org/2000/svg";let Tt;function xt(t){Tt=t}function It(){return void 0!==Tt?Tt:"undefined"!=typeof document?document:void 0}function kt(t){return!!t.listen}const At={createRenderer:(t,e)=>It()};function Dt(t){for(;Array.isArray(t);)t=t[0];return t}function Rt(t,e){return Dt(e[t])}function jt(t,e){return Dt(e[t.index])}function Pt(t,e){return t.data[e]}function Nt(t,e){return t[e]}function Mt(t,e){const n=e[t];return dt(n)?n:n[0]}function Lt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ft(t){return 4==(4&t[2])}function Vt(t){return 128==(128&t[2])}function Bt(t,e){return null==e?null:t[e]}function Ut(t){t[18]=0}function qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Ht={lFrame:ge(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zt(){return Ht.bindingsEnabled}function Wt(){return Ht.lFrame.lView}function Qt(){return Ht.lFrame.tView}function $t(t){Ht.lFrame.contextLView=t}function Kt(){let t=Gt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Gt(){return Ht.lFrame.currentTNode}function Yt(){const t=Ht.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Zt(t,e){const n=Ht.lFrame;n.currentTNode=t,n.isParent=e}function Xt(){return Ht.lFrame.isParent}function Jt(){Ht.lFrame.isParent=!1}function te(){return Ht.isInCheckNoChangesMode}function ee(t){Ht.isInCheckNoChangesMode=t}function ne(){const t=Ht.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function re(){return Ht.lFrame.bindingIndex}function ie(){return Ht.lFrame.bindingIndex++}function se(t){const e=Ht.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function oe(t){Ht.lFrame.inI18n=t}function ae(t,e){const n=Ht.lFrame;n.bindingIndex=n.bindingRootIndex=t,ce(e)}function ce(t){Ht.lFrame.currentDirectiveIndex=t}function ue(t){const e=Ht.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function le(){return Ht.lFrame.currentQueryIndex}function he(t){Ht.lFrame.currentQueryIndex=t}function de(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function fe(t,e,n){if(n&A.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&A.Host||(r=de(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Ht.lFrame=me();return r.currentTNode=e,r.lView=t,!0}function pe(t){const e=me(),n=t[1];Ht.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function me(){const t=Ht.lFrame,e=null===t?null:t.child;return null===e?ge(t):e}function ge(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ye(){const t=Ht.lFrame;return Ht.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const be=ye;function ve(){const t=ye();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _e(){return Ht.lFrame.selectedIndex}function we(t){Ht.lFrame.selectedIndex=t}function Ee(){const t=Ht.lFrame;return Pt(t.tView,t.selectedIndex)}function Se(){Ht.lFrame.currentNamespace=Ot}function Ce(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Oe(t,e,n){Ie(t,e,3,n)}function Te(t,e,n,r){(3&t[2])===n&&Ie(t,e,n,r)}function xe(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ie(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(ke(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function ke(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const Ae=-1;class De{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Re(t,e,n){const r=kt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];Pe(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function je(t){return 3===t||4===t||6===t}function Pe(t){return 64===t.charCodeAt(0)}function Ne(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Me(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Me(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Le(t){return t!==Ae}function Fe(t){return 32767&t}function Ve(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Be=!0;function Ue(t){const e=Be;return Be=t,e}let qe=0;function He(t,e){const n=We(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ze(r.data,t),ze(e,null),ze(r.blueprint,null));const i=Qe(t,e),s=t.injectorIndex;if(Le(i)){const t=Fe(i),n=Ve(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function ze(t,e){t.push(0,0,0,0,0,0,0,0,e)}function We(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Qe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ae;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ae}function $e(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Z)&&(r=n[Z]),null==r&&(r=n[Z]=qe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ke(t,e,n){if(n&A.Optional)return t;v(e,"NodeInjector")}function Ge(t,e,n,r){if(n&A.Optional&&void 0===r&&(r=null),0==(n&(A.Self|A.Host))){const i=t[9],s=R(void 0);try{return i?i.get(e,r,n&A.Optional):j(e,r,n&A.Optional)}finally{R(s)}}return Ke(r,e,n)}function Ye(t,e,n,r=A.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Z)?t[Z]:void 0;return"number"==typeof e?e>=0?255&e:Xe:e}(n);if("function"==typeof s){if(!fe(e,t,r))return r&A.Host?Ke(i,n,r):Ge(e,n,r,i);try{const t=s();if(null!=t||r&A.Optional)return t;v(n)}finally{be()}}else if("number"==typeof s){let i=null,o=We(t,e),a=Ae,c=r&A.Host?e[16][6]:null;for((-1===o||r&A.SkipSelf)&&(a=-1===o?Qe(t,e):e[o+8],a!==Ae&&rn(r,!1)?(i=e[1],o=Fe(a),e=Ve(a,e)):o=-1);-1!==o;){const t=e[1];if(nn(s,o,t.data)){const t=Je(o,e,n,i,r,c);if(t!==Ze)return t}a=e[o+8],a!==Ae&&rn(r,e[1].data[o+8]===c)&&nn(s,o,e)?(i=t,o=Fe(a),e=Ve(a,e)):o=-1}}}return Ge(e,n,r,i)}const Ze={};function Xe(){return new sn(Kt(),Wt())}function Je(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=tn(a,o,n,null==r?mt(a)&&Be:r!=o&&0!=(3&a.type),i&A.Host&&s===a);return null!==c?en(e,o,c,a):Ze}function tn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,l=i?a+u:t.directiveEnd;for(let h=r?a:a+u;h<l;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=o[c];if(t&&yt(t)&&t.type===n)return c}return null}function en(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof De){const o=i;o.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(b(s[n]));const a=Ue(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?R(o.injectImpl):null;fe(t,r,A.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=wt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&R(c),Ue(a),o.resolving=!1,be()}}return i}function nn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function rn(t,e){return!(t&A.Self||t&A.Host&&e)}class sn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ye(this._tNode,this._lView,t,void 0,e)}}function on(t){return P(()=>{const e=t.prototype.constructor,n=e[Y]||an(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Y]||an(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function an(t){return m(t)?()=>{const e=an(p(t));return e&&e()}:bt(t)}function cn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(je(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Kt(),t)}const un="__parameters__";function ln(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(un)?t[un]:Object.defineProperty(t,un,{value:[]})[un];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class hn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=w({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const dn=new hn("AnalyzeForEntryComponents"),fn=Function;function pn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),pn(r,e)):e!==t&&e.push(r)}return e}function mn(t,e){t.forEach(t=>Array.isArray(t)?mn(t,e):e(t))}function gn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function vn(t,e,n){let r=wn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function _n(t,e){const n=wn(t,e);if(n>=0)return t[1|n]}function wn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const En={},Sn=/\n/gm,Cn="__source",On=c({provide:String,useValue:c});let Tn;function xn(t){const e=Tn;return Tn=t,e}function In(t,e=A.Default){if(void 0===Tn)throw new Error("inject() must be called from an injection context");return null===Tn?j(t,void 0,e):Tn.get(t,e&A.Optional?null:void 0,e)}function kn(t,e=A.Default){return(D||In)(p(t),e)}const An=kn;function Dn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=A.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(kn(t,n))}else e.push(kn(r))}return e}function Rn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const jn=Rn(ln("Inject",t=>({token:t})),-1),Pn=Rn(ln("Optional"),8),Nn=Rn(ln("SkipSelf"),4);let Mn;function Ln(t){var e;return(null===(e=function(){if(void 0===Mn&&(Mn=null,U.trustedTypes))try{Mn=U.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Mn}())||void 0===e?void 0:e.createHTML(t))||t}class Fn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Vn extends Fn{getTypeName(){return"HTML"}}class Bn extends Fn{getTypeName(){return"Style"}}class Un extends Fn{getTypeName(){return"Script"}}class qn extends Fn{getTypeName(){return"URL"}}class Hn extends Fn{getTypeName(){return"ResourceURL"}}function zn(t){return t instanceof Fn?t.changingThisBreaksApplicationSecurity:t}function Wn(t,e){const n=Qn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Qn(t){return t instanceof Fn&&t.getTypeName()||null}function $n(t){return new Vn(t)}function Kn(t){return new Bn(t)}function Gn(t){return new Un(t)}function Yn(t){return new qn(t)}function Zn(t){return new Hn(t)}function Xn(t){const e=new tr(t);return function(){try{return!!(new window.DOMParser).parseFromString(Ln(""),"text/html")}catch(t){return!1}}()?new Jn(e):e}class Jn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Ln(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class tr{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Ln(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Ln(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const er=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,nr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function rr(t){return(t=String(t)).match(er)||t.match(nr)?t:"unsafe:"+t}function ir(t){return(t=String(t)).split(",").map(t=>rr(t.trim())).join(", ")}function sr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function or(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const ar=sr("area,br,col,hr,img,wbr"),cr=sr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ur=sr("rp,rt"),lr=or(ur,cr),hr=or(ar,or(cr,sr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),or(ur,sr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),lr),dr=sr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fr=sr("srcset"),pr=or(dr,fr,sr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),sr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),mr=sr("script,style,template");class gr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!hr.hasOwnProperty(e))return this.sanitizedSomething=!0,!mr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!pr.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=t.value;dr[i]&&(s=rr(s)),fr[i]&&(s=ir(s)),this.buf.push(" ",e,'="',vr(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();hr.hasOwnProperty(e)&&!ar.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(vr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const yr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,br=/([^\#-~ |!])/g;function vr(t){return t.replace(/&/g,"&amp;").replace(yr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(br,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _r;function wr(t,e){let n=null;try{_r=_r||Xn(t);let r=e?String(e):"";n=_r.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=_r.getInertBodyElement(r)}while(r!==s);return Ln((new gr).sanitizeChildren(Er(n)||n))}finally{if(n){const t=Er(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function Er(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Sr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Cr(t){const e=function(){const t=Wt();return t&&t[12]}();return e?e.sanitize(Sr.URL,t)||"":Wn(t,"URL")?zn(t):rr(y(t))}function Or(t){return t.ngDebugContext}function Tr(t){return t.ngOriginalError}function xr(t,...e){t.error(...e)}class Ir{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||xr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Or(t)?Or(t):this._findContext(Tr(t)):null}_findOriginalError(t){let e=Tr(t);for(;e&&Tr(e);)e=Tr(e);return e}}const kr=/^>|^->|<!--|-->|--!>|<!-$/g,Ar=/(<|>)/;function Dr(t,e){t.__ngContext__=e}const Rr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(U))();function jr(t){return t instanceof Function?t():t}var Pr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Nr;function Mr(t,e){return Nr(t,e)}function Lr(t){const e=t[3];return ft(e)?e[3]:e}function Fr(t){return Br(t[13])}function Vr(t){return Br(t[4])}function Br(t){for(;null!==t&&!ft(t);)t=t[4];return t}function Ur(t,e,n,r,i){if(null!=r){let s,o=!1;ft(r)?s=r:dt(r)&&(o=!0,r=r[0]);const a=Dt(r);0===t&&null!==n?null==i?Jr(e,n,a):Xr(e,n,a,i||null,!0):1===t&&null!==n?Xr(e,n,a,i||null,!0):2===t?hi(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Dt(n)&&Ur(e,t,r,s,i);for(let o=ht;o<n.length;o++){const i=n[o];fi(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function qr(t,e){return kt(t)?t.createText(e):t.createTextNode(e)}function Hr(t,e,n){kt(t)?t.setValue(e,n):e.textContent=n}function zr(t,e){return t.createComment(function(t){return t.replace(kr,t=>t.replace(Ar,"\u200b$1\u200b"))}(e))}function Wr(t,e,n){return kt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Qr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,qt(i,-1)),n.splice(r,1)}function $r(t,e){if(t.length<=ht)return;const n=ht+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Qr(s,r),e>0&&(t[n-1][4]=r[4]);const o=yn(t,ht+e);fi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Kr(t,e){if(!(256&e[2])){const n=e[11];kt(n)&&n.destroyNode&&fi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Gr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Gr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Gr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Gr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof De)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Dt(e[t]),a=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&kt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ft(e[3])){n!==e[3]&&Qr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Yr(t,e,n){return Zr(t,e.parent,n)}function Zr(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return jt(r,n)}function Xr(t,e,n,r,i){kt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Jr(t,e,n){kt(t)?t.appendChild(e,n):e.appendChild(n)}function ti(t,e,n,r,i){null!==r?Xr(t,e,n,r,i):Jr(t,e,n)}function ei(t,e){return kt(t)?t.parentNode(e):e.parentNode}function ni(t,e,n){return si(t,e,n)}function ri(t,e,n){return 40&t.type?jt(t,n):null}let ii,si=ri;function oi(t,e){si=t,ii=e}function ai(t,e,n,r){const i=Yr(t,r,e),s=e[11],o=ni(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)ti(s,i,n[a],o,!1);else ti(s,i,n,o,!1);void 0!==ii&&ii(s,r,e,n,i)}function ci(t,e){if(null!==e){const n=e.type;if(3&n)return jt(e,t);if(4&n)return li(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return ci(t,n);{const n=t[e.index];return ft(n)?li(-1,n):Dt(n)}}if(32&n)return Mr(e,t)()||Dt(t[e.index]);{const n=ui(t,e);return null!==n?Array.isArray(n)?n[0]:ci(Lr(t[16]),n):ci(t,e.next)}}return null}function ui(t,e){return null!==e?t[16][6].projection[e.projection]:null}function li(t,e){const n=ht+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return ci(t,r)}return e[7]}function hi(t,e,n){const r=ei(t,e);r&&function(t,e,n,r){kt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function di(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&Dr(Dt(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)di(t,e,n.child,r,i,s,!1),Ur(e,t,i,a,s);else if(32&c){const o=Mr(n,r);let c;for(;c=o();)Ur(e,t,i,c,s);Ur(e,t,i,a,s)}else 16&c?pi(t,e,r,n,i,s):Ur(e,t,i,a,s);n=o?n.projectionNext:n.next}}function fi(t,e,n,r,i,s){di(n,r,t.firstChild,e,i,s,!1)}function pi(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Ur(e,t,i,a[c],s);else di(t,e,a,o[3],i,s,!0)}function mi(t,e,n){kt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function gi(t,e,n){kt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function yi(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const bi="ng-template";function vi(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==yi(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function _i(t){return 4===t.type&&t.value!==bi}function wi(t,e,n){return e===(4!==t.type||n?t.value:bi)}function Ei(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(je(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!wi(t,c,n)||""===c&&1===e.length){if(Si(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!vi(t.attrs,u,n)){if(Si(r))return!1;o=!0}continue}const l=Ci(8&r?"class":c,i,_i(t),n);if(-1===l){if(Si(r))return!1;o=!0;continue}if(""!==u){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==yi(e,u,0)||2&r&&u!==t){if(Si(r))return!1;o=!0}}}}else{if(!o&&!Si(r)&&!Si(c))return!1;if(o&&Si(c))continue;o=!1,r=c|1&r}}return Si(r)||o}function Si(t){return 0==(1&t)}function Ci(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Oi(t,e,n=!1){for(let r=0;r<e.length;r++)if(Ei(t,e[r],n))return!0;return!1}function Ti(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function xi(t,e){return t?":not("+e.trim()+")":e}function Ii(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||Si(o)||(e+=xi(s,i),i=""),r=o,s=s||!Si(r);n++}return""!==i&&(e+=xi(s,i)),e}const ki={};function Ai(t){Di(Qt(),Wt(),_e()+t,te())}function Di(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Oe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Te(e,r,0,n)}we(n)}function Ri(t,e){return t<<17|e<<2}function ji(t){return t>>17&32767}function Pi(t){return 2|t}function Ni(t){return(131068&t)>>2}function Mi(t,e){return-131069&t|e<<2}function Li(t){return 1|t}function Fi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];he(i),n.contentQueries(2,e[s],s)}}}function Vi(t,e,n,r,i,s,o,a,c,u){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ut(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=c||t&&t[12]||null,l[9]=u||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Bi(t,e,n,r,i){let s=t.data[e];if(null===s)s=Ui(t,e,n,r,i),Ht.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=Yt();s.injectorIndex=null===t?-1:t.injectorIndex}return Zt(s,!0),s}function Ui(t,e,n,r,i){const s=Gt(),o=Xt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}function qi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Hi(t,e,n){pe(e);try{const r=t.viewQuery;null!==r&&_s(1,r,n);const i=t.template;null!==i&&Qi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Fi(t,e),t.staticViewQueries&&_s(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)ms(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ve()}}function zi(t,e,n,r){const i=e[2];if(256==(256&i))return;pe(e);const s=te();try{Ut(e),Ht.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Qi(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Oe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Te(e,n,0,null),xe(e,0)}if(function(t){for(let e=Fr(t);null!==e;e=Vr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Fr(t);null!==e;e=Vr(e))for(let t=ht;t<e.length;t++){const n=e[t],r=n[1];Vt(n)&&zi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Fi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Oe(e,n)}else{const n=t.contentHooks;null!==n&&Te(e,n,1),xe(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)we(~r);else{const i=r,s=n[++t],o=n[++t];ae(s,i),o(2,e[i])}}}finally{we(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)fs(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&_s(2,c,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Oe(e,n)}else{const n=t.viewHooks;null!==n&&Te(e,n,2),xe(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qt(e[3],-1))}finally{ve()}}function Wi(t,e,n,r){const i=e[10],s=!te(),o=Ft(e);try{s&&!o&&i.begin&&i.begin(),o&&Hi(t,e,r),zi(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Qi(t,e,n,r,i){const s=_e();try{we(-1),2&r&&e.length>lt&&Di(t,e,lt,te()),n(r,i)}finally{we(s)}}function $i(t,e,n){if(pt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ki(t,e,n){zt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||He(n,e),Dr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=yt(r);s&&cs(e,n,r);const c=en(e,t,a,n);Dr(c,e),null!==o&&ls(0,a-i,c,r,0,o),s&&(Mt(n.index,e)[8]=c)}}(t,e,n,jt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Ht.lFrame.currentDirectiveIndex;try{we(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ce(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||rs(r,i)}}finally{we(-1),ce(o)}}(t,e,n))}function Gi(t,e,n=jt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Yi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Zi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Zi(t,e,n,r,i,s,o,a,c,u){const l=lt+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ki);return n}(l,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Xi(t,e,n,r){const i=Es(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Ss(t).push(r,i.length-1))}function Ji(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ts(t,e,n,r,i,s,o,a){const c=jt(e,n);let u,l=e.inputs;var h;!a&&null!=l&&(u=l[r])?(Ts(t,n,u,r,i),mt(e)&&function(t,e){const n=Mt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,kt(s)?s.setProperty(c,r,i):Pe(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function es(t,e,n,r){let i=!1;if(zt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];Oi(n,o.selectors,!1)&&(i||(i=[]),$e(He(n,e),t,o.type),yt(o)?(is(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,os(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,c=qi(t,e,s.length,null);for(let i=0;i<s.length;i++){const u=s[i];n.mergedAttrs=Ne(n.mergedAttrs,u.hostAttrs),as(t,n,e,c,u),ss(c,u,o),null!==u.contentQueries&&(n.flags|=8),null===u.hostBindings&&null===u.hostAttrs&&0===u.hostVars||(n.flags|=128);const l=u.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,u=null===i||_i(e)?null:hs(n,i);s.push(u),o=Ji(n,c,o),a=Ji(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new g("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ne(n.mergedAttrs,n.attrs),i}function ns(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function rs(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function is(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ss(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yt(e)&&(n[""]=t)}}function os(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function as(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=bt(i.type)),o=new De(s,yt(i),null);t.blueprint[r]=o,n[r]=o,ns(t,e,0,r,qi(t,n,i.hostVars,ki),i)}function cs(t,e,n){const r=jt(e,t),i=Yi(n),s=t[10],o=gs(t,Vi(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function us(t,e,n,r,i,s,o){if(null==s)kt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);kt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}function ls(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function hs(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function ds(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function fs(t,e){const n=Mt(e,t);if(Vt(n)){const t=n[1];80&n[2]?zi(t,n,t.template,n[8]):n[5]>0&&ps(n)}}function ps(t){for(let n=Fr(t);null!==n;n=Vr(n))for(let t=ht;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];zi(t,e,t.template,e[8])}else e[5]>0&&ps(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Mt(e[n],t);Vt(r)&&r[5]>0&&ps(r)}}function ms(t,e){const n=Mt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Hi(r,n,n[8])}function gs(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ys(t){for(;t;){t[2]|=64;const e=Lr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function bs(t,e,n){const r=e[10];r.begin&&r.begin();try{zi(t,e,t.template,n)}catch(i){throw Os(e,i),i}finally{r.end&&r.end()}}function vs(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Lt(n),i=r[1];Wi(i,r,i.template,n)}}(t[8])}function _s(t,e,n){he(0),e(t,n)}const ws=(()=>Promise.resolve(null))();function Es(t){return t[7]||(t[7]=[])}function Ss(t){return t.cleanup||(t.cleanup=[])}function Cs(t,e,n){return(null===t||yt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function Os(t,e){const n=t[9],r=n?n.get(Ir,null):null;r&&r.handleError(e)}function Ts(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],u=t.data[o];null!==u.setInput?u.setInput(c,i,r,a):c[a]=i}}function xs(t,e,n){const r=Rt(e,t);Hr(t[11],r,n)}function Is(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ks=new hn("INJECTOR",-1);class As{get(t,e=En){if(e===En){const e=new Error(`NullInjectorError: No provider for ${l(t)}!`);throw e.name="NullInjectorError",e}return e}}const Ds=new hn("Set Injector scope."),Rs={},js={},Ps=[];let Ns;function Ms(){return void 0===Ns&&(Ns=new As),Ns}function Ls(t,e=null,n=null,r){return new Fs(t,n,e||Ms(),r)}class Fs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&mn(e,n=>this.processProvider(n,t,e)),mn([t],t=>this.processInjectorType(t,[],i)),this.records.set(ks,Us(void 0,this));const s=this.records.get(Ds);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:l(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=En,n=A.Default){this.assertNotDestroyed();const r=xn(this);try{if(!(n&A.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof hn)&&S(t);e=n&&this.injectableDefInScope(n)?Us(Vs(t),Rs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&A.Self?Ms():this.parent).get(t,e=n&A.Optional&&e===En?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(l(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Cn]&&i.unshift(e[Cn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=l(e);if(Array.isArray(e))i=e.map(l).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):l(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Sn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{xn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(l(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=O(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=O(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{mn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];mn(r,t=>this.processProvider(t,n,r||Ps))}}this.injectorDefTypes.add(s);const a=bt(s)||(()=>new s);this.records.set(s,Us(a,Rs));const c=r.providers;if(null!=c&&!o){const e=t;mn(c,t=>this.processProvider(t,e,c))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Hs(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return qs(t)?Us(void 0,t.useValue):Us(Bs(t),Rs)}(t);if(Hs(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Us(void 0,Rs,!0),e.factory=()=>Dn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Rs&&(e.value=js,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function Vs(t){const e=S(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;if(t instanceof hn)throw new Error(`Token ${l(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=bn(e,"?");throw new Error(`Can't resolve all parameters for ${l(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[T]||t[I]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Bs(t,e,n){let r;if(Hs(t)){const e=p(t);return bt(e)||Vs(e)}if(qs(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Dn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>kn(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||Vs(e);r=()=>new e(...Dn(t.deps))}var i;return r}function Us(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function qs(t){return null!==t&&"object"==typeof t&&On in t}function Hs(t){return"function"==typeof t}const zs=function(t,e,n){return function(t,e=null,n=null,r){const i=Ls(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Ws=(()=>{class t{static create(t,e){return Array.isArray(t)?zs(t,e,""):zs(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=En,t.NULL=new As,t.\u0275prov=w({token:t,providedIn:"any",factory:()=>kn(ks)}),t.__NG_ELEMENT_ID__=-1,t})();function Qs(t,e){Ce(Lt(t)[1],Kt())}function $s(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(yt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Ks(t.inputs),e.declaredInputs=Ks(t.declaredInputs),e.outputs=Ks(t.outputs);const n=i.hostBindings;n&&Zs(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Gs(t,s),o&&Ys(t,o),u(t.inputs,i.inputs),u(t.declaredInputs,i.declaredInputs),u(t.outputs,i.outputs),yt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===$s&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ne(i.hostAttrs,n=Ne(n,i.hostAttrs))}}(r)}function Ks(t){return t===q?{}:t===z?[]:t}function Gs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ys(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Zs(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Xs=null;function Js(){if(!Xs){const t=U.Symbol;if(t&&t.iterator)Xs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Xs=n)}}}return Xs}class to{constructor(t){this.wrapped=t}static wrap(t){return new to(t)}static unwrap(t){return to.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof to}}function eo(t){return!!no(t)&&(Array.isArray(t)||!(t instanceof Map)&&Js()in t)}function no(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ro(t,e,n){return t[e]=n}function io(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function so(t,e,n,r){const i=io(t,e,n);return io(t,e+1,r)||i}function oo(t,e,n,r){const i=Wt();return io(i,ie(),e)&&(Qt(),function(t,e,n,r,i,s){const o=jt(t,e);us(e[11],o,s,t.value,n,r,i)}(Ee(),i,t,e,n,r)),oo}function ao(t,e,n,r){return io(t,ie(),n)?e+y(n)+r:ki}function co(t,e,n,r,i,s,o,a){const c=Wt(),u=Qt(),l=t+lt,h=u.firstCreatePass?function(t,e,n,r,i,s,o,a,c){const u=e.consts,l=Bi(e,t,4,o||null,Bt(u,a));es(e,n,l,Bt(u,c)),Ce(e,l);const h=l.tViews=Zi(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,u,c,e,n,r,i,s,o):u.data[l];Zt(h,!1);const d=c[11].createComment("");ai(u,c,d,h),Dr(d,c),gs(c,c[l]=ds(d,c,d,h)),gt(h)&&Ki(u,c,h),null!=o&&Gi(c,h,a)}function uo(t){return Nt(Ht.lFrame.contextLView,lt+t)}function lo(t,e=A.Default){const n=Wt();return null===n?kn(t,e):Ye(Kt(),n,p(t),e)}function ho(t,e,n){const r=Wt();return io(r,ie(),e)&&ts(Qt(),Ee(),r,t,e,r[11],n,!1),ho}function fo(t,e,n,r,i){const s=i?"class":"style";Ts(t,n,e.inputs[s],s,r)}function po(t,e,n,r){const i=Wt(),s=Qt(),o=lt+t,a=i[11],c=i[o]=Wr(a,e,Ht.lFrame.currentNamespace),u=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=Bi(e,t,2,i,Bt(a,s));return es(e,n,c,Bt(a,o)),null!==c.attrs&&Is(c,c.attrs,!1),null!==c.mergedAttrs&&Is(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];Zt(u,!0);const l=u.mergedAttrs;null!==l&&Re(a,c,l);const h=u.classes;null!==h&&gi(a,c,h);const d=u.styles;null!==d&&mi(a,c,d),64!=(64&u.flags)&&ai(s,i,c,u),0===Ht.lFrame.elementDepthCount&&Dr(c,i),Ht.lFrame.elementDepthCount++,gt(u)&&(Ki(s,i,u),$i(s,u,i)),null!==r&&Gi(i,u)}function mo(){let t=Kt();Xt()?Jt():(t=t.parent,Zt(t,!1));const e=t;Ht.lFrame.elementDepthCount--;const n=Qt();n.firstCreatePass&&(Ce(n,t),pt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&fo(n,e,Wt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&fo(n,e,Wt(),e.stylesWithoutHost,!1)}function go(t,e,n,r){po(t,e,n,r),mo()}function yo(t,e,n){const r=Wt(),i=Qt(),s=t+lt,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Bt(s,r),a=Bi(e,t,8,"ng-container",o);return null!==o&&Is(a,o,!0),es(e,n,a,Bt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Zt(o,!0);const a=r[s]=r[11].createComment("");ai(i,r,a,o),Dr(a,r),gt(o)&&(Ki(i,r,o),$i(i,o,r)),null!=n&&Gi(r,o)}function bo(){let t=Kt();const e=Qt();Xt()?Jt():(t=t.parent,Zt(t,!1)),e.firstCreatePass&&(Ce(e,t),pt(t)&&e.queries.elementEnd(t))}function vo(t,e,n){yo(t,e,n),bo()}function _o(){return Wt()}function wo(t){return!!t&&"function"==typeof t.then}function Eo(t){return!!t&&"function"==typeof t.subscribe}const So=Eo;function Co(t,e,n=!1,r){const i=Wt(),s=Qt(),o=Kt();return To(s,i,i[11],o,t,e,n,r),Co}function Oo(t,e,n=!1,r){const i=Kt(),s=Wt(),o=Qt();return To(o,s,Cs(ue(o.data),i,s),i,t,e,n,r),Oo}function To(t,e,n,r,i,s,o=!1,a){const c=gt(r),u=t.firstCreatePass&&Ss(t),l=Es(e);let h=!0;if(3&r.type){const d=jt(r,e),f=a?a(d):q,p=f.target||d,m=l.length,g=a?t=>a(Dt(t[r.index])).target:r.index;if(kt(n)){let o=null;if(!a&&c&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=Io(r,e,s,!1);const t=n.listen(f.name||p,i,s);l.push(s,t),u&&u.push(i,g,m,m+1)}}else s=Io(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),u&&u.push(i,g,m,o)}else s=Io(r,e,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=l.length;l.push(s,t),u&&u.push(i,r.index,o,-(o+1))}}}function xo(t,e,n){try{return!1!==e(n)}catch(r){return Os(t,r),!1}}function Io(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Mt(t.index,e):e;0==(32&e[2])&&ys(o);let a=xo(e,n,s),c=i.__ngNextListenerFn__;for(;c;)a=xo(e,c,s)&&a,c=c.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function ko(t=1){return function(t){return(Ht.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ht.lFrame.contextLView))[8]}(t)}function Ao(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?Oi(t,s,!0):Ti(r,s))return i}else n=i}return n}function Do(t){const e=Wt()[16][6];if(!e.projection){const n=e.projection=bn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?Ao(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function Ro(t,e=0,n){const r=Wt(),i=Qt(),s=Bi(i,lt+t,16,null,n||null);null===s.projection&&(s.projection=e),Jt(),64!=(64&s.flags)&&function(t,e,n){pi(e[11],0,e,n,Yr(t,n,e),ni(n.parent||e[6],n,e))}(i,r,s)}function jo(t,e,n){return Po(t,"",e,"",n),jo}function Po(t,e,n,r,i){const s=Wt(),o=ao(s,e,n,r);return o!==ki&&ts(Qt(),Ee(),s,t,o,s[11],i,!1),Po}function No(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ji(s):Ni(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];Mo(t[a],e)&&(c=!0,t[a+1]=r?Li(n):Pi(n)),a=r?ji(n):Ni(n)}c&&(t[n+1]=r?Pi(s):Li(s))}function Mo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&wn(t,e)>=0}const Lo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Fo(t){return t.substring(Lo.key,Lo.keyEnd)}function Vo(t,e){const n=Lo.textEnd;return n===e?-1:(e=Lo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Lo.key=e,n),Bo(t,e,n))}function Bo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Uo(t,e,n){return Wo(t,e,n,!1),Uo}function qo(t,e){return Wo(t,e,null,!0),qo}function Ho(t){Qo(vn,zo,t,!0)}function zo(t,e){for(let n=function(t){return function(t){Lo.key=0,Lo.keyEnd=0,Lo.value=0,Lo.valueEnd=0,Lo.textEnd=t.length}(t),Vo(t,Bo(t,0,Lo.textEnd))}(e);n>=0;n=Vo(e,n))vn(t,Fo(e),!0)}function Wo(t,e,n,r){const i=Wt(),s=Qt(),o=se(2);s.firstUpdatePass&&Ko(s,t,o,r),e!==ki&&io(i,o,e)&&Zo(s,s.data[_e()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=l(zn(t)))),t}(e,n),r,o)}function Qo(t,e,n,r){const i=Qt(),s=se(2);i.firstUpdatePass&&Ko(i,null,s,r);const o=Wt();if(n!==ki&&io(o,s,n)){const a=i.data[_e()];if(ta(a,r)&&!$o(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=h(t,n||"")),fo(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===ki&&(i=H);let c=0,u=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const d=c<i.length?i[c+1]:void 0,f=u<s.length?s[u+1]:void 0;let p,m=null;l===h?(c+=2,u+=2,d!==f&&(m=h,p=f)):null===h||null!==l&&l<h?(c+=2,m=l):(u+=2,m=h,p=f),null!==m&&Zo(t,e,n,r,m,p,o,a),l=c<i.length?i[c]:null,h=u<s.length?s[u]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return H;const r=[],i=zn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function $o(t,e){return e>=t.expandoStartIndex}function Ko(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[_e()],o=$o(t,n);ta(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=ue(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Yo(n=Go(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Go(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ni(r))return t[ji(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Go(null,t,e,n[1],r),n=Yo(n,e.attrs,r),function(t,e,n,r){t[ji(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Yo(r,t[s].hostAttrs,n);return Yo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ji(o),c=Ni(o);t[r]=n;let u,l=!1;if(Array.isArray(n)){const t=n;u=t[1],(null===u||wn(t,u)>0)&&(l=!0)}else u=n;if(i)if(0!==c){const e=ji(t[a+1]);t[r+1]=Ri(e,a),0!==e&&(t[e+1]=Mi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Ri(a,0),0!==a&&(t[a+1]=Mi(t[a+1],r)),a=r;else t[r+1]=Ri(c,0),0===a?a=r:t[c+1]=Mi(t[c+1],r),c=r;l&&(t[r+1]=Pi(t[r+1])),No(t,u,r,!0),No(t,u,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&wn(s,e)>=0&&(n[r+1]=Li(n[r+1]))}(e,u,t,r,s),o=Ri(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Go(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Yo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Yo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Zo(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,u=c[a+1];Jo(1==(1&u)?Xo(c,e,n,i,Ni(u),o):void 0)||(Jo(s)||2==(2&u)&&(s=Xo(c,null,n,i,a,o)),function(t,e,n,r,i){const s=kt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:Pr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=Pr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Rt(_e(),n),i,s))}function Xo(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),c=s?e[1]:e,u=null===c;let l=n[i+1];l===ki&&(l=u?H:void 0);let h=u?_n(l,r):c===r?l:void 0;if(s&&!Jo(h)&&(h=_n(e,r)),Jo(h)&&(a=h,o))return a;const d=t[i+1];i=o?ji(d):Ni(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=_n(t,r))}return a}function Jo(t){return void 0!==t}function ta(t,e){return 0!=(t.flags&(e?16:32))}function ea(t,e=""){const n=Wt(),r=Qt(),i=t+lt,s=r.firstCreatePass?Bi(r,i,1,e,null):r.data[i],o=n[i]=qr(n[11],e);ai(r,n,o,s),Zt(s,!1)}function na(t){return ra("",t,""),na}function ra(t,e,n){const r=Wt(),i=ao(r,t,e,n);return i!==ki&&xs(r,_e(),i),ra}function ia(t,e,n,r,i){const s=Wt(),o=function(t,e,n,r,i,s){const o=so(t,re(),n,i);return se(2),o?e+y(n)+r+y(i)+s:ki}(s,t,e,n,r,i);return o!==ki&&xs(s,_e(),o),ia}function sa(t,e,n){Qo(vn,zo,ao(Wt(),t,e,n),!0)}function oa(t,e,n,r,i,s,o,a,c){Qo(vn,zo,function(t,e,n,r,i,s,o,a,c,u){const l=function(t,e,n,r,i,s){const o=so(t,e,n,r);return so(t,e+2,i,s)||o}(t,re(),n,i,o,c);return se(4),l?e+y(n)+r+y(i)+s+y(o)+a+y(c)+u:ki}(Wt(),t,e,n,r,i,s,o,a,c),!0)}function aa(t,e,n){const r=Wt();return io(r,ie(),e)&&ts(Qt(),Ee(),r,t,e,r[11],n,!0),aa}function ca(t,e,n){const r=Wt();if(io(r,ie(),e)){const i=Qt(),s=Ee();ts(i,s,r,t,e,Cs(ue(i.data),s,r),n,!0)}return ca}const ua=void 0;var la=["en",[["a","p"],["AM","PM"],ua],[["AM","PM"],ua,ua],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ua,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ua,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ua,"{1} 'at' {0}",ua],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ha={};function da(t,e,n){"string"!=typeof e&&(n=e,e=t[ya.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ha[e]=t,n&&(ha[e][ya.ExtraData]=n)}function fa(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ga(e);if(n)return n;const r=e.split("-")[0];if(n=ga(r),n)return n;if("en"===r)return la;throw new Error(`Missing locale data for the locale "${t}".`)}function pa(t){return fa(t)[ya.CurrencyCode]||null}function ma(t){return fa(t)[ya.PluralCase]}function ga(t){return t in ha||(ha[t]=U.ng&&U.ng.common&&U.ng.common.locales&&U.ng.common.locales[t]),ha[t]}var ya=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ba=["zero","one","two","few","many"],va="en-US",_a={marker:"element"},wa={marker:"ICU"};var Ea=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}({});let Sa=va;function Ca(t){var e;null==(e=t)&&_("Expected localeId to be defined",e,null,"!="),"string"==typeof t&&(Sa=t.toLowerCase().replace(/_/g,"-"))}function Oa(t,e,n){const r=e.insertBeforeIndex,i=Array.isArray(r)?r[0]:r;return null===i?ri(t,0,n):Dt(n[i])}function Ta(t,e,n,r,i){const s=e.insertBeforeIndex;if(Array.isArray(s)){let o=r,a=null;if(3&e.type||(a=o,o=i),null!==o&&0==(2&e.flags))for(let e=1;e<s.length;e++)Xr(t,o,n[s[e]],a,!1)}}function xa(t,e){if(t.push(e),t.length>1)for(let n=t.length-2;n>=0;n--){const r=t[n];Ia(r)||ka(r,e)&&null===Aa(r)&&Da(r,e.index)}}function Ia(t){return!(64&t.type)}function ka(t,e){return Ia(e)||t.index>e.index}function Aa(t){const e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function Da(t,e){const n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(oi(Oa,Ta),t.insertBeforeIndex=e)}function Ra(t,e){const n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function ja(t,e,n){const r=Ui(t,n,64,null,null);return xa(e,r),r}function Pa(t,e){const n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}let Na=0,Ma=0;function La(t,e,n,r){const i=n[11];let s,o=null;for(let a=0;a<e.length;a++){const c=e[a];if("string"==typeof c){const t=e[++a];null===n[t]&&(n[t]=qr(i,c))}else if("number"==typeof c)switch(1&c){case 0:const u=c>>>17;let l,h;if(null===o&&(o=u,s=ei(i,r)),u===o?(l=r,h=s):(l=null,h=Dt(n[u])),null!==h){const e=(131070&c)>>>1;Xr(i,h,n[e],l,!1);const r=Ra(t,e);if(null!==r&&"object"==typeof r){const e=Pa(r,n);null!==e&&La(t,r.create[e],n,n[r.anchorIdx])}}break;case 1:const d=e[++a],f=e[++a];us(i,Rt(c>>>1,n),null,null,d,f,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case wa:const t=e[++a],r=e[++a];null===n[r]&&Dr(n[r]=zr(i,t),n);break;case _a:const s=e[++a],o=e[++a];null===n[o]&&Dr(n[o]=Wr(i,s,null),n)}}}function Fa(t,e,n,r,i){for(let s=0;s<n.length;s++){const o=n[s],a=n[++s];if(o&i){let i="";for(let o=s+1;o<=s+a;o++){const s=n[o];if("string"==typeof s)i+=s;else if("number"==typeof s)if(s<0)i+=y(e[r-s]);else{const a=s>>>2;switch(3&s){case 1:const s=n[++o],c=n[++o],u=t.data[a];"string"==typeof u?us(e[11],e[a],null,u,s,i,c):ts(t,u,e,s,i,e[11],c,!1);break;case 0:const l=e[a];null!==l&&Hr(e[11],l,i);break;case 2:Ba(t,Ra(t,a),e,i);break;case 3:Va(t,Ra(t,a),r,e)}}}}else{const i=n[s+1];if(i>0&&3==(3&i)){const n=Ra(t,i>>>2);e[n.currentCaseLViewIndex]<0&&Va(t,n,r,e)}}s+=a}}function Va(t,e,n,r){let i=r[e.currentCaseLViewIndex];if(null!==i){let s=Na;i<0&&(i=r[e.currentCaseLViewIndex]=~i,s=-1),Fa(t,r,e.update[i],n,s)}}function Ba(t,e,n,r){const i=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=ma(e)(parseInt(t,10)),r=ba[n];return void 0!==r?r:"other"}(e,Sa);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,r);if(Pa(e,n)!==i&&(Ua(t,e,n),n[e.currentCaseLViewIndex]=null===i?null:~i,null!==i)){const r=n[e.anchorIdx];r&&La(t,e.create[i],n,r)}}function Ua(t,e,n){let r=Pa(e,n);if(null!==r){const i=e.remove[r];for(let e=0;e<i.length;e++){const r=i[e];if(r>0){const t=Rt(r,n);null!==t&&hi(n[11],t)}else Ua(t,Ra(t,~r),n)}}}const qa=/\ufffd(\d+):?\d*\ufffd/gi,Ha=/\ufffd(\d+)\ufffd/,za=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Wa=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Qa=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,$a=/\uE500/g;function Ka(t,e,n,r,i,s,o){const a=qi(t,r,1,null);let c=a<<Ea.SHIFT,u=Yt();e===u&&(u=null),null===u&&(c|=Ea.APPEND_EAGERLY),o&&(c|=Ea.COMMENT,void 0===Nr&&(Nr=function(){const t=[];let e,n,r=-1;function i(t,e){r=0;const i=Pa(t,e);n=null!==i?t.remove[i]:z}function s(){if(r<n.length){const o=n[r++];return o>0?e[o]:(t.push(r,n),i(e[1].data[~o],e),s())}return 0===t.length?null:(n=t.pop(),r=t.pop(),s())}return function(n,r){for(e=r;t.length;)t.pop();return i(n.value,r),s}}())),i.push(c,null===s?"":s);const l=Ui(t,a,o?32:1,null===s?"":s,null);xa(n,l);const h=l.index;return Zt(l,!1),null!==u&&e!==u&&function(t,e){let n=t.insertBeforeIndex;var r;null===n?(oi(Oa,Ta),n=t.insertBeforeIndex=[null,e]):("Expecting array here",(r=Array.isArray(n))!=!0&&_("Expecting array here",r,true,"=="),n.push(e))}(u,h),l}function Ga(t,e,n,r,i,s,o){const a=o.match(qa),c=Ka(t,e,n,s,r,a?null:o,!1);a&&Ya(i,o,c.index)}function Ya(t,e,n,r,i=null){const s=t.length,o=s+1;t.push(null,null);const a=s+2,c=e.split(qa);let u=0;for(let l=0;l<c.length;l++){const e=c[l];if(1&l){const n=parseInt(e,10);t.push(-1-n),u|=Za(n)}else""!==e&&t.push(e)}return t.push(n<<2|(r?1:0)),r&&t.push(r,i),t[s]=u,t[o]=t.length-a,u}function Za(t){return 1<<Math.min(t,31)}function Xa(t){let e,n,r="",i=0,s=!1;for(;null!==(e=Wa.exec(t));)s?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,s=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],s=!0);return r+=t.substr(i),r}function Ja(t,e,n,r,i,s){let o=0;const a={type:i.type,currentCaseLViewIndex:qi(t,e,1,null),anchorIdx:s,cases:[],create:[],remove:[],update:[]};!function(t,e,n){t.push(Za(e.mainBinding),2,-1-e.mainBinding,n<<2|2)}(n,i,s),function(t,e,n){const r=t.data[e];null===r?t.data[e]=n:r.value=n}(t,s,a);const c=i.values;for(let u=0;u<c.length;u++){const s=c[u],l=[];for(let t=0;t<s.length;t++){const e=s[t];if("string"!=typeof e){const n=l.push(e)-1;s[t]=`\x3c!--\ufffd${n}\ufffd--\x3e`}}o=nc(t,a,e,n,r,i.cases[u],s.join(""),l)|o}o&&function(t,e,n){t.push(e,1,n<<2|3)}(n,o,s)}function tc(t){const e=[],n=[];let r=1,i=0;const s=ec(t=t.replace(za,function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""}));for(let o=0;o<s.length;){let t=s[o++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=ec(s[o++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function ec(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(t);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);za.test(n)?r.push(tc(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const o=t.substring(e);return r.push(o),r}function nc(t,e,n,r,i,s,o,a){const c=[],u=[],l=[];e.cases.push(s),e.create.push(c),e.remove.push(u),e.update.push(l);const h=Xn(It()).getInertBodyElement(o),d=Er(h)||h;return d?rc(t,e,n,r,c,u,l,d,i,a,0):0}function rc(t,e,n,r,i,s,o,a,c,u,l){let h=0,d=a.firstChild;for(;d;){const a=qi(t,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:const f=d,p=f.tagName.toLowerCase();if(hr.hasOwnProperty(p)){oc(i,_a,p,c,a),t.data[a]=p;const m=f.attributes;for(let t=0;t<m.length;t++){const e=m.item(t),n=e.name.toLowerCase();e.value.match(qa)?pr.hasOwnProperty(n)&&(dr[n]?Ya(o,e.value,a,e.name,rr):fr[n]?Ya(o,e.value,a,e.name,ir):Ya(o,e.value,a,e.name)):ac(i,a,e)}h=rc(t,e,n,r,i,s,o,d,a,u,l+1)|h,ic(s,a,l)}break;case Node.TEXT_NODE:const m=d.textContent||"",g=m.match(qa);oc(i,null,g?"":m,c,a),ic(s,a,l),g&&(h=Ya(o,m,a)|h);break;case Node.COMMENT_NODE:const y=Ha.exec(d.textContent||"");if(y){const e=u[parseInt(y[1],10)];oc(i,wa,"",c,a),Ja(t,n,r,c,e,a),sc(s,a,l)}}d=d.nextSibling}return h}function ic(t,e,n){0===n&&t.push(e)}function sc(t,e,n){0===n&&(t.push(~e),t.push(e))}function oc(t,e,n,r,i){null!==e&&t.push(e),t.push(n,i,0|r<<17|i<<1)}function ac(t,e,n){t.push(e<<1|1,n.name,n.value)}function cc(t,e,n){(function(t,e,n=-1){const r=Qt(),i=Wt(),s=lt+t,o=Bt(r.consts,e),a=Yt();r.firstCreatePass&&function(t,e,n,r,i,s){const o=Yt(),a=[],c=[],u=[[]],l=(h=i=function(t,e){if(function(t){return-1===t}(e))return Xa(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Xa(t.substring(n,r))}}(i,s),h.replace($a," ")).split(Qa);var h;for(let d=0;d<l.length;d++){let r=l[d];if(0==(1&d)){const s=ec(r);for(let r=0;r<s.length;r++){let l=s[r];if(0==(1&r)){const e=l;""!==e&&Ga(t,o,u[0],a,c,n,e)}else{const r=l;if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${i}" message.`);Ja(t,n,c,e,r,Ka(t,o,u[0],n,a,"",!0).index)}}}else{const e=47===r.charCodeAt(0),n=(r.charCodeAt(e?1:0),lt+Number.parseInt(r.substring(e?2:1)));if(e)u.shift(),Zt(Yt(),!1);else{const e=ja(t,u[0],n);u.unshift([]),Zt(e,!0)}}}t.data[r]={create:a,update:c}}(r,null===a?0:a.index,i,s,o,n);const c=r.data[s],u=Zr(r,a===i[6]?null:a,i);!function(t,e,n,r){const i=t[11];for(let s=0;s<e.length;s++){const o=e[s++],a=e[s],c=(o&Ea.COMMENT)===Ea.COMMENT,u=(o&Ea.APPEND_EAGERLY)===Ea.APPEND_EAGERLY,l=o>>>Ea.SHIFT;let h=t[l];null===h&&(h=t[l]=c?i.createComment(a):qr(i,a)),u&&null!==n&&Xr(i,n,h,r,!1)}}(i,c.create,u,a&&8&a.type?i[a.index]:null),oe(!0)})(t,e,n),oe(!1)}function uc(t){return io(Wt(),ie(),t)&&(Na|=1<<Math.min(Ma,31)),Ma++,uc}function lc(t){!function(t,e,n){if(Ma>0){const r=t.data[n];Fa(t,e,Array.isArray(r)?r:r.update,re()-Ma-1,Na)}Na=0,Ma=0}(Qt(),Wt(),t+lt)}function hc(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)hc(t[s],e,n,r,i);else{const s=Qt(),o=Wt();let a=Hs(t)?t:p(t.provide),c=Bs(t);const u=Kt(),l=1048575&u.providerIndexes,h=u.directiveStart,d=u.providerIndexes>>20;if(Hs(t)||!t.multi){const r=new De(c,i,lo),f=pc(a,e,i?l:l+d,h);-1===f?($e(He(u,o),s,a),dc(s,t,e.length),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=pc(a,e,l+d,h),p=pc(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){$e(He(u,o),s,a);const l=function(t,e,n,r,i){const s=new De(t,n,lo);return s.multi=[],s.index=e,s.componentProviders=0,fc(s,i,r&&!n),s}(i?gc:mc,n.length,i,r,c);!i&&g&&(n[p].providerFactory=l),dc(s,t,e.length,0),e.push(a),u.directiveStart++,u.directiveEnd++,i&&(u.providerIndexes+=1048576),n.push(l),o.push(l)}else dc(s,t,f>-1?f:p,fc(n[i?p:f],c,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function dc(t,e,n,r){const i=Hs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function fc(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function pc(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function mc(t,e,n,r){return yc(this.multi,[])}function gc(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=en(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),yc(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],yc(i,s);return s}function yc(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function bc(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Qt();if(r.firstCreatePass){const i=yt(t);hc(n,r.data,r.blueprint,i,!0),hc(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class vc{}class _c{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${l(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let wc=(()=>{class t{}return t.NULL=new _c,t})();function Ec(...t){}function Sc(t,e){return new Oc(jt(t,e))}const Cc=function(){return Sc(Kt(),Wt())};let Oc=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Cc,t})();function Tc(t){return t instanceof Oc?t.nativeElement:t}class xc{}let Ic=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>kc(),t})();const kc=function(){const t=Wt(),e=Mt(Kt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Ac=(()=>{class t{}return t.\u0275prov=w({token:t,providedIn:"root",factory:()=>null}),t})();class Dc{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Rc=new Dc("11.2.8");class jc{constructor(){}supports(t){return eo(t)}create(t){return new Nc(t)}}const Pc=(t,e)=>e;class Nc{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Pc}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Vc(n,r,i)?e:n,o=Vc(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!eo(t))throw new Error(`Error trying to diff '${l(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Js()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Mc(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Fc),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Fc),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Mc{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Lc{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Fc{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Lc,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Vc(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Bc{constructor(){}supports(t){return t instanceof Map||no(t)}create(){return new Uc}}class Uc{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||no(t)))throw new Error(`Error trying to diff '${l(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new qc(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class qc{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Hc(){return new zc([new jc])}let zc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Hc()),deps:[[t,new Nn,new Pn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=w({token:t,providedIn:"root",factory:Hc}),t})();function Wc(){return new Qc([new Bc])}let Qc=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Wc()),deps:[[t,new Nn,new Pn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=w({token:t,providedIn:"root",factory:Wc}),t})();function $c(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Dt(s)),ft(s))for(let t=ht;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&$c(e[1],e,n,r)}const o=n.type;if(8&o)$c(t,e,n.child,r);else if(32&o){const t=Mr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=ui(e,n);if(Array.isArray(t))r.push(...t);else{const n=Lr(e[16]);$c(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Kc{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return $c(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ft(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&($r(t,n),yn(e,n))}this._attachedToViewContainer=!1}Kr(this._lView[1],this._lView)}onDestroy(t){Xi(this._lView[1],this._lView,null,t)}markForCheck(){ys(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){bs(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ee(!0);try{bs(t,e,n)}finally{ee(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,fi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Gc extends Kc{constructor(t){super(t),this._view=t}detectChanges(){vs(this._view)}checkNoChanges(){!function(t){ee(!0);try{vs(t)}finally{ee(!1)}}(this._view)}get context(){return null}}const Yc=Xc;let Zc=(()=>{class t{}return t.__NG_ELEMENT_ID__=Yc,t.__ChangeDetectorRef__=!0,t})();function Xc(t=!1){return function(t,e,n){if(!n&&mt(t)){const n=Mt(t.index,e);return new Kc(n,n)}return 47&t.type?new Kc(e[16],e):null}(Kt(),Wt(),t)}const Jc=[new Bc],tu=new zc([new jc]),eu=new Qc(Jc),nu=function(){return ou(Kt(),Wt())};let ru=(()=>{class t{}return t.__NG_ELEMENT_ID__=nu,t})();const iu=ru,su=class extends iu{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Vi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Hi(e,n,t),new Kc(n)}};function ou(t,e){return 4&t.type?new su(e,t,Sc(t,e)):null}class au{}class cu{}const uu=function(){return mu(Kt(),Wt())};let lu=(()=>{class t{}return t.__NG_ELEMENT_ID__=uu,t})();const hu=lu,du=class extends hu{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Sc(this._hostTNode,this._hostLView)}get injector(){return new sn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Qe(this._hostTNode,this._hostLView);if(Le(t)){const e=Ve(t,this._hostLView),n=Fe(t);return new sn(e[1].data[n+8],e)}return new sn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=fu(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(au,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new du(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ht+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ht?(e[4]=n[i],gn(n,ht+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=li(i,s),a=n[11],c=ei(a,s[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,fi(t,r,n,1,i,s)}(r,s[6],a,n,c,o),t.attachToViewContainerRef(),gn(pu(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=fu(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=$r(this._lContainer,e);n&&(yn(pu(this._lContainer),e),Kr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=$r(this._lContainer,e);return n&&null!=yn(pu(this._lContainer),e)?new Kc(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function fu(t){return t[8]}function pu(t){return t[8]||(t[8]=[])}function mu(t,e){let n;const r=e[t.index];if(ft(r))n=r;else{let i;if(8&t.type)i=Dt(r);else{const n=e[11];i=n.createComment("");const r=jt(t,e);Xr(n,ei(n,r),i,function(t,e){return kt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=ds(r,e,i,t),gs(e,n)}return new du(n,t,e)}const gu={};class yu extends wc{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new _u(e,this.ngModule)}}function bu(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const vu=new hn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Rr});class _u extends vc{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Ii).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return bu(this.componentDef.inputs)}get outputs(){return bu(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,gu,i);return s!==gu||r===gu?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(xc,At),o=i.get(Ac,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=n?function(t,e,n){if(kt(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Wr(s.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?Ot:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Rr,clean:ws,playerHandler:null,flags:0},d=Zi(0,null,null,1,0,null,null,null,null,null),f=Vi(null,d,h,l,null,null,s,a,o,i);let p,m;pe(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Bi(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(Is(a,c,!0),null!==t&&(Re(i,t,c),null!==a.classes&&gi(i,t,a.classes),null!==a.styles&&mi(i,t,a.styles)));const u=r.createRenderer(t,e),l=Vi(n,Yi(e),null,e.onPush?64:16,n[20],a,r,u,null,null);return o.firstCreatePass&&($e(He(a,n),o,e.type),is(o,a),os(a,n.length,1)),gs(n,l),n[20]=l}(u,this.componentDef,f,s,a);if(u)if(n)Re(a,u,["ng-version",Rc.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!Si(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Re(a,u,t),e&&e.length>0&&gi(a,u,e.join(" "))}if(m=Pt(d,lt),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Kt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),as(t,r,e,qi(t,e,1,null),n));const i=en(e,t,r.directiveStart,r);Dr(i,e);const s=jt(r,e);return s&&Dr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Kt();e.contentQueries(1,o,t.directiveStart)}const a=Kt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(we(a.index),ns(n[1],a,0,a.directiveStart,a.directiveEnd,e),rs(e,o)),o}(t,this.componentDef,f,h,[Qs]),Hi(d,f,null)}finally{ve()}return new wu(this.componentType,p,Sc(m,f),f,m)}}class wu extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Gc(r),this.componentType=t}get injector(){return new sn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Eu=new Map;class Su extends au{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new yu(this);const n=ut(t),r=t[G]||null;r&&Ca(r),this._bootstrapComponents=jr(n.bootstrap),this._r3Injector=Ls(t,e,[{provide:au,useValue:this},{provide:wc,useValue:this.componentFactoryResolver}],l(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Ws.THROW_IF_NOT_FOUND,n=A.Default){return t===Ws||t===au||t===ks?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Cu extends cu{constructor(t){super(),this.moduleType=t,null!==ut(t)&&function(t){const e=new Set;!function t(n){const r=ut(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${l(e)} vs ${l(e.name)}`)}(i,Eu.get(i),n),Eu.set(i,n));const s=jr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Su(this.moduleType,t)}}function Ou(t,e,n,r){return ku(Wt(),ne(),t,e,n,r)}function Tu(t,e,n,r,i){return Au(Wt(),ne(),t,e,n,r,i)}function xu(t,e,n,r,i,s){return function(t,e,n,r,i,s,o,a){const c=e+n;return function(t,e,n,r,i){const s=so(t,e,n,r);return io(t,e+2,i)||s}(t,c,i,s,o)?ro(t,c+3,a?r.call(a,i,s,o):r(i,s,o)):Iu(t,c+3)}(Wt(),ne(),t,e,n,r,i,s)}function Iu(t,e){const n=t[e];return n===ki?void 0:n}function ku(t,e,n,r,i,s){const o=e+n;return io(t,o,i)?ro(t,o+1,s?r.call(s,i):r(i)):Iu(t,o+1)}function Au(t,e,n,r,i,s,o){const a=e+n;return so(t,a,i,s)?ro(t,a+2,o?r.call(o,i,s):r(i,s)):Iu(t,a+2)}function Du(t,e){const n=Qt();let r;const i=t+lt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new g("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=bt(r.type)),o=R(lo);try{const t=Ue(!1),e=s();return Ue(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Wt(),i,e),e}finally{R(o)}}function Ru(t,e,n){const r=t+lt,i=Wt(),s=Nt(i,r);return Nu(i,Pu(i,r)?ku(i,ne(),e,s.transform,n,s):s.transform(n))}function ju(t,e,n,r){const i=t+lt,s=Wt(),o=Nt(s,i);return Nu(s,Pu(s,i)?Au(s,ne(),e,o.transform,n,r,o):o.transform(n,r))}function Pu(t,e){return t[1].data[e].pure}function Nu(t,e){return to.isWrapped(e)&&(e=to.unwrap(e),t[re()]=ki),e}const Mu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function Lu(){return this._results[Js()]()}class Fu{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Js(),n=Fu.prototype;n[e]||(n[e]=Lu)}get changes(){return this._changes||(this._changes=new Mu)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=pn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Vu{constructor(t){this.queryList=t,this.matches=null}clone(){return new Vu(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Bu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==tl(t,e).matches&&this.queries[e].setDirty()}}class Uu{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class qu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new qu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Hu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Hu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,zu(e,i)),this.matchTNodeWithReadOption(t,e,tn(e,t,i,!1,!1))}else n===ru?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,tn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Oc||r===lu||r===ru&&4&e.type)this.addMatch(e.index,-2);else{const n=tn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function zu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Wu(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Sc(t,e):4&t.type?ou(t,e):null}(e,t):-2===n?function(t,e,n){return n===Oc?Sc(e,t):n===ru?ou(e,t):n===lu?mu(e,t):void 0}(t,e,r):en(t,t[1],n,e)}function Qu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Wu(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function $u(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Qu(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ht;t<o.length;t++){const e=o[t];e[17]===e[3]&&$u(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];$u(n[1],n,i,r)}}}}}return r}function Ku(t){const e=Wt(),n=Qt(),r=le();he(r+1);const i=tl(n,r);if(t.dirty&&Ft(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?$u(n,e,r,[]):Qu(n,e,i,r);t.reset(s,Tc),t.notifyOnChanges()}return!0}return!1}function Gu(t,e,n){const r=Qt();r.firstCreatePass&&(Ju(r,new Uu(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Xu(r,Wt(),e)}function Yu(t,e,n,r){const i=Qt();if(i.firstCreatePass){const s=Kt();Ju(i,new Uu(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Xu(i,Wt(),n)}function Zu(){return t=Wt(),e=le(),t[19].queries[e].queryList;var t,e}function Xu(t,e,n){const r=new Fu(4==(4&n));Xi(t,e,r,r.destroy),null===e[19]&&(e[19]=new Bu),e[19].queries.push(new Vu(r))}function Ju(t,e,n){null===t.queries&&(t.queries=new qu),t.queries.track(new Hu(e,n))}function tl(t,e){return t.queries.getByIndex(e)}function el(t,e){return ou(t,e)}function nl(t=A.Default){const e=Xc(!0);if(null!=e||t&A.Optional)return e;v("ChangeDetectorRef")}const rl=new hn("Application Initializer");let il=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Ec,this.reject=Ec,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();wo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(kn(rl,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const sl=new hn("AppId"),ol={provide:sl,useFactory:function(){return`${al()}${al()}${al()}`},deps:[]};function al(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cl=new hn("Platform Initializer"),ul=new hn("Platform ID"),ll=new hn("appBootstrapListener");let hl=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const dl=new hn("LocaleId"),fl=new hn("DefaultCurrencyCode");class pl{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ml=function(t){return new Cu(t)},gl=ml,yl=function(t){return Promise.resolve(ml(t))},bl=function(t){const e=ml(t),n=jr(ut(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new _u(n)),t},[]);return new pl(e,n)},vl=bl,_l=function(t){return Promise.resolve(bl(t))};let wl=(()=>{class t{constructor(){this.compileModuleSync=gl,this.compileModuleAsync=yl,this.compileModuleAndAllComponentsSync=vl,this.compileModuleAndAllComponentsAsync=_l}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();const El=(()=>Promise.resolve(0))();function Sl(t){"undefined"==typeof Zone?El.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Cl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mu(!1),this.onMicrotaskEmpty=new Mu(!1),this.onStable=new Mu(!1),this.onError=new Mu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=U.requestAnimationFrame,e=U.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(U,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,xl(t),Tl(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),xl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Il(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),kl(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return Il(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),kl(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,xl(t),Tl(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Cl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Ol,Ec,Ec);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Ol={};function Tl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Il(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kl(t){t._nesting--,Tl(t)}class Al{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mu,this.onMicrotaskEmpty=new Mu,this.onStable=new Mu,this.onError=new Mu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Dl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cl.assertNotInAngularZone(),Sl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(kn(Cl))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})(),Rl=(()=>{class t{constructor(){this._applications=new Map,Ml.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ml.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();class jl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Pl(t){Ml=t}let Nl,Ml=new jl,Ll=!0,Fl=!1;function Vl(){return Fl=!0,Ll}function Bl(){if(Fl)throw new Error("Cannot enable prod mode after platform setup.");Ll=!1}const Ul=new hn("AllowMultipleToken");class ql{constructor(t,e){this.name=t,this.token=e}}function Hl(t,e,n=[]){const r=`Platform: ${e}`,i=new hn(r);return(e=[])=>{let s=zl();if(!s||s.injector.get(Ul,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Ds,useValue:"platform"});!function(t){if(Nl&&!Nl.destroyed&&!Nl.injector.get(Ul,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Nl=t.get(Wl);const e=t.get(cl,null);e&&e.forEach(t=>t())}(Ws.create({providers:t,name:r}))}return function(t){const e=zl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function zl(){return Nl&&!Nl.destroyed?Nl:null}let Wl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Al:("zone.js"===t?void 0:t)||new Cl({enableLongStackTrace:Vl(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Cl,useValue:n}];return n.run(()=>{const e=Ws.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Ir,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Kl(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return wo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(il);return t.runInitializers(),t.donePromise.then(()=>(Ca(i.injector.get(dl,va)||va),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Ql({},e);return function(t,e,n){const r=new Cu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get($l);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${l(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(kn(Ws))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Ql(t,e){return Array.isArray(e)?e.reduce(Ql,t):Object.assign(Object.assign({},t),e)}let $l=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),u=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Cl.assertNotInAngularZone(),Sl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Cl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,u.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof vc?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(au),i=n.create(Ws.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Dl,null),a=o&&i.injector.get(Rl);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Kl(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Kl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(ll,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(kn(Cl),kn(Ws),kn(Ir),kn(wc),kn(il))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Kl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Gl{}class Yl{}const Zl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Xl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Zl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Jl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Jl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(kn(wl),kn(Yl,8))},t.\u0275prov=w({token:t,factory:t.\u0275fac}),t})();function Jl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class th extends Zc{}class eh extends th{}const nh=function(t){return null},rh=Hl(null,"core",[{provide:ul,useValue:"unknown"},{provide:Wl,deps:[Ws]},{provide:Rl,deps:[]},{provide:hl,deps:[]}]),ih=[{provide:$l,useClass:$l,deps:[Cl,Ws,Ir,wc,il]},{provide:vu,deps:[Cl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:il,useClass:il,deps:[[new Pn,rl]]},{provide:wl,useClass:wl,deps:[]},ol,{provide:zc,useFactory:function(){return tu},deps:[]},{provide:Qc,useFactory:function(){return eu},deps:[]},{provide:dl,useFactory:function(t){return Ca(t=t||"undefined"!=typeof $localize&&$localize.locale||va),t},deps:[[new jn(dl),new Pn,new Nn]]},{provide:fl,useValue:"USD"}];let sh=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(kn($l))},t.\u0275mod=rt({type:t}),t.\u0275inj=E({providers:ih}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"a",function(){return a});var r=n("7o/Q"),i=n("WMd4");function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new a(t,this.scheduler,this.delay))}}class a extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(a.dispatch,this.delay,new c(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class c{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,u=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=u[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return C}),n.d(e,"h",function(){return a}),n.d(e,"i",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"k",function(){return f}),n.d(e,"l",function(){return p}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return u}),n.d(e,"o",function(){return d}),n.d(e,"p",function(){return m});var r=n("mrSG");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function u(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function d(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function f(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?b(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",c=new g(i,a,r);return c},t}();function b(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function S(){}function C(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return f}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),u=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new c.s("angularfire2.app.options"),v=new c.s("angularfire2.app.nameOrConfig"),_=new c.R("6.1.0-rc.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=u.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>u.a.initializeApp(e,i));if(JSON.stringify(e)!==JSON.stringify(s.options)){const e=!!t.hot;S("error",`${s.toString()} already initialized with different options${e?", you may need to reload as Firebase is not HMR aware.":"."}`)}return s}const E=()=>{S("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},S=(t,...e)=>{Object(c.Y)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o&&s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n}))return S("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`),o;{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const O={provide:class{},useFactory:w,deps:[b,c.B,[new c.C,v]]};let T=(()=>{class t{constructor(t){u.a.registerVersion("angularfire",_.full,t.toString()),u.a.registerVersion("angular",c.Q.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(c.dc(c.D))},t.\u0275mod=c.Ob({type:t}),t.\u0275inj=c.Nb({providers:[O]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q"),i=n("KqfI"),s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i.a,this._tapError=i.a,this._tapComplete=i.a,this._tapError=n||i.a,this._tapComplete=r||i.a,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i.a,this._tapError=e.error||i.a,this._tapComplete=e.complete||i.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>{return Object(i.a)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),u=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",u),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new c.b("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=d),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var c=new t(n,s,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&c&&u.push("and"),c&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.3.3",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.f)(c,s.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var u=0,h=Object.keys(e);u<h.length;u++)e[h[u]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.i)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.n)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.19",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.s("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Mb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.dc)(l)}const u=new r.s("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.dc(o))},t.\u0275prov=Object(r.Mb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l(Object(r.dc)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Mb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.dc)(o).location;return new v(Object(r.dc)(a),e&&e.origin||"")}const b=new r.s("appBaseHref");let v=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.dc(a),r.dc(b,8))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.dc(a),r.dc(b,8))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.o,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.dc(g),r.dc(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Mb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new w(Object(r.dc)(g),Object(r.dc)(a))}function S(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),O=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),T=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),x=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),I=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function k(t,e){return N(Object(r.mb)(t)[r.db.DateFormat],e)}function A(t,e){return N(Object(r.mb)(t)[r.db.TimeFormat],e)}function D(t,e){return N(Object(r.mb)(t)[r.db.DateTimeFormat],e)}function R(t,e){const n=Object(r.mb)(t),i=n[r.db.NumberSymbols][e];if(void 0===i){if(e===I.CurrencyDecimal)return n[r.db.NumberSymbols][I.Decimal];if(e===I.CurrencyGroup)return n[r.db.NumberSymbols][I.Group]}return i}const j=r.pb;function P(t){if(!t[r.db.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[r.db.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function N(t,e){for(let n=e;n>-1;n--)if(void 0!==t[n])return t[n];throw new Error("Locale data API: locale data undefined")}function M(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const L=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,F={},V=/((?:[^GyYMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var B=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),U=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),q=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function H(t,e,n,r){let i=function(t){if(nt(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[e,n=1,r=1]=t.split("-").map(t=>+t);return z(e,n-1,r)}const e=parseFloat(t);if(!isNaN(t-e))return new Date(e);let n;if(n=t.match(L))return function(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const o=Number(t[4]||0)-n,a=Number(t[5]||0)-r,c=Number(t[6]||0),u=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,c,u),e}(n)}const e=new Date(t);if(!nt(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=W(n,e)||e;let s,o=[];for(;e;){if(s=V.exec(e),!s){o.push(e);break}{o=o.concat(s.slice(1));const t=o.pop();if(!t)break;e=t}}let a=i.getTimezoneOffset();r&&(a=et(r,a),i=function(t,e,n){const r=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(et(e,r)-r))}(i,r));let c="";return o.forEach(t=>{const e=function(t){if(tt[t])return tt[t];let e;switch(t){case"G":case"GG":case"GGG":e=G(q.Eras,T.Abbreviated);break;case"GGGG":e=G(q.Eras,T.Wide);break;case"GGGGG":e=G(q.Eras,T.Narrow);break;case"y":e=K(U.FullYear,1,0,!1,!0);break;case"yy":e=K(U.FullYear,2,0,!0,!0);break;case"yyy":e=K(U.FullYear,3,0,!1,!0);break;case"yyyy":e=K(U.FullYear,4,0,!1,!0);break;case"Y":e=J(1);break;case"YY":e=J(2,!0);break;case"YYY":e=J(3);break;case"YYYY":e=J(4);break;case"M":case"L":e=K(U.Month,1,1);break;case"MM":case"LL":e=K(U.Month,2,1);break;case"MMM":e=G(q.Months,T.Abbreviated);break;case"MMMM":e=G(q.Months,T.Wide);break;case"MMMMM":e=G(q.Months,T.Narrow);break;case"LLL":e=G(q.Months,T.Abbreviated,O.Standalone);break;case"LLLL":e=G(q.Months,T.Wide,O.Standalone);break;case"LLLLL":e=G(q.Months,T.Narrow,O.Standalone);break;case"w":e=X(1);break;case"ww":e=X(2);break;case"W":e=X(1,!0);break;case"d":e=K(U.Date,1);break;case"dd":e=K(U.Date,2);break;case"E":case"EE":case"EEE":e=G(q.Days,T.Abbreviated);break;case"EEEE":e=G(q.Days,T.Wide);break;case"EEEEE":e=G(q.Days,T.Narrow);break;case"EEEEEE":e=G(q.Days,T.Short);break;case"a":case"aa":case"aaa":e=G(q.DayPeriods,T.Abbreviated);break;case"aaaa":e=G(q.DayPeriods,T.Wide);break;case"aaaaa":e=G(q.DayPeriods,T.Narrow);break;case"b":case"bb":case"bbb":e=G(q.DayPeriods,T.Abbreviated,O.Standalone,!0);break;case"bbbb":e=G(q.DayPeriods,T.Wide,O.Standalone,!0);break;case"bbbbb":e=G(q.DayPeriods,T.Narrow,O.Standalone,!0);break;case"B":case"BB":case"BBB":e=G(q.DayPeriods,T.Abbreviated,O.Format,!0);break;case"BBBB":e=G(q.DayPeriods,T.Wide,O.Format,!0);break;case"BBBBB":e=G(q.DayPeriods,T.Narrow,O.Format,!0);break;case"h":e=K(U.Hours,1,-12);break;case"hh":e=K(U.Hours,2,-12);break;case"H":e=K(U.Hours,1);break;case"HH":e=K(U.Hours,2);break;case"m":e=K(U.Minutes,1);break;case"mm":e=K(U.Minutes,2);break;case"s":e=K(U.Seconds,1);break;case"ss":e=K(U.Seconds,2);break;case"S":e=K(U.FractionalSeconds,1);break;case"SS":e=K(U.FractionalSeconds,2);break;case"SSS":e=K(U.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Y(B.Short);break;case"ZZZZZ":e=Y(B.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Y(B.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Y(B.Long);break;default:return null}return tt[t]=e,e}(t);c+=e?e(i,n,a):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function z(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function W(t,e){const n=function(t){return Object(r.mb)(t)[r.db.LocaleId]}(t);if(F[n]=F[n]||{},F[n][e])return F[n][e];let i="";switch(e){case"shortDate":i=k(t,x.Short);break;case"mediumDate":i=k(t,x.Medium);break;case"longDate":i=k(t,x.Long);break;case"fullDate":i=k(t,x.Full);break;case"shortTime":i=A(t,x.Short);break;case"mediumTime":i=A(t,x.Medium);break;case"longTime":i=A(t,x.Long);break;case"fullTime":i=A(t,x.Full);break;case"short":const e=W(t,"shortTime"),n=W(t,"shortDate");i=Q(D(t,x.Short),[e,n]);break;case"medium":const r=W(t,"mediumTime"),s=W(t,"mediumDate");i=Q(D(t,x.Medium),[r,s]);break;case"long":const o=W(t,"longTime"),a=W(t,"longDate");i=Q(D(t,x.Long),[o,a]);break;case"full":const c=W(t,"fullTime"),u=W(t,"fullDate");i=Q(D(t,x.Full),[c,u])}return i&&(F[n][e]=i),i}function Q(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,n){return null!=e&&n in e?e[n]:t})),t}function $(t,e,n="-",r,i){let s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return r&&(o=o.substr(o.length-e)),s+o}function K(t,e,n=0,r=!1,i=!1){return function(s,o){let a=function(t,e){switch(t){case U.FullYear:return e.getFullYear();case U.Month:return e.getMonth();case U.Date:return e.getDate();case U.Hours:return e.getHours();case U.Minutes:return e.getMinutes();case U.Seconds:return e.getSeconds();case U.FractionalSeconds:return e.getMilliseconds();case U.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,s);if((n>0||a>-n)&&(a+=n),t===U.Hours)0===a&&-12===n&&(a=12);else if(t===U.FractionalSeconds)return c=e,$(a,3).substr(0,c);var c;const u=R(o,I.MinusSign);return $(a,e,u,r,i)}}function G(t,e,n=O.Format,i=!1){return function(s,o){return function(t,e,n,i,s,o){switch(n){case q.Months:return function(t,e,n){const i=Object(r.mb)(t),s=N([i[r.db.MonthsFormat],i[r.db.MonthsStandalone]],e);return N(s,n)}(e,s,i)[t.getMonth()];case q.Days:return function(t,e,n){const i=Object(r.mb)(t),s=N([i[r.db.DaysFormat],i[r.db.DaysStandalone]],e);return N(s,n)}(e,s,i)[t.getDay()];case q.DayPeriods:const a=t.getHours(),c=t.getMinutes();if(o){const t=function(t){const e=Object(r.mb)(t);return P(e),(e[r.db.ExtraData][2]||[]).map(t=>"string"==typeof t?M(t):[M(t[0]),M(t[1])])}(e),n=function(t,e,n){const i=Object(r.mb)(t);P(i);const s=N([i[r.db.ExtraData][0],i[r.db.ExtraData][1]],e)||[];return N(s,n)||[]}(e,s,i),o=t.findIndex(t=>{if(Array.isArray(t)){const[e,n]=t,r=a>=e.hours&&c>=e.minutes,i=a<n.hours||a===n.hours&&c<n.minutes;if(e.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(t.hours===a&&t.minutes===c)return!0;return!1});if(-1!==o)return n[o]}return function(t,e,n){const i=Object(r.mb)(t),s=N([i[r.db.DayPeriodsFormat],i[r.db.DayPeriodsStandalone]],e);return N(s,n)}(e,s,i)[a<12?0:1];case q.Eras:return function(t,e){return N(Object(r.mb)(t)[r.db.Eras],e)}(e,i)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(s,o,t,e,n,i)}}function Y(t){return function(e,n,r){const i=-1*r,s=R(n,I.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case B.Short:return(i>=0?"+":"")+$(o,2,s)+$(Math.abs(i%60),2,s);case B.ShortGMT:return"GMT"+(i>=0?"+":"")+$(o,1,s);case B.Long:return"GMT"+(i>=0?"+":"")+$(o,2,s)+":"+$(Math.abs(i%60),2,s);case B.Extended:return 0===r?"Z":(i>=0?"+":"")+$(o,2,s)+":"+$(Math.abs(i%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}function Z(t){return z(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function X(t,e=!1){return function(n,r){let i;if(e){const t=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,e=n.getDate();i=1+Math.floor((e+t)/7)}else{const t=Z(n),e=function(t){const e=z(t,0,1).getDay();return z(t,0,1+(e<=4?4:11)-e)}(t.getFullYear()),r=t.getTime()-e.getTime();i=1+Math.round(r/6048e5)}return $(i,t,R(r,I.MinusSign))}}function J(t,e=!1){return function(n,r){return $(Z(n).getFullYear(),t,R(r,I.MinusSign),e)}}const tt={};function et(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function nt(t){return t instanceof Date&&!isNaN(t.valueOf())}class rt{}let it=(()=>{class t extends rt{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(j(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.dc(r.w))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();class st{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ot=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new st(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new at(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new at(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.S),r.Qb(r.N),r.Qb(r.u))},t.\u0275dir=r.Lb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class at{constructor(t,e){this.record=t,this.view=e}}let ct=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new ut,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){lt("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){lt("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.S),r.Qb(r.N))},t.\u0275dir=r.Lb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class ut{constructor(){this.$implicit=null,this.ngIf=null}}function lt(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.yb)(e)}'.`)}let ht=(()=>{class t{constructor(t){this.locale=t}transform(e,n="mediumDate",i,s){if(null==e||""===e||e!=e)return null;try{return H(e,n,s||this.locale,i)}catch(o){throw function(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.yb)(t)}'`)}(t,o.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.w))},t.\u0275pipe=r.Pb({name:"date",type:t,pure:!0}),t})(),dt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({providers:[{provide:rt,useClass:it}]}),t})();function ft(t){return"server"===t}let pt=(()=>{class t{}return t.\u0275prov=Object(r.Mb)({token:t,providedIn:"root",factory:()=>new mt(Object(r.dc)(o),window)}),t})();class mt{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=gt(this.window.history)||gt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function gt(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class yt extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new yt,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=vt||(vt=document.querySelector("base"),vt)?vt.getAttribute("href"):null;return null==e?null:(n=e,bt||(bt=document.createElement("a")),bt.setAttribute("href",n),"/"===bt.pathname.charAt(0)?bt.pathname:"/"+bt.pathname);var n}resetBaseElement(){vt=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let bt,vt=null;const _t=new r.s("TRANSITION_ID"),wt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[_t,o,r.t],multi:!0}];class Et{static init(){Object(r.ab)(new Et)}addToWindow(t){r.rb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.rb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.rb.getAllAngularRootElements=()=>t.getAllRootElements(),r.rb.frameworkStabilizers||(r.rb.frameworkStabilizers=[]),r.rb.frameworkStabilizers.push(t=>{const e=r.rb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const St=new r.s("EventManagerPlugins");let Ct=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(St),r.dc(r.B))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();class Ot{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Tt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),xt=(()=>{class t extends Tt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.dc(o))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();const It={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},kt=/%COMP%/g;function At(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?At(t,i,n):(i=i.replace(kt,t),n.push(i))}return n}function Dt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Rt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new jt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.T.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new Pt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.T.ShadowDom:return new Nt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=At(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.dc(Ct),r.dc(xt),r.dc(r.c))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();class jt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(It[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=It[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=It[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.I.DashCase|r.I.Important)?t.style.setProperty(e,n,i&r.I.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.I.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Dt(n)):this.eventManager.addEventListener(t,e,Dt(n))}}class Pt extends jt{constructor(t,e,n,r){super(t),this.component=n;const i=At(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(kt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(kt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Nt extends jt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=At(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Mt=(()=>{class t extends Ot{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(o))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();const Lt=["alt","control","meta","shift"],Ft={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Bt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Ut=(()=>{class t extends Ot{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(Lt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Vt.hasOwnProperty(e)&&(e=Vt[e]))}return Ft[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Lt.forEach(r=>{r!=n&&(0,Bt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.dc(o))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),qt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Mb)({factory:function(){return Object(r.dc)(Ht)},token:t,providedIn:"root"}),t})(),Ht=(()=>{class t extends qt{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.K.NONE:return e;case r.K.HTML:return Object(r.gb)(e,"HTML")?Object(r.zb)(e):Object(r.eb)(this._doc,String(e)).toString();case r.K.STYLE:return Object(r.gb)(e,"Style")?Object(r.zb)(e):e;case r.K.SCRIPT:if(Object(r.gb)(e,"Script"))return Object(r.zb)(e);throw new Error("unsafe value used in a script context");case r.K.URL:return Object(r.qb)(e),Object(r.gb)(e,"URL")?Object(r.zb)(e):Object(r.fb)(String(e));case r.K.RESOURCE_URL:if(Object(r.gb)(e,"ResourceURL"))return Object(r.zb)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.hb)(t)}bypassSecurityTrustStyle(t){return Object(r.kb)(t)}bypassSecurityTrustScript(t){return Object(r.jb)(t)}bypassSecurityTrustUrl(t){return Object(r.lb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.ib)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(o))},t.\u0275prov=Object(r.Mb)({factory:function(){return t=Object(r.dc)(r.p),new Ht(t.get(o));var t},token:t,providedIn:"root"}),t})();const zt=[{provide:r.D,useValue:"browser"},{provide:r.E,useValue:function(){yt.makeCurrent(),Et.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.xb)(document),document},deps:[]}],Wt=Object(r.U)(r.Z,"browser",zt),Qt=[[],{provide:r.cb,useValue:"root"},{provide:r.n,useFactory:function(){return new r.n},deps:[]},{provide:St,useClass:Mt,multi:!0,deps:[o,r.B,r.D]},{provide:St,useClass:Ut,multi:!0,deps:[o]},[],{provide:Rt,useClass:Rt,deps:[Ct,xt,r.c]},{provide:r.H,useExisting:Rt},{provide:Tt,useExisting:xt},{provide:xt,useClass:xt,deps:[o]},{provide:r.O,useClass:r.O,deps:[r.B]},{provide:Ct,useClass:Ct,deps:[St,r.B]},[]];let $t=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:_t,useExisting:r.c},wt]}}}return t.\u0275fac=function(e){return new(e||t)(r.dc(t,12))},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({providers:Qt,imports:[dt,r.f]}),t})();"undefined"!=typeof window&&window;var Kt=n("Cfvw"),Gt=n("LRne"),Yt=n("XNiG"),Zt=n("9ppp");class Xt extends Yt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Zt.a;return this._value}next(t){super.next(this._value=t)}}var Jt=n("z+Ro"),te=n("DH7j"),ee=n("7o/Q");class ne extends ee.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class re extends ee.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ie=n("SeVD"),se=n("HDdC");function oe(t,e,n,r,i=new re(t,n,r)){if(!i.closed)return e instanceof se.a?e.subscribe(i):Object(ie.a)(e)(i)}var ae=n("yCtX");const ce={};class ue{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new le(t,this.resultSelector))}}class le extends ne{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(ce),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(oe(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===ce?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const he=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var de=n("bHdf");function fe(...t){return Object(de.a)(1)(Object(Gt.a)(...t))}var pe=n("EY2u");function me(t){return new se.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Kt.a)(n):Object(pe.b)()).subscribe(e)})}var ge=n("EQ5u"),ye=n("lJxs"),be=n("zx2A");function ve(t,e){return"function"==typeof e?n=>n.pipe(ve((n,r)=>Object(Kt.a)(t(n,r)).pipe(Object(ye.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new _e(t))}class _e{constructor(t){this.project=t}call(t,e){return e.subscribe(new we(t,this.project))}}class we extends be.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new be.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(be.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Ee=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Se(t){return e=>0===t?Object(pe.b)():e.lift(new Ce(t))}class Ce{constructor(t){if(this.total=t,this.total<0)throw new Ee}call(t,e){return e.subscribe(new Oe(t,this.total))}}class Oe extends ee.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Te(...t){const e=t[t.length-1];return Object(Jt.a)(e)?(t.pop(),n=>fe(t,n,e)):e=>fe(t,e)}function xe(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ie(t,e,n))}}class Ie{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new ke(t,this.accumulator,this.seed,this.hasSeed))}}class ke extends ee.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ae(t,e){return function(n){return n.lift(new De(t,e))}}class De{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Re(t,this.predicate,this.thisArg))}}class Re extends ee.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function je(t){return function(e){const n=new Pe(t),r=e.lift(n);return n.caught=r}}class Pe{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Ne(t,this.selector,this.caught))}}class Ne extends be.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new be.a(this);this.add(r);const i=Object(be.c)(n,r);i!==r&&this.add(i)}}}var Me=n("5+tZ");function Le(t,e){return Object(Me.a)(t,e,1)}function Fe(t){return function(e){return 0===t?Object(pe.b)():e.lift(new Ve(t))}}class Ve{constructor(t){if(this.total=t,this.total<0)throw new Ee}call(t,e){return e.subscribe(new Be(t,this.total))}}class Be extends ee.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Ue(t=ze){return e=>e.lift(new qe(t))}class qe{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new He(t,this.errorFactory))}}class He extends ee.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(XT){t=XT}this.destination.error(t)}}}function ze(){return new he}function We(t=null){return e=>e.lift(new Qe(t))}class Qe{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new $e(t,this.defaultValue))}}class $e extends ee.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ke=n("SpAZ");function Ge(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ae((e,n)=>t(e,n,r)):Ke.a,Se(1),n?We(e):Ue(()=>new he))}var Ye=n("vkgz"),Ze=n("x+ZX"),Xe=n("quSY");function Je(t){return e=>e.lift(new tn(t))}class tn{constructor(t){this.callback=t}call(t,e){return e.subscribe(new en(t,this.callback))}}class en extends ee.a{constructor(t,e){super(t),this.add(new Xe.a(e))}}class nn{constructor(t,e){this.id=t,this.url=e}}class rn extends nn{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sn extends nn{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class on extends nn{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class an extends nn{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cn extends nn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class un extends nn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ln extends nn{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hn extends nn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dn extends nn{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fn{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pn{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mn{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gn{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yn{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bn{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vn{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const _n="primary";class wn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function En(t){return new wn(t)}function Sn(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Cn(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function On(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Tn(t[i],e[i]))return!1;return!0}function Tn(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function xn(t){return Array.prototype.concat.apply([],t)}function In(t){return t.length>0?t[t.length-1]:null}function kn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function An(t){return Object(r.tb)(t)?t:Object(r.ub)(t)?Object(Kt.a)(Promise.resolve(t)):Object(Gt.a)(t)}function Dn(t,e,n){return n?function(t,e){return On(t,e)}(t.queryParams,e.queryParams)&&Rn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Tn(t[n],e[n]))}(t.queryParams,e.queryParams)&&jn(t.root,e.root)}function Rn(t,e){if(!Fn(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Rn(t.children[n],e.children[n]))return!1}return!0}function jn(t,e){return Pn(t,e,e.segments)}function Pn(t,e,n){if(t.segments.length>n.length)return!!Fn(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Fn(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!jn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Fn(t.segments,r)&&!!t.children.primary&&Pn(t.children.primary,e,i)}}class Nn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=En(this.queryParams)),this._queryParamMap}toString(){return Un.serialize(this)}}class Mn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,kn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qn(this)}}class Ln{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=En(this.parameters)),this._parameterMap}toString(){return Gn(this)}}function Fn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Vn{}class Bn{parse(t){const e=new tr(t);return new Nn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Hn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Wn(e)}=${Wn(t)}`).join("&"):`${Wn(e)}=${Wn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Un=new Bn;function qn(t){return t.segments.map(t=>Gn(t)).join("/")}function Hn(t,e){if(!t.hasChildren())return qn(t);if(e){const e=t.children.primary?Hn(t.children.primary,!1):"",n=[];return kn(t.children,(t,e)=>{e!==_n&&n.push(`${e}:${Hn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return kn(t.children,(t,r)=>{r===_n&&(n=n.concat(e(t,r)))}),kn(t.children,(t,r)=>{r!==_n&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===_n?[Hn(t.children.primary,!1)]:[`${n}:${Hn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${qn(t)}/${e[0]}`:`${qn(t)}/(${e.join("//")})`}}function zn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Wn(t){return zn(t).replace(/%3B/gi,";")}function Qn(t){return zn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $n(t){return decodeURIComponent(t)}function Kn(t){return $n(t.replace(/\+/g,"%20"))}function Gn(t){return`${Qn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Qn(t)}=${Qn(e[t])}`).join("")}`;var e}const Yn=/^[^\/()?;=#]+/;function Zn(t){const e=t.match(Yn);return e?e[0]:""}const Xn=/^[^=?&#]+/,Jn=/^[^?&#]+/;class tr{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Mn([],{}):new Mn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Mn(t,e)),n}parseSegment(){const t=Zn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ln($n(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Zn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Zn(this.remaining);t&&(n=t,this.capture(n))}t[$n(e)]=$n(n)}parseQueryParam(t){const e=function(t){const e=t.match(Xn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Jn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Kn(e),i=Kn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Zn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=_n);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Mn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class er{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=nr(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=nr(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=rr(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return rr(t,this._root).map(t=>t.value)}}function nr(t,e){if(t===e.value)return e;for(const n of e.children){const e=nr(t,n);if(e)return e}return null}function rr(t,e){if(t===e.value)return[e];for(const n of e.children){const r=rr(t,n);if(r.length)return r.unshift(e),r}return[]}class ir{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function sr(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class or extends er{constructor(t,e){super(t),this.snapshot=e,dr(this,t)}toString(){return this.snapshot.toString()}}function ar(t,e){const n=function(t,e){const n=new lr([],{},{},"",{},_n,e,null,t.root,-1,{});return new hr("",new ir(n,[]))}(t,e),r=new Xt([new Ln("",{})]),i=new Xt({}),s=new Xt({}),o=new Xt({}),a=new Xt(""),c=new cr(r,i,o,a,s,_n,e,n.root);return c.snapshot=n.root,new or(new ir(c,[]),n)}class cr{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(ye.a)(t=>En(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(ye.a)(t=>En(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ur(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class lr{constructor(t,e,n,r,i,s,o,a,c,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=En(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=En(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hr extends er{constructor(t,e){super(e),this.url=t,dr(this,e)}toString(){return fr(this._root)}}function dr(t,e){e.value._routerState=t,e.children.forEach(e=>dr(t,e))}function fr(t){const e=t.children.length>0?` { ${t.children.map(fr).join(", ")} } `:"";return`${t.value}${e}`}function pr(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,On(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),On(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!On(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),On(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function mr(t,e){return On(t.params,e.params)&&function(t,e){return Fn(t,e)&&t.every((t,n)=>On(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||mr(t.parent,e.parent))}function gr(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return gr(t,e,r);return gr(t,e)})}(t,e,n);return new ir(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return yr(e,t),t}{const n=new cr(new Xt((r=e.value).url),new Xt(r.params),new Xt(r.queryParams),new Xt(r.fragment),new Xt(r.data),r.outlet,r.component,r),i=e.children.map(e=>gr(t,e));return new ir(n,i)}}var r}function yr(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)yr(t.children[n],e.children[n])}function br(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function vr(t){return"object"==typeof t&&null!=t&&t.outlets}function _r(t,e,n,r,i){let s={};return r&&kn(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Nn(n.root===t?e:wr(n.root,t,e),s,i)}function wr(t,e,n){const r={};return kn(t.children,(t,i)=>{r[i]=t===e?n:wr(t,e,n)}),new Mn(t.segments,r)}class Er{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&br(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(vr);if(r&&r!==In(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sr{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Cr(t,e,n){if(t||(t=new Mn([],{})),0===t.segments.length&&t.hasChildren())return Or(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(vr(o))break;const a=`${o}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!kr(a,c,e))return s;r+=2}else{if(!kr(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Mn(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Mn(t.segments.slice(r.pathIndex),t.children),Or(e,0,i)}return r.match&&0===i.length?new Mn(t.segments,{}):r.match&&!t.hasChildren()?Tr(t,e,n):r.match?Or(t,0,i):Tr(t,e,n)}function Or(t,e,n){if(0===n.length)return new Mn(t.segments,{});{const r=function(t){return vr(t[0])?t[0].outlets:{[_n]:t}}(n),i={};return kn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Cr(t.children[r],e,n))}),kn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Mn(t.segments,i)}}function Tr(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(vr(s)){const t=xr(s.outlets);return new Mn(r,t)}if(0===i&&br(n[0])){r.push(new Ln(t.segments[e].path,Ir(n[0]))),i++;continue}const o=vr(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&br(a)?(r.push(new Ln(o,Ir(a))),i+=2):(r.push(new Ln(o,{})),i++)}return new Mn(r,{})}function xr(t){const e={};return kn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Tr(new Mn([],{}),0,t))}),e}function Ir(t){const e={};return kn(t,(t,n)=>e[n]=`${t}`),e}function kr(t,e,n){return t==n.path&&On(e,n.parameters)}class Ar{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),pr(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=sr(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),kn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=sr(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=sr(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new bn(t.value.snapshot))}),t.children.length&&this.forwardEvent(new gn(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(pr(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Dr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Dr(t){pr(t.value),t.children.forEach(Dr)}class Rr{constructor(t,e){this.routes=t,this.module=e}}function jr(t){return"function"==typeof t}function Pr(t){return t instanceof Nn}const Nr=Symbol("INITIAL_VALUE");function Mr(){return ve(t=>function(...t){let e,n;return Object(Jt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(te.a)(t[0])&&(t=t[0]),Object(ae.a)(t,n).lift(new ue(e))}(t.map(t=>t.pipe(Se(1),Te(Nr)))).pipe(xe((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Nr)return t;if(r===Nr&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Pr(r))return r}return t},t)},Nr),Ae(t=>t!==Nr),Object(ye.a)(t=>Pr(t)?t:!0===t),Se(1)))}let Lr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Rb(0,"router-outlet")},directives:function(){return[Ai]},encapsulation:2}),t})();function Fr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Vr(r,Br(e,r))}}function Vr(t,e){t.children&&Fr(t.children,e)}function Br(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ur(t){const e=t.children&&t.children.map(Ur),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==_n&&(n.component=Lr),n}function qr(t){return t.outlet||_n}function Hr(t,e){const n=t.filter(t=>qr(t)===e);return n.push(...t.filter(t=>qr(t)!==e)),n}const zr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Wr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},zr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Cn)(n,t,e);if(!i)return Object.assign({},zr);const s={};kn(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Qr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>$r(t,e,n)&&qr(n)!==_n)}(t,n,r)){const i=new Mn(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&qr(s)!==_n){const n=new Mn([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[qr(s)]=n}return i}(t,e,r,new Mn(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>$r(t,e,n))}(t,n,r)){const s=new Mn(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if($r(t,n,a)&&!i[qr(a)]){const n=new Mn([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[qr(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Mn(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function $r(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Kr(t,e,n,r){return!!(qr(t)===r||r!==_n&&$r(e,n,t))&&("**"===t.path||Wr(e,t,n).matched)}function Gr(t,e,n){return 0===e.length&&!t.children[n]}class Yr{constructor(t){this.segmentGroup=t||null}}class Zr{constructor(t){this.urlTree=t}}function Xr(t){return new se.a(e=>e.error(new Yr(t)))}function Jr(t){return new se.a(e=>e.error(new Zr(t)))}function ti(t){return new se.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class ei{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.z)}apply(){const t=Qr(this.urlTree.root,[],[],this.config).segmentGroup,e=new Mn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,_n).pipe(Object(ye.a)(t=>this.createUrlTree(ni(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(je(t=>{if(t instanceof Zr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Yr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,_n).pipe(Object(ye.a)(e=>this.createUrlTree(ni(e),t.queryParams,t.fragment))).pipe(je(t=>{if(t instanceof Yr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Mn([],{[_n]:t}):t;return new Nn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(ye.a)(t=>new Mn([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(Kt.a)(r).pipe(Le(r=>{const i=n.children[r],s=Hr(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(ye.a)(t=>({segment:t,outlet:r})))}),xe((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ae((e,n)=>t(e,n,r)):Ke.a,Fe(1),n?We(e):Ue(()=>new he))}())}expandSegment(t,e,n,r,i,s){return Object(Kt.a)(n).pipe(Le(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(je(t=>{if(t instanceof Yr)return Object(Gt.a)(null);throw t}))),Ge(t=>!!t),je((t,n)=>{if(t instanceof he||"EmptyError"===t.name){if(Gr(e,r,i))return Object(Gt.a)(new Mn([],{}));throw new Yr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Kr(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Xr(e):Xr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Jr(i):this.lineralizeSegments(n,i).pipe(Object(Me.a)(n=>{const i=new Mn(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:u}=Wr(e,r,i);if(!o)return Xr(e);const l=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Jr(l):this.lineralizeSegments(r,l).pipe(Object(Me.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Gt.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(ye.a)(t=>(n._loadedConfig=t,new Mn(r,{})))):Object(Gt.a)(new Mn(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Wr(e,n,r);if(!s)return Xr(e);const c=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(Me.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:u}=Qr(e,o,c,s),l=new Mn(a.segments,a.children);if(0===u.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object(ye.a)(t=>new Mn(o,t)));if(0===s.length&&0===u.length)return Object(Gt.a)(new Mn(o,{}));const h=qr(n)===i;return this.expandSegment(r,l,s,u,h?_n:i,!0).pipe(Object(ye.a)(t=>new Mn(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Gt.a)(new Rr(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Gt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(Me.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(ye.a)(t=>(e._loadedConfig=t,t))):function(t){return new se.a(e=>e.error(Sn(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Gt.a)(new Rr([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Gt.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&jr(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!jr(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return An(s)});return Object(Gt.a)(i).pipe(Mr(),Object(Ye.a)(t=>{if(!Pr(t))return;const e=Sn(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(ye.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Gt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return ti(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Nn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return kn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return kn(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Mn(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function ni(t){const e={};for(const n of Object.keys(t.children)){const r=ni(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Mn(t.segments.concat(e.segments),e.children)}return t}(new Mn(t.segments,e))}class ri{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ii{constructor(t,e){this.component=t,this.route=e}}function si(t,e,n){const r=t._root;return ai(r,e?e._root:null,n,[r.value])}function oi(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ai(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=sr(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Fn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Fn(t.url,e.url)||!On(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mr(t,e)||!On(t.queryParams,e.queryParams);case"paramsChange":default:return!mr(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new ri(r)):(s.data=o.data,s._resolvedData=o._resolvedData),ai(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ii(a.outlet.component,o))}else o&&ci(e,a,i),i.canActivateChecks.push(new ri(r)),ai(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),kn(s,(t,e)=>ci(t,n.getContext(e),i)),i}function ci(t,e,n){const r=sr(t),i=t.value;kn(r,(t,r)=>{ci(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new ii(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class ui{}function li(t){return new se.a(e=>e.error(t))}class hi{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=Qr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,_n);if(null===e)return null;const n=new lr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},_n,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ir(n,e),i=new hr(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=ur(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Hr(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=function(t){const e=[];for(const n of t){if(!di(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===_n?-1:e.value.outlet===_n?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Gr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Kr(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?In(n).parameters:{};i=new lr(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mi(t),qr(t),t.component,t,fi(e),pi(e)+n.length,gi(t))}else{const r=Wr(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new lr(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mi(t),qr(t),t.component,t,fi(e),pi(e)+s.length,gi(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:u}=Qr(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new ir(i,t)]}if(0===a.length&&0===u.length)return[new ir(i,[])];const l=qr(t)===r,h=this.processSegment(a,c,u,l?_n:r);return null===h?null:[new ir(i,h)]}}function di(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function fi(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function pi(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function mi(t){return t.data||{}}function gi(t){return t.resolve||{}}function yi(t){return ve(e=>{const n=t(e);return n?Object(Kt.a)(n).pipe(Object(ye.a)(()=>e)):Object(Gt.a)(e)})}class bi extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const vi=new r.s("ROUTES");class _i{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(ye.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Rr(xn(i.injector.get(vi,void 0,r.r.Self|r.r.Optional)).map(Ur),i)}),je(t=>{throw e._loader$=void 0,t}));return e._loader$=new ge.a(n,()=>new Yt.a).pipe(Object(Ze.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(Kt.a)(this.loader.load(t)):An(t()).pipe(Object(Me.a)(t=>t instanceof r.x?Object(Gt.a)(t):Object(Kt.a)(this.compiler.compileModuleAsync(t))))}}class wi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ei,this.attachRef=null}}class Ei{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new wi,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Si{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ci(t){throw t}function Oi(t,e,n){return e.parse("/")}function Ti(t,e){return Object(Gt.a)(null)}let xi=(()=>{class t{constructor(t,e,n,i,s,o,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Yt.a,this.errorHandler=Ci,this.malformedUriErrorHandler=Oi,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ti,afterPreactivation:Ti},this.urlHandlingStrategy=new Si,this.routeReuseStrategy=new bi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.z),this.console=s.get(r.bb);const u=s.get(r.B);this.isNgZoneEnabled=u instanceof r.B&&r.B.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Nn(new Mn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new _i(o,a,t=>this.triggerEvent(new fn(t)),t=>this.triggerEvent(new pn(t))),this.routerState=ar(this.currentUrlTree,this.rootComponentType),this.transitions=new Xt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Ae(t=>0!==t.id),Object(ye.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),ve(t=>{let n=!1,r=!1;return Object(Gt.a)(t).pipe(Object(Ye.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ve(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Gt.a)(t).pipe(ve(t=>{const n=this.transitions.getValue();return e.next(new rn(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?pe.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,ve(t=>function(t,e,n,r,i){return new ei(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(ye.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Ye.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(Me.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new hi(t,e,n,r,i,s).recognize();return null===o?li(new ui):Object(Gt.a)(o)}catch(XT){return li(XT)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(ye.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Ye.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new cn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new rn(n,this.serializeUrl(r),i,s);e.next(a);const c=ar(r,this.rootComponentType).snapshot;return Object(Gt.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),pe.a}),yi(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Ye.a)(t=>{const e=new un(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(ye.a)(t=>Object.assign(Object.assign({},t),{guards:si(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(Me.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Gt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Kt.a)(t).pipe(Object(Me.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Gt.a)(!0);const o=s.map(s=>{const o=oi(s,e,i);let a;if(function(t){return t&&jr(t.canDeactivate)}(o))a=An(o.canDeactivate(t,e,n,r));else{if(!jr(o))throw new Error("Invalid CanDeactivate guard");a=An(o(t,e,n,r))}return a.pipe(Ge())});return Object(Gt.a)(o).pipe(Mr())}(t.component,t.route,n,e,r)),Ge(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(Me.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Kt.a)(e).pipe(Le(e=>fe(function(t,e){return null!==t&&e&&e(new mn(t)),Object(Gt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new yn(t)),Object(Gt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>me(()=>{const i=e.guards.map(i=>{const s=oi(i,e.node,n);let o;if(function(t){return t&&jr(t.canActivateChild)}(s))o=An(s.canActivateChild(r,t));else{if(!jr(s))throw new Error("Invalid CanActivateChild guard");o=An(s(r,t))}return o.pipe(Ge())});return Object(Gt.a)(i).pipe(Mr())}));return Object(Gt.a)(i).pipe(Mr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Gt.a)(!0);const i=r.map(r=>me(()=>{const i=oi(r,e,n);let s;if(function(t){return t&&jr(t.canActivate)}(i))s=An(i.canActivate(e,t));else{if(!jr(i))throw new Error("Invalid CanActivate guard");s=An(i(e,t))}return s.pipe(Ge())}));return Object(Gt.a)(i).pipe(Mr())}(t,e.route,n))),Ge(t=>!0!==t,!0))}(r,s,t,e):Object(Gt.a)(n)),Object(ye.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Ye.a)(t=>{if(Pr(t.guardsResult)){const e=Sn(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new ln(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Ae(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new on(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),yi(t=>{if(t.guards.canActivateChecks.length)return Object(Gt.a)(t).pipe(Object(Ye.a)(t=>{const e=new hn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),ve(t=>{let n=!1;return Object(Gt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(Me.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Gt.a)(t);let s=0;return Object(Kt.a)(n).pipe(Le(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Gt.a)({});const s={};return Object(Kt.a)(i).pipe(Object(Me.a)(i=>function(t,e,n,r){const i=oi(t,e,r);return An(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Ye.a)(t=>{s[i]=t}))),Fe(1),Object(Me.a)(()=>Object.keys(s).length===i.length?Object(Gt.a)(s):pe.a))}(t._resolve,t,e,r).pipe(Object(ye.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ur(t,n).resolve),null)))}(t.route,e,r,i)),Object(Ye.a)(()=>s++),Fe(1),Object(Me.a)(e=>s===n.length?Object(Gt.a)(t):pe.a))})),Object(Ye.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new on(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Ye.a)(t=>{const e=new dn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),yi(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(ye.a)(t=>{const e=function(t,e,n){const r=gr(t,e._root,n?n._root:void 0);return new or(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Ye.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),Object(ye.a)(t=>(new Ar(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),Object(Ye.a)({next(){n=!0},complete(){n=!0}}),Je(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new on(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),je(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Pr(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new on(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new an(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(xb){t.reject(xb)}}var i;return pe.a}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Fr(t),this.config=t.map(Ur),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:i;let u=null;switch(s){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,r,i){if(0===n.length)return _r(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Er(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return kn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Er(n,e,r)}(n);if(s.toRoot())return _r(e.root,new Mn([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Sr(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Sr(t,t===e.root,0)}const r=br(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Sr(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Or(o.segmentGroup,o.index,s.commands):Cr(o.segmentGroup,o.index,s.commands);return _r(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,u,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Pr(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(XT){e=this.malformedUriErrorHandler(XT,this.urlSerializer,t)}return e}isActive(t,e){if(Pr(t))return Dn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Dn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new sn(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let c,u,l;i?(c=i.resolve,u=i.reject,l=i.promise):l=new Promise((t,e)=>{c=t,u=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.dc(r.P),r.dc(Vn),r.dc(Ei),r.dc(w),r.dc(r.t),r.dc(r.y),r.dc(r.i),r.dc(void 0))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),Ii=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Yt.a,this.subscription=t.events.subscribe(t=>{t instanceof sn&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:ki(this.skipLocationChange),replaceUrl:ki(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ki(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(xi),r.Qb(cr),r.Qb(g))},t.\u0275dir=r.Lb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.gc("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Zb("href",e.href,r.yc),r.Eb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Bb]}),t})();function ki(t){return""===t||!!t}let Ai=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.o,this.deactivateEvents=new r.o,this.name=i||_n,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Di(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Ei),r.Qb(r.S),r.Qb(r.j),r.ec("name"),r.Qb(r.h))},t.\u0275dir=r.Lb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Di{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===cr?this.route:t===Ei?this.childContexts:this.parent.get(t,e)}}class Ri{}class ji{preload(t,e){return Object(Gt.a)(null)}}let Pi=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new _i(e,n,e=>t.triggerEvent(new fn(e)),e=>t.triggerEvent(new pn(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ae(t=>t instanceof sn),Le(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.z);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Kt.a)(n).pipe(Object(de.a)(),Object(ye.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(Gt.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(Me.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.dc(xi),r.dc(r.y),r.dc(r.i),r.dc(r.t),r.dc(Ri))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),Ni=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof rn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof sn&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vn&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new vn(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.dc(xi),r.dc(pt),r.dc(void 0))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();const Mi=new r.s("ROUTER_CONFIGURATION"),Li=new r.s("ROUTER_FORROOT_GUARD"),Fi=[w,{provide:Vn,useClass:Bn},{provide:xi,useFactory:function(t,e,n,r,i,o,a,c={},u,l){const h=new xi(null,t,e,n,r,i,o,xn(a));if(u&&(h.urlHandlingStrategy=u),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(c,h),c.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[Vn,Ei,w,r.t,r.y,r.i,vi,Mi,[class{},new r.C],[class{},new r.C]]},Ei,{provide:cr,useFactory:function(t){return t.routerState.root},deps:[xi]},{provide:r.y,useClass:r.M},Pi,ji,class{preload(t,e){return e().pipe(je(()=>Object(Gt.a)(null)))}},{provide:Mi,useValue:{enableTracing:!1}}];function Vi(){return new r.A("Router",xi)}let Bi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Fi,zi(e),{provide:Li,useFactory:Hi,deps:[[xi,new r.C,new r.L]]},{provide:Mi,useValue:n||{}},{provide:g,useFactory:qi,deps:[a,[new r.q(b),new r.C],Mi]},{provide:Ni,useFactory:Ui,deps:[xi,pt,Mi]},{provide:Ri,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ji},{provide:r.A,multi:!0,useFactory:Vi},[Wi,{provide:r.d,multi:!0,useFactory:Qi,deps:[Wi]},{provide:Ki,useFactory:$i,deps:[Wi]},{provide:r.b,multi:!0,useExisting:Ki}]]}}static forChild(e){return{ngModule:t,providers:[zi(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.dc(Li,8),r.dc(xi,8))},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({}),t})();function Ui(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ni(t,e,n)}function qi(t,e,n={}){return n.useHash?new _(t,e):new v(t,e)}function Hi(t){return"guarded"}function zi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:vi,multi:!0,useValue:t}]}let Wi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Yt.a}appInitializer(){return this.injector.get(u,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(xi),r=this.injector.get(Mi);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Gt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Mi),n=this.injector.get(Pi),i=this.injector.get(Ni),s=this.injector.get(xi),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.dc(r.t))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();function Qi(t){return t.appInitializer.bind(t)}function $i(t){return t.bootstrapListener.bind(t)}const Ki=new r.s("Router Initializer");var Gi=n("mrSG"),Yi=n("XoHu");function Zi(...t){if(1===t.length){const e=t[0];if(Object(te.a)(e))return Xi(e,null);if(Object(Yi.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Xi(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Xi(t=1===t.length&&Object(te.a)(t[0])?t[0]:t,null).pipe(Object(ye.a)(t=>e(...t)))}return Xi(t,null)}function Xi(t,e){return new se.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const c=Object(Kt.a)(t[a]);let u=!1;n.add(c.subscribe({next:t=>{u||(u=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&u||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}class Ji{}const ts=new r.s("NgValueAccessor"),es={provide:ts,useExisting:Object(r.W)(()=>rs),multi:!0},ns=new r.s("CompositionEventMode");let rs=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.G),r.Qb(r.l),r.Qb(ns,8))},t.\u0275dir=r.Lb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.gc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Cb([es])]}),t})();function is(t){return null==t||0===t.length}function ss(t){return null!=t&&"number"==typeof t.length}const os=new r.s("NgValidators"),as=new r.s("NgAsyncValidators"),cs=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class us{static min(t){return function(t){return e=>{if(is(e.value)||is(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(is(e.value)||is(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return ls(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return is(t.value)||cs.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>is(e.value)||!ss(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>ss(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return hs;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(is(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return ys(t)}static composeAsync(t){return vs(t)}}function ls(t){return is(t.value)?{required:!0}:null}function hs(t){return null}function ds(t){return null!=t}function fs(t){const e=Object(r.ub)(t)?Object(Kt.a)(t):t;return Object(r.tb)(e),e}function ps(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ms(t,e){return e.map(e=>e(t))}function gs(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function ys(t){if(!t)return null;const e=t.filter(ds);return 0==e.length?null:function(t){return ps(ms(t,e))}}function bs(t){return null!=t?ys(gs(t)):null}function vs(t){if(!t)return null;const e=t.filter(ds);return 0==e.length?null:function(t){return Zi(ms(t,e).map(fs)).pipe(Object(ye.a)(ps))}}function _s(t){return null!=t?vs(gs(t)):null}function ws(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Es(t){return t._rawValidators}function Ss(t){return t._rawAsyncValidators}let Cs=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=bs(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=_s(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Lb({type:t}),t})(),Os=(()=>{class t extends Cs{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Ts(e||t)},t.\u0275dir=r.Lb({type:t,features:[r.Ab]}),t})();const Ts=r.Yb(Os);class xs extends Cs{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let Is=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(xs,2))},t.\u0275dir=r.Lb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ib("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.Ab]}),t})();function ks(t,e){(function(t,e,n){const r=Es(t);null!==e.validator?t.setValidators(ws(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Ss(t);null!==e.asyncValidator?t.setAsyncValidators(ws(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);{const n=()=>t.updateValueAndValidity();Ds(e._rawValidators,n),Ds(e._rawAsyncValidators,n)}})(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Rs(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Rs(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function As(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),function(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=Es(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=Ss(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}{const t=()=>{};Ds(e._rawValidators,t),Ds(e._rawAsyncValidators,t)}}(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ds(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Rs(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function js(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function Ps(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===rs?n=t:Object.getPrototypeOf(t.constructor)===Ji?r=t:i=t}),i||r||n||null}function Ns(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ms="VALID",Ls="INVALID",Fs="PENDING",Vs="DISABLED";function Bs(t){return(zs(t)?t.validators:t)||null}function Us(t){return Array.isArray(t)?bs(t):t||null}function qs(t,e){return(zs(e)?e.asyncValidators:t)||null}function Hs(t){return Array.isArray(t)?_s(t):t||null}function zs(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ws{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Us(this._rawValidators),this._composedAsyncValidatorFn=Hs(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ms}get invalid(){return this.status===Ls}get pending(){return this.status==Fs}get disabled(){return this.status===Vs}get enabled(){return this.status!==Vs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Us(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Hs(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Fs,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Vs,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ms,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==Ms&&this.status!==Fs||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vs:Ms}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Fs,this._hasOwnPendingAsyncValidator=!0;const e=fs(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof $s?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ks&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.o,this.statusChanges=new r.o}_calculateStatus(){return this._allControlsDisabled()?Vs:this.errors?Ls:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Fs)?Fs:this._anyControlsHaveStatus(Ls)?Ls:Ms}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){zs(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Qs extends Ws{constructor(t=null,e,n){super(Bs(e),qs(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ns(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ns(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class $s extends Ws{constructor(t,e,n){super(Bs(e),qs(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Qs?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ks extends Ws{constructor(t,e,n){super(Bs(e),qs(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Qs?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Gs={provide:xs,useExisting:Object(r.W)(()=>Zs)},Ys=(()=>Promise.resolve(null))();let Zs=(()=>{class t extends xs{constructor(t,e,n,i){super(),this.control=new Qs,this._registered=!1,this.update=new r.o,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=Ps(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),js(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ks(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ys.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Ys.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Os,9),r.Qb(os,10),r.Qb(as,10),r.Qb(ts,10))},t.\u0275dir=r.Lb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Cb([Gs]),r.Ab,r.Bb]}),t})(),Xs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({}),t})();const Js=new r.s("NgModelWithFormControlWarning"),to={provide:xs,useExisting:Object(r.W)(()=>eo)};let eo=(()=>{class t extends xs{constructor(t,e,n,i){super(),this._ngModelWarningConfig=i,this.update=new r.o,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(e),this.valueAccessor=Ps(0,n)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const e=t.form.previousValue;e&&As(e,this,!1),ks(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}js(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&As(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(os,10),r.Qb(as,10),r.Qb(ts,10),r.Qb(Js,8))},t.\u0275dir=r.Lb({type:t,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[r.Cb([to]),r.Ab,r.Bb]}),t._ngModelWarningSentOnce=!1,t})();const no={provide:ts,useExisting:Object(r.W)(()=>io),multi:!0};function ro(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let io=(()=>{class t extends Ji{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=ro(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.G),r.Qb(r.l))},t.\u0275dir=r.Lb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.gc("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Cb([no]),r.Ab]}),t})(),so=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(ro(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(r.G),r.Qb(io,9))},t.\u0275dir=r.Lb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const oo={provide:ts,useExisting:Object(r.W)(()=>co),multi:!0};function ao(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let co=(()=>{class t extends Ji{constructor(t,e){super(),this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.G),r.Qb(r.l))},t.\u0275dir=r.Lb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.gc("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Cb([oo]),r.Ab]}),t})(),uo=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ao(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ao(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(r.G),r.Qb(co,9))},t.\u0275dir=r.Lb({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const lo={provide:os,useExisting:Object(r.W)(()=>ho),multi:!0};let ho=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?ls(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Lb({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Eb("required",e.required?"":null)},inputs:{required:"required"},features:[r.Cb([lo])]}),t})(),fo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[Xs]]}),t})(),po=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[fo]}),t})(),mo=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Js,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[fo]}),t})(),go=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,s=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,s=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,s=null!=e.asyncValidator?e.asyncValidator:null)),new $s(n,{asyncValidators:s,updateOn:r,validators:i})}control(t,e,n){return new Qs(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Ks(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Qs||t instanceof $s||t instanceof Ks?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Mb)({factory:function(){return new t},token:t,providedIn:mo}),t})();function yo(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var bo=n("D0XW");function vo(t,e=bo.a){return n=>n.lift(new _o(t,e))}class _o{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new wo(t,this.dueTime,this.scheduler))}}class wo extends ee.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Eo,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Eo(t){t.debouncedNext()}function So(t){return null!=t&&"false"!=`${t}`}function Co(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Oo(t){return Array.isArray(t)?t:[t]}function To(t){return null==t?"":"string"==typeof t?t:`${t}px`}function xo(t){return t instanceof r.l?t.nativeElement:t}let Io;try{Io="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Tk){Io=!1}let ko,Ao,Do,Ro=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Io)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.dc(r.D))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(r.D))},token:t,providedIn:"root"}),t})(),jo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({}),t})();function Po(t){return function(){if(null==ko&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ko=!0}))}finally{ko=ko||!1}return ko}()?t:!!t.capture}function No(){if(null==Ao){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ao=!1,Ao;if("scrollBehavior"in document.documentElement.style)Ao=!0;else{const t=Element.prototype.scrollTo;Ao=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return Ao}let Mo=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Lo=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=xo(t);return new se.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new Yt.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.dc(Mo))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(Mo))},token:t,providedIn:"root"}),t})(),Fo=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.o,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=So(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Co(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(vo(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(Lo),r.Qb(r.l),r.Qb(r.B))},t.\u0275dir=r.Lb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),Vo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({providers:[Mo]}),t})();class Bo extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Yt.a,this._typeaheadSubscription=Xe.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Yt.a,this.change=new Yt.a,t instanceof r.F&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(Ye.a)(t=>this._pressedLetters.push(t)),vo(t),Ae(()=>this._pressedLetters.length>0),Object(ye.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||yo(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.F?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Uo=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(Tk){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===Ho(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=Ho(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||qo(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.dc(Ro))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(Ro))},token:t,providedIn:"root"}),t})();function qo(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Ho(t){if(!qo(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class zo{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Se(1)).subscribe(t)}}let Wo=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new zo(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(Uo),r.dc(r.B),r.dc(o))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(Uo),Object(r.dc)(r.B),Object(r.dc)(o))},token:t,providedIn:"root"}),t})();function Qo(t){return 0===t.buttons}function $o(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}"undefined"!=typeof Element&&Element;const Ko=new r.s("cdk-focus-monitor-default-options"),Go=Po({passive:!0,capture:!0});let Yo=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=Qo(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{$o(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Zo(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=Zo(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=xo(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Gt.a)(null);const r=function(t){if(function(){if(null==Do){const t="undefined"!=typeof document?document.head:null;Do=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Do}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new Yt.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=xo(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=xo(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=Zo(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===Zo(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,Go),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,Go)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,Go),t.addEventListener("mousedown",this._documentMousedownListener,Go),t.addEventListener("touchstart",this._documentTouchstartListener,Go),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Go),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Go),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,Go),t.removeEventListener("mousedown",this._documentMousedownListener,Go),t.removeEventListener("touchstart",this._documentTouchstartListener,Go),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.dc(r.B),r.dc(Ro),r.dc(o,8),r.dc(Ko,8))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(r.B),Object(r.dc)(Ro),Object(r.dc)(o,8),Object(r.dc)(Ko,8))},token:t,providedIn:"root"}),t})();function Zo(t){return t.composedPath?t.composedPath()[0]:t.target}let Xo=(()=>{class t{constructor(t,e){this._elementRef=t,this._focusMonitor=e,this.cdkFocusChange=new r.o}ngAfterViewInit(){const t=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(t,1===t.nodeType&&t.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(t=>this.cdkFocusChange.emit(t))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(Yo))},t.\u0275dir=r.Lb({type:t,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),t})();const Jo="cdk-high-contrast-black-on-white",ta="cdk-high-contrast-white-on-black",ea="cdk-high-contrast-active";let na=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(ea),t.remove(Jo),t.remove(ta);const e=this.getHighContrastMode();1===e?(t.add(ea),t.add(Jo)):2===e&&(t.add(ea),t.add(ta))}}}return t.\u0275fac=function(e){return new(e||t)(r.dc(Ro),r.dc(o))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(Ro),Object(r.dc)(o))},token:t,providedIn:"root"}),t})(),ra=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(r.dc(na))},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[jo,Vo]]}),t})();const ia=new r.s("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.X)(o)}});let sa=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.o,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.dc(ia,8))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(ia,8))},token:t,providedIn:"root"}),t})(),oa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({}),t})();const aa=new r.R("11.2.7");class ca{}const ua="*";function la(t,e){return{type:7,name:t,definitions:e,options:{}}}function ha(t,e=null){return{type:4,styles:e,timings:t}}function da(t,e=null){return{type:2,steps:t,options:e}}function fa(t){return{type:6,styles:t,offset:null}}function pa(t,e,n){return{type:0,name:t,styles:e,options:n}}function ma(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function ga(t){Promise.resolve(null).then(t)}class ya{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ga(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ba{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?ga(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function va(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function _a(t){switch(t.length){case 0:return new ya;case 1:return t[0];default:return new ba(t)}}function wa(t,e,n,r,i={},s={}){const o=[],a=[];let c=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==c,l=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case ua:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),u=l,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function Ea(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Sa(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Sa(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Sa(n,"destroy",t)))}}function Sa(t,e,n){const r=n.totalTime,i=Ca(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Ca(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Oa(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Ta(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let xa=(t,e)=>!1,Ia=(t,e)=>!1,ka=(t,e,n)=>[];const Aa=va();(Aa||"undefined"!=typeof Element)&&(xa=(t,e)=>t.contains(e),Ia=(()=>{if(Aa||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Ia}})(),ka=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Da=null,Ra=!1;function ja(t){Da||(Da=("undefined"!=typeof document?document.body:null)||{},Ra=!!Da.style&&"WebkitAppearance"in Da.style);let e=!0;return Da.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Da.style,!e&&Ra)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Da.style),e}const Pa=Ia,Na=xa,Ma=ka;function La(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let Fa=(()=>{class t{validateStyleProperty(t){return ja(t)}matchesElement(t,e){return Pa(t,e)}containsElement(t,e){return Na(t,e)}query(t,e,n){return Ma(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new ya(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),Va=(()=>{class t{}return t.NOOP=new Fa,t})();const Ba="ng-enter",Ua="ng-leave",qa="ng-trigger",Ha=".ng-trigger",za="ng-animating",Wa=".ng-animating";function Qa(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$a(parseFloat(e[1]),e[2])}function $a(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Ka(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=$a(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=$a(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Ga(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Ya(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Ga(t,n);return n}function Za(t,e,n){return n?e+":"+n+";":""}function Xa(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=Za(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Za(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Ja(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=ac(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),va()&&Xa(t))}function tc(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=ac(e);t.style[n]=""}),va()&&Xa(t))}function ec(t){return Array.isArray(t)?1==t.length?t[0]:da(t):t}const nc=new RegExp("{{\\s*(.+?)\\s*}}","g");function rc(t){let e=[];if("string"==typeof t){let n;for(;n=nc.exec(t);)e.push(n[1]);nc.lastIndex=0}return e}function ic(t,e,n){const r=t.toString(),i=r.replace(nc,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function sc(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const oc=/-+([a-z0-9])/g;function ac(t){return t.replace(oc,(...t)=>t[1].toUpperCase())}function cc(t,e){return 0===t||0===e}function uc(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=hc(t,e)})}}return e}function lc(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function hc(t,e){return window.getComputedStyle(t)[e]}const dc="*";function fc(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(gc(i,o)),"<"!=s[0]||i==dc&&o==dc||e.push(gc(o,i))}(t,n,e)):n.push(t),n}const pc=new Set(["true","1"]),mc=new Set(["false","0"]);function gc(t,e){const n=pc.has(t)||mc.has(t),r=pc.has(e)||mc.has(e);return(i,s)=>{let o=t==dc||t==i,a=e==dc||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?pc.has(t):mc.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?pc.has(e):mc.has(e)),o&&a}}const yc=new RegExp("s*:selfs*,?","g");function bc(t,e,n){return new vc(t).build(e,n)}class vc{constructor(t){this._driver=t}build(t,e){const n=new _c(e);return this._resetContextStyleTimingState(n),lc(this,ec(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(wc(t)){const e=t;Object.keys(e).forEach(t=>{rc(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=sc(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=lc(this,ec(t.animation),e);return{type:1,matchers:fc(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Ec(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>lc(this,t,e)),options:Ec(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=lc(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:Ec(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Sc(Ka(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=Sc(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Ka(r,e),Sc(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:fa({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=fa(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==ua?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(wc(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=rc(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(wc(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(wc(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=c&&(r++,u=n.offset=c),o=o||u<0||u>1,s=s||u<a,a=u,i.push(u),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let l=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(u-1));const h=u-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:lc(this,ec(t.animation),e),options:Ec(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ec(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ec(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(yc,"")),[t=t.replace(/@\*/g,Ha).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Wa),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Oa(e.collectedStyles,e.currentQuerySelector,{});const o=lc(this,ec(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:Ec(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Ka(t.timings,e.errors,!0);return{type:12,animation:lc(this,ec(t.animation),e),timings:n,options:null}}}class _c{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function wc(t){return!Array.isArray(t)&&"object"==typeof t}function Ec(t){var e;return t?(t=Ga(t)).params&&(t.params=(e=t.params)?Ga(e):null):t={},t}function Sc(t,e,n){return{duration:t,delay:e,easing:n}}function Cc(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Oc{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Tc=new RegExp(":enter","g"),xc=new RegExp(":leave","g");function Ic(t,e,n,r,i,s={},o={},a,c,u=[]){return(new kc).buildKeyframes(t,e,n,r,i,s,o,a,c,u)}class kc{buildKeyframes(t,e,n,r,i,s,o,a,c,u=[]){c=c||new Oc;const l=new Dc(t,e,c,r,i,u,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),lc(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Cc(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Qa(n.duration):null,s=null!=n.delay?Qa(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),lc(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ac);const t=Qa(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>lc(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Qa(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),lc(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Ka(e.params?ic(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Qa(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ac);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),lc(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const u=c.currentTime;lc(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const Ac={};class Dc{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ac,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Rc(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Qa(n.duration)),null!=n.delay&&(r.delay=Qa(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=ic(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Dc(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=Ac,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new jc(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Tc,"."+this._enterClassName)).replace(xc,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Rc{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Rc(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ua,this._currentKeyframe[t]=ua}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=ua})):Ya(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=ic(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:ua),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=Ya(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==ua&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?sc(t.values()):[],s=e.size?sc(e.values()):[];if(n){const t=r[0],e=Ga(t);t.offset=0,e.offset=1,r=[t,e]}return Cc(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class jc extends Rc{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=Ya(t[0],!1);a.offset=0,i.push(a);const c=Ya(t[0],!1);c.offset=Pc(o),i.push(c);const u=t.length-1;for(let r=1;r<=u;r++){let o=Ya(t[r],!1);o.offset=Pc((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Cc(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Pc(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Nc{}class Mc extends Nc{normalizePropertyName(t,e){return ac(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(Lc[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const Lc=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Fc(t,e,n,r,i,s,o,a,c,u,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:l,totalTime:h,errors:d}}const Vc={};class Bc{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,c,u){const l=[],h=this.ast.options&&this.ast.options.params||Vc,d=this.buildStyles(n,o&&o.params||Vc,l),f=a&&a.params||Vc,p=this.buildStyles(r,f,l),m=new Set,g=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),f)},_=u?[]:Ic(t,e,this.ast.animation,i,s,d,p,v,c,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return Fc(e,this._triggerName,n,r,b,d,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=Oa(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Oa(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=sc(m.values());return Fc(e,this._triggerName,n,r,b,d,p,_,E,g,y,w)}}class Uc{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Ga(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=ic(s,r,e)),n[t]=s})}}),n}}class qc{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Uc(t.style,t.options&&t.options.params||{})}),Hc(this.states,"true","1"),Hc(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Bc(t,e,this.states))}),this.fallbackTransition=new Bc(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Hc(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const zc=new Oc;class Wc{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=bc(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=wa(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Ic(this._driver,e,i,Ba,Ua,{},{},n,zc,r),s.forEach(t=>{const e=Oa(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,ua)})});const a=_a(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Ca(e,"","","");return Ea(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Qc="ng-animate-queued",$c="ng-animate-disabled",Kc=".ng-animate-disabled",Gc=[],Yc={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Zc={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Xc{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Ga(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Jc="void",tu=new Xc(Jc);class eu{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,cu(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Oa(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Oa(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(cu(t,qa),cu(t,"ng-trigger-"+e),a[e]=tu),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new ru(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(cu(t,qa),cu(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new Xc(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=tu),c.value!==Jc&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{tc(t,n),Ja(t,r)})}return}const u=Oa(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(cu(t,Qc),s.onStart(()=>{uu(t,Qc)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),u.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Ha,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Jc,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&_a(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||tu,a=new Xc(Jc),c=new ru(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:c,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==Yc||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){cu(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Ca(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,Ea(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class nu{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new eu(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(iu(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!iu(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),cu(t,$c)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),uu(t,$c))}removeNode(t,e,n,r){if(iu(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return iu(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Ha,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Wa,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return _a(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Yc,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Kc)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Kc,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)cu(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?_a(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Oc,r=[],i=new Map,s=[],o=new Map,a=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)u.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=au(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=Ba+p++;f.set(e,n),t.forEach(t=>cu(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,v=au(h,Array.from(g));v.forEach((t,e)=>{const n=Ua+p++;b.set(e,n),t.forEach(t=>cu(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>uu(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>uu(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const u=!l||!this.driver.containsElement(l,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,u);if(p.errors&&p.errors.length)w.push(p);else{if(u)return e.onStart(()=>tc(i,p.fromStyles)),e.onDestroy(()=>Ja(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>tc(i,p.fromStyles)),e.onDestroy(()=>Ja(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Oa(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Oa(E,e,[]).push(t),t.destroy()})});const C=m.filter(t=>du(t,a,c)),O=new Map;ou(O,this.driver,y,c,ua).forEach(t=>{du(t,a,c)&&C.push(t)});const T=new Map;d.forEach((t,e)=>{ou(T,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=O.get(t),n=T.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const x=[],I=[],k={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(u.has(e))return s.onDestroy(()=>Ja(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=k;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,T,O);if(s.setRealPlayer(n),t===k)x.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=_a(e)),r.push(s)}}else tc(e,o.fromStyles),s.onDestroy(()=>Ja(e,o.toStyles)),I.push(s),u.has(e)&&r.push(s)}),I.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=_a(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(uu(t,Ua),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Wa,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?lu(this,t,r):this.processLeaveNode(t)}return m.length=0,x.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),x}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Jc;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,c=Oa(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}tc(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,c=[],u=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new ya(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return hu(t,e),e}((n.get(h)||Gc).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=wa(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new ru(t,o,h);e.setRealPlayer(b),c.push(e)}return b});c.forEach(t=>{Oa(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>cu(t,za));const d=_a(h);return d.onDestroy(()=>{u.forEach(t=>uu(t,za)),Ja(a,e.toStyles)}),l.forEach(t=>{Oa(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new ya(t.duration,t.delay)}}class ru{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new ya,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>Ea(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Oa(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function iu(t){return t&&1===t.nodeType}function su(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function ou(t,e,n,r,i){const s=[];n.forEach(t=>s.push(su(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=Zc,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>su(t,s[a++])),o}function au(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function cu(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function uu(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function lu(t,e,n){_a(n).onDone(()=>t.processLeaveNode(e))}function hu(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof ba?hu(r.players,e):e.push(r)}}function du(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class fu{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new nu(t,e,n),this._timelineEngine=new Wc(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=bc(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new qc(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Ta(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Ta(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function pu(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=gu(e[0]),e.length>1&&(r=gu(e[e.length-1]))):e&&(n=gu(e)),n||r?new mu(t,n,r):null}let mu=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Ja(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ja(this._element,this._initialStyles),this._endStyles&&(Ja(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(tc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(tc(this._element,this._endStyles),this._endStyles=null),Ja(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function gu(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];yu(i)&&(e=e||{},e[i]=t[i])}return e}function yu(t){return"display"===t||"position"===t}const bu="animation",vu="animationend";class _u{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Tu(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Ou(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Cu(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){wu(this._element,this._name,"paused")}resume(){wu(this._element,this._name,"running")}setPosition(t){const e=Eu(this._element,this._name);this._position=t*this._duration,Ou(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Cu(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Tu(t,"").split(","),r=Su(n,e);r>=0&&(n.splice(r,1),Ou(t,"",n.join(",")))}(this._element,this._name))}}function wu(t,e,n){Ou(t,"PlayState",n,Eu(t,e))}function Eu(t,e){const n=Tu(t,"");return n.indexOf(",")>0?Su(n.split(","),e):Su([n],e)}function Su(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Cu(t,e,n){n?t.removeEventListener(vu,e):t.addEventListener(vu,e)}function Ou(t,e,n,r){const i=bu+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Tu(t,e){return t.style[bu+e]||""}class xu{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new _u(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:hc(this.element,n))})}this.currentSnapshot=t}}class Iu extends ya{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=La(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class ku{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return ja(t)}matchesElement(t,e){return Pa(t,e)}containsElement(t,e){return Na(t,e)}query(t,e,n){return Ma(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>La(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof xu),c={};cc(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=uc(t,e,c));if(0==n)return new Iu(t,u);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const d=pu(t,e),f=new xu(t,e,l,n,r,i,u,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class Au{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:hc(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Du{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ru().toString()),this._cssKeyframesDriver=new ku}validateStyleProperty(t){return ja(t)}matchesElement(t,e){return Pa(t,e)}containsElement(t,e){return Na(t,e)}query(t,e,n){return Ma(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},u=s.filter(t=>t instanceof Au);cc(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=pu(t,e=uc(t,e=e.map(t=>Ya(t,!1)),c));return new Au(t,e,a,l)}}function Ru(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let ju=(()=>{class t extends ca{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.T.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?da(t):t;return Mu(this._renderer,null,e,"register",[n]),new Pu(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(r.H),r.dc(o))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();class Pu extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Nu(this._id,t,e||{},this._renderer)}}class Nu{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Mu(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Mu(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Lu="@",Fu="@.disabled";let Vu=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Bu("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Uu(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.dc(r.H),r.dc(fu),r.dc(r.B))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();class Bu{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Lu&&e==Fu?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Uu extends Bu{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Lu?"."==e.charAt(1)&&e==Fu?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Lu){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=Lu&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let qu=(()=>{class t extends fu{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(o),r.dc(Va),r.dc(Nc))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();const Hu=new r.s("AnimationModuleType"),zu=[{provide:Va,useFactory:function(){return"function"==typeof Ru()?new Du:new ku}},{provide:Hu,useValue:"BrowserAnimations"},{provide:ca,useClass:ju},{provide:Nc,useFactory:function(){return new Mc}},{provide:fu,useClass:qu},{provide:r.H,useFactory:function(t,e,n){return new Vu(t,e,n)},deps:[Rt,fu,r.B]}];let Wu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({providers:zu,imports:[$t]}),t})();const Qu=new r.R("11.2.7"),$u=new r.s("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Ku,Gu=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.Y)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Qu.full!==aa.full&&console.warn("The Angular Material version ("+Qu.full+") does not match the Angular CDK version ("+aa.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.dc(na),r.dc($u,8),r.dc(o))},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[oa],oa]}),t})();function Yu(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=So(t)}}}function Zu(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function Xu(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=So(t)}}}try{Ku="undefined"!=typeof Intl}catch(Tk){Ku=!1}let Ju=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class tl{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const el={enterDuration:450,exitDuration:400},nl=Po({passive:!0}),rl=["mousedown","touchstart"],il=["mouseup","mouseleave","touchend","touchcancel"];class sl{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=xo(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},el),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,c=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=o-s+"px",u.style.top=a-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=n.color&&(u.style.backgroundColor=n.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const l=new tl(this,u,n);return l.state=0,this._activeRipples.add(l),n.persistent||(this._mostRecentTransientRipple=l),this._runTimeoutOutsideZone(()=>{const t=l===this._mostRecentTransientRipple;l.state=1,n.persistent||t&&this._isPointerDown||l.fadeOut()},c),l}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},el),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=xo(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(rl))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(il),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Qo(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!$o(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,nl)})})}_removeTriggerEvents(){this._triggerElement&&(rl.forEach(t=>{this._triggerElement.removeEventListener(t,this,nl)}),this._pointerUpEventsRegistered&&il.forEach(t=>{this._triggerElement.removeEventListener(t,this,nl)}))}}const ol=new r.s("mat-ripple-global-options");let al=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new sl(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(r.B),r.Qb(Ro),r.Qb(ol,8),r.Qb(Hu,8))},t.\u0275dir=r.Lb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Ib("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),cl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[Gu,jo],Gu]}),t})(),ul=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[Gu]]}),t})(),ll=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[cl,dt,Gu,ul]]}),t})();const hl=["mat-button",""],dl=["*"],fl=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class pl{constructor(t){this._elementRef=t}}const ml=Zu(Yu(Xu(pl)));let gl=(()=>{class t extends ml{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of fl)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(Yo),r.Qb(Hu,8))},t.\u0275cmp=r.Kb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.Jc(al,1),2&t){let t;r.vc(t=r.hc())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Eb("disabled",e.disabled||null),r.Ib("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.Ab],attrs:hl,ngContentSelectors:dl,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.oc(),r.Wb(0,"span",0),r.nc(1),r.Vb(),r.Rb(2,"span",1),r.Rb(3,"span",2)),2&t&&(r.Db(2),r.Ib("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.pc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[al],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),yl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[cl,Gu],Gu]}),t})(),bl=(()=>{class t{constructor(t,e){this.router=t,this.formBuilder=e,this.email=new Qs("",[us.required,us.email]),this.password=new Qs("",[us.required]),this.loginForm=this.formBuilder.group({email:this.email,password:this.password})}ngOnInit(){}getErrorMessage(){return this.email.hasError("required")?"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044":this.email.hasError("email")?"\u6709\u52b9\u306a\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3067\u306f\u3042\u308a\u307e\u305b\u3093":""}login(){return Object(Gi.b)(this,void 0,void 0,function*(){})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(xi),r.Qb(go))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-login-form"]],decls:32,vars:2,consts:[[1,"main"],[1,"login-form"],[1,"logo-field"],["src","./../../assets/title_logo.png",1,"title-logo"],[1,"input-label"],["type","text","required","",1,"form-control",3,"formControl"],[1,"login-button"],["mat-raised-button","","color","primary",3,"click"],[1,"sign-in-literal"],[1,"social-login-buttons-field"],["mat-raised-button","",1,"social-login-button"],["src","./../../assets/btn_google_dark_normal_ios.svg"],["routerLink","/forgot"],[1,"signup-link"],["routerLink","/signup"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.Wb(2,"div",2),r.Rb(3,"img",3),r.Vb(),r.Wb(4,"h1"),r.Fc(5,"\u30b5\u30a4\u30f3\u30a4\u30f3"),r.Vb(),r.Wb(6,"span",4),r.Fc(7,"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"),r.Vb(),r.Rb(8,"input",5),r.Wb(9,"span",4),r.Fc(10,"\u30d1\u30b9\u30ef\u30fc\u30c9"),r.Vb(),r.Rb(11,"input",5),r.Wb(12,"div",6),r.Wb(13,"button",7),r.gc("click",function(){return e.login()}),r.Wb(14,"span",8),r.Fc(15,"\u30b5\u30a4\u30f3\u30a4\u30f3"),r.Vb(),r.Vb(),r.Vb(),r.Rb(16,"br"),r.Wb(17,"div",9),r.Fc(18," \u307e\u305f\u306f"),r.Rb(19,"br"),r.Wb(20,"button",10),r.Rb(21,"img",11),r.Wb(22,"span",8),r.Fc(23,"Google\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u7d9a\u3051\u308b"),r.Vb(),r.Vb(),r.Vb(),r.Rb(24,"br"),r.Wb(25,"a",12),r.Fc(26,"\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5fd8\u308c\u305f\u3089"),r.Vb(),r.Vb(),r.Wb(27,"div",13),r.Fc(28," \u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u3067\u306a\u3044\u3067\u3059\u304b\uff1f"),r.Rb(29,"br"),r.Wb(30,"a",14),r.Fc(31,"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210\u3059\u308b"),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Db(8),r.pc("formControl",e.email),r.Db(3),r.pc("formControl",e.password))},directives:[rs,ho,Is,eo,gl,Ii],styles:['.main[_ngcontent-%COMP%]{position:relative;top:15%}.login-form[_ngcontent-%COMP%]{max-width:400px;margin:auto;border:1px solid #dcdcdc;box-shadow:0 0 5px;padding:20px}.login-form[_ngcontent-%COMP%]   .logo-field[_ngcontent-%COMP%]{text-align:center}.login-form[_ngcontent-%COMP%]   .title-logo[_ngcontent-%COMP%]{height:50px}.login-form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:20px;text-align:center;font-size:large;font-weight:700;color:grey}.login-form[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%], .login-form[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:35px}.login-form[_ngcontent-%COMP%]   .login-button[_ngcontent-%COMP%]{text-align:center}.login-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:10px auto;width:80%}.login-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:20px 0 0;width:80%}.social-login-buttons-field[_ngcontent-%COMP%]{margin-top:0;text-align:center}.social-login-buttons-field[_ngcontent-%COMP%]   .social-login-button[_ngcontent-%COMP%]{border:none;margin-top:10px;background-color:#4285f4;padding:2px}.sign-in-literal[_ngcontent-%COMP%]{color:#fff;font-family:"inherit";font-weight:700;vertical-align:middle}.social-login-buttons-field[_ngcontent-%COMP%]   .social-login-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:36px;margin-right:20px}.signup-link[_ngcontent-%COMP%]{text-align:center;margin:30px auto}']}),t})();var vl=n("z6cu"),_l=n("w1tV");class wl{}class El{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof El?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new El;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof El?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Sl{encodeKey(t){return Cl(t)}encodeValue(t){return Cl(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Cl(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class Ol{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Sl,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ol({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function Tl(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function xl(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Il(t){return"undefined"!=typeof FormData&&t instanceof FormData}class kl{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new El),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Ol,this.urlWithParams=e}serializeBody(){return null===this.body?null:Tl(this.body)||xl(this.body)||Il(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ol?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Il(this.body)?null:xl(this.body)?this.body.type||null:Tl(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ol?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new kl(e,n,i,{params:c,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var Al=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class Dl extends class{constructor(t,e=200,n="OK"){this.headers=t.headers||new El,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=Al.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Dl({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function Rl(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let jl=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof kl)r=t;else{let i,s;i=n.headers instanceof El?n.headers:new El(n.headers),n.params&&(s=n.params instanceof Ol?n.params:new Ol({fromObject:n.params})),r=new kl(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Gt.a)(r).pipe(Le(t=>this.handler.handle(t)));if(t instanceof kl||"events"===n.observe)return i;const s=i.pipe(Ae(t=>t instanceof Dl));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(ye.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(ye.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(ye.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(ye.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Ol).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,Rl(n,e))}post(t,e,n={}){return this.request("POST",t,Rl(n,e))}put(t,e,n={}){return this.request("PUT",t,Rl(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.dc(wl))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();const Pl=["*"];function Nl(t){return Error(`Unable to find icon with the name "${t}"`)}function Ml(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function Ll(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Fl{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let Vl=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new Fl(n,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){const s=this._sanitizer.sanitize(r.K.HTML,n);if(!s)throw Ll(n);return this._addSvgIconConfig(t,e,new Fl("",s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new Fl(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.K.HTML,e);if(!i)throw Ll(e);return this._addSvgIconSetConfig(t,new Fl("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.K.RESOURCE_URL,t);if(!e)throw Ml(t);const n=this._cachedIconsByUrl.get(e);return n?Object(Gt.a)(Bl(n)):this._loadSvgIconFromConfig(new Fl(t,null)).pipe(Object(Ye.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(ye.a)(t=>Bl(t)))}getNamedSvgIcon(t,e=""){const n=Ul(e,t);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(e,t),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(vl.a)(Nl(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(Gt.a)(Bl(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(ye.a)(t=>Bl(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(Gt.a)(n):Zi(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(je(e=>{const n=this._sanitizer.sanitize(r.K.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(Gt.a)(null)})))).pipe(Object(ye.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw Nl(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(Ye.a)(e=>t.svgText=e),Object(ye.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(Gt.a)(null):this._fetchIcon(t).pipe(Object(Ye.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,s=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.K.RESOURCE_URL,n);if(!o)throw Ml(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Je(()=>this._inProgressUrlFetches.delete(o)),Object(_l.a)());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(Ul(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](e,t);if(i)return(n=i).url&&n.options?new Fl(i.url,null,i.options):new Fl(i,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(r.dc(jl,8),r.dc(qt),r.dc(o,8),r.dc(r.n))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(jl,8),Object(r.dc)(qt),Object(r.dc)(o,8),Object(r.dc)(r.n))},token:t,providedIn:"root"}),t})();function Bl(t){return t.cloneNode(!0)}function Ul(t,e){return t+":"+e}class ql{constructor(t){this._elementRef=t}}const Hl=Zu(ql),zl=new r.s("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.X)(o),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Wl=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Ql=Wl.map(t=>`[${t}]`).join(", "),$l=/^url\(['"]?#(.*?)['"]?\)$/;let Kl=(()=>{class t extends Hl{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=Xe.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=So(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(Ql),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)Wl.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match($l):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(Se(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(Vl),r.ec("aria-hidden"),r.Qb(zl),r.Qb(r.n))},t.\u0275cmp=r.Kb({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Eb("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.Ib("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.Ab],ngContentSelectors:Pl,decls:1,vars:0,template:function(t,e){1&t&&(r.oc(),r.nc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),Gl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[Gu],Gu]}),t})();class Yl{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Zl extends Yl{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class Xl extends Yl{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Jl extends Yl{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class th{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Zl?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Xl?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Jl?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class eh extends th{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let nh=(()=>{class t extends th{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.o,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.j),r.Qb(r.S),r.Qb(o))},t.\u0275dir=r.Lb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.Ab]}),t})(),rh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({}),t})();var ih=n("VRyK"),sh=n("n6bG");function oh(t,e,n,r){return Object(sh.a)(n)&&(r=n,n=void 0),r?oh(t,e,n).pipe(Object(ye.a)(t=>Object(te.a)(t)?r(...t):r(t))):new se.a(r=>{ah(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function ah(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)ah(t[s],e,n,r,i)}r.add(s)}var ch=n("Y7HM");function uh(t=0,e,n){let r=-1;return Object(ch.a)(e)?r=Number(e)<1?1:Number(e):Object(Jt.a)(e)&&(n=e),Object(Jt.a)(n)||(n=bo.a),new se.a(e=>{const i=Object(ch.a)(t)?t:+t-n.now();return n.schedule(lh,i,{index:0,period:r,subscriber:e})})}function lh(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class hh{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new dh(t,this.compare,this.keySelector))}}class dh extends ee.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function fh(t){return e=>e.lift(new ph(t))}class ph{constructor(t){this.notifier=t}call(t,e){const n=new mh(t),r=Object(be.c)(this.notifier,new be.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class mh extends be.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}n("3N8a"),n("IjjT"),n("7Hc7");class gh{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new yh(t,this.durationSelector))}}class yh extends be.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(be.c)(n,new be.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function bh(t,e=bo.a){return n=()=>uh(t,e),function(t){return t.lift(new gh(n))};var n}var vh=n("qgXg"),_h=n("pxpQ"),wh=n("Ylt2");class Eh extends Yt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Sh(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Zt.a;if(this.isStopped||this.hasError?s=Xe.a.EMPTY:(this.observers.push(t),s=new wh.a(this,t)),r&&t.add(t=new _h.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||vh.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class Sh{constructor(t,e){this.time=t,this.value=e}}let Ch=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new Yt.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new se.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(bh(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Gt.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Ae(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=xo(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>oh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(r.B),r.dc(Ro),r.dc(o,8))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(r.B),Object(r.dc)(Ro),Object(r.dc)(o,8))},token:t,providedIn:"root"}),t})(),Oh=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new Yt.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(bh(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.dc(Ro),r.dc(r.B),r.dc(o,8))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(Ro),Object(r.dc)(r.B),Object(r.dc)(o,8))},token:t,providedIn:"root"}),t})(),Th=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({}),t})(),xh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[oa,jo,Th],oa,Th]}),t})();function Ih(t,e){1&t&&r.nc(0)}const kh=["*"];function Ah(t,e){}const Dh=function(t){return{animationDuration:t}},Rh=function(t,e){return{value:t,params:e}},jh=["tabBodyWrapper"],Ph=["tabHeader"];function Nh(t,e){}function Mh(t,e){if(1&t&&r.Dc(0,Nh,0,0,"ng-template",9),2&t){const t=r.jc().$implicit;r.pc("cdkPortalOutlet",t.templateLabel)}}function Lh(t,e){if(1&t&&r.Fc(0),2&t){const t=r.jc().$implicit;r.Gc(t.textLabel)}}function Fh(t,e){if(1&t){const t=r.Xb();r.Wb(0,"div",6),r.gc("click",function(){r.xc(t);const n=e.$implicit,i=e.index,s=r.jc(),o=r.wc(1);return s._handleClick(n,o,i)})("cdkFocusChange",function(n){r.xc(t);const i=e.index;return r.jc()._tabFocusChanged(n,i)}),r.Wb(1,"div",7),r.Dc(2,Mh,1,1,"ng-template",8),r.Dc(3,Lh,1,1,"ng-template",8),r.Vb(),r.Vb()}if(2&t){const t=e.$implicit,n=e.index,i=r.jc();r.Ib("mat-tab-label-active",i.selectedIndex==n),r.pc("id",i._getTabLabelId(n))("disabled",t.disabled)("matRippleDisabled",t.disabled||i.disableRipple),r.Eb("tabIndex",i._getTabIndex(t,n))("aria-posinset",n+1)("aria-setsize",i._tabs.length)("aria-controls",i._getTabContentId(n))("aria-selected",i.selectedIndex==n)("aria-label",t.ariaLabel||null)("aria-labelledby",!t.ariaLabel&&t.ariaLabelledby?t.ariaLabelledby:null),r.Db(2),r.pc("ngIf",t.templateLabel),r.Db(1),r.pc("ngIf",!t.templateLabel)}}function Vh(t,e){if(1&t){const t=r.Xb();r.Wb(0,"mat-tab-body",10),r.gc("_onCentered",function(){return r.xc(t),r.jc()._removeTabBodyWrapperHeight()})("_onCentering",function(e){return r.xc(t),r.jc()._setTabBodyWrapperHeight(e)}),r.Vb()}if(2&t){const t=e.$implicit,n=e.index,i=r.jc();r.Ib("mat-tab-body-active",i.selectedIndex==n),r.pc("id",i._getTabContentId(n))("content",t.content)("position",t.position)("origin",t.origin)("animationDuration",i.animationDuration),r.Eb("aria-labelledby",i._getTabLabelId(n))}}const Bh=["tabListContainer"],Uh=["tabList"],qh=["nextPaginator"],Hh=["previousPaginator"],zh=new r.s("MatInkBarPositioner",{providedIn:"root",factory:function(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let Wh=(()=>{class t{constructor(t,e,n,r){this._elementRef=t,this._ngZone=e,this._inkBarPositioner=n,this._animationMode=r}alignToElement(t){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(t))}):this._setStyles(t)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(t){const e=this._inkBarPositioner(t),n=this._elementRef.nativeElement;n.style.left=e.left,n.style.width=e.width}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(r.B),r.Qb(zh),r.Qb(Hu,8))},t.\u0275dir=r.Lb({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&r.Ib("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t})();const Qh=new r.s("MatTabContent"),$h=new r.s("MatTabLabel");class Kh{}const Gh=Yu(Kh),Yh=new r.s("MAT_TAB_GROUP");let Zh=(()=>{class t extends Gh{constructor(t,e){super(),this._viewContainerRef=t,this._closestTabGroup=e,this.textLabel="",this._contentPortal=null,this._stateChanges=new Yt.a,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(t){this._setTemplateLabelInput(t)}get content(){return this._contentPortal}ngOnChanges(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Xl(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(t){t&&(this._templateLabel=t)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.S),r.Qb(Yh))},t.\u0275cmp=r.Kb({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,n){if(1&t&&(r.Jb(n,$h,1),r.Jb(n,Qh,3,r.N)),2&t){let t;r.vc(t=r.hc())&&(e.templateLabel=t.first),r.vc(t=r.hc())&&(e._explicitContent=t.first)}},viewQuery:function(t,e){if(1&t&&r.Jc(r.N,3),2&t){let t;r.vc(t=r.hc())&&(e._implicitContent=t.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[r.Ab,r.Bb],ngContentSelectors:kh,decls:1,vars:0,template:function(t,e){1&t&&(r.oc(),r.Dc(0,Ih,1,0,"ng-template"))},encapsulation:2}),t})();const Xh={translateTab:la("translateTab",[pa("center, void, left-origin-center, right-origin-center",fa({transform:"none"})),pa("left",fa({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),pa("right",fa({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),ma("* => left, * => right, left => center, right => center",ha("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),ma("void => left-origin-center",[fa({transform:"translate3d(-100%, 0, 0)"}),ha("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),ma("void => right-origin-center",[fa({transform:"translate3d(100%, 0, 0)"}),ha("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let Jh=(()=>{class t extends nh{constructor(t,e,n,r){super(t,e,r),this._host=n,this._centeringSub=Xe.a.EMPTY,this._leavingSub=Xe.a.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Te(this._host._isCenterPosition(this._host._position))).subscribe(t=>{t&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.j),r.Qb(r.S),r.Qb(Object(r.W)(()=>ed)),r.Qb(o))},t.\u0275dir=r.Lb({type:t,selectors:[["","matTabBodyHost",""]],features:[r.Ab]}),t})(),td=(()=>{class t{constructor(t,e,n){this._elementRef=t,this._dir=e,this._dirChangeSubscription=Xe.a.EMPTY,this._translateTabComplete=new Yt.a,this._onCentering=new r.o,this._beforeCentering=new r.o,this._afterLeavingCenter=new r.o,this._onCentered=new r.o(!0),this.animationDuration="500ms",e&&(this._dirChangeSubscription=e.change.subscribe(t=>{this._computePositionAnimationState(t),n.markForCheck()})),this._translateTabComplete.pipe(function(t,e){return e=>e.lift(new hh(t,undefined))}((t,e)=>t.fromState===e.fromState&&t.toState===e.toState)).subscribe(t=>{this._isCenterPosition(t.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(t.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(t){this._positionIndex=t,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(t){const e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}_computePositionAnimationState(t=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}_computePositionFromOrigin(t){const e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(sa,8),r.Qb(r.h))},t.\u0275dir=r.Lb({type:t,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t})(),ed=(()=>{class t extends td{constructor(t,e,n){super(t,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(sa,8),r.Qb(r.h))},t.\u0275cmp=r.Kb({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){if(1&t&&r.Jc(nh,1),2&t){let t;r.vc(t=r.hc())&&(e._portalHost=t.first)}},hostAttrs:[1,"mat-tab-body"],features:[r.Ab],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){1&t&&(r.Wb(0,"div",0,1),r.gc("@translateTab.start",function(t){return e._onTranslateTabStarted(t)})("@translateTab.done",function(t){return e._translateTabComplete.next(t)}),r.Dc(2,Ah,0,0,"ng-template",2),r.Vb()),2&t&&r.pc("@translateTab",r.tc(3,Rh,e._position,r.sc(1,Dh,e.animationDuration)))},directives:[Jh],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[Xh.translateTab]}}),t})();const nd=new r.s("MAT_TABS_CONFIG");let rd=0;class id{}class sd{constructor(t){this._elementRef=t}}const od=Zu(Xu(sd),"primary");let ad=(()=>{class t extends od{constructor(t,e,n,i){super(t),this._changeDetectorRef=e,this._animationMode=i,this._tabs=new r.F,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=Xe.a.EMPTY,this._tabLabelSubscription=Xe.a.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new r.o,this.focusChange=new r.o,this.animationDone=new r.o,this.selectedTabChange=new r.o(!0),this._groupId=rd++,this.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms",this.disablePagination=!(!n||null==n.disablePagination)&&n.disablePagination,this.dynamicHeight=!(!n||null==n.dynamicHeight)&&n.dynamicHeight}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(t){this._dynamicHeight=So(t)}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){this._indexToSelect=Co(t,null)}get animationDuration(){return this._animationDuration}set animationDuration(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}get backgroundColor(){return this._backgroundColor}set backgroundColor(t){const e=this._elementRef.nativeElement;e.classList.remove(`mat-background-${this.backgroundColor}`),t&&e.classList.add(`mat-background-${t}`),this._backgroundColor=t}ngAfterContentChecked(){const t=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=t){const e=null==this._selectedIndex;e||this.selectedTabChange.emit(this._createChangeEvent(t)),Promise.resolve().then(()=>{this._tabs.forEach((e,n)=>e.isActive=n===t),e||this.selectedIndexChange.emit(t)})}this._tabs.forEach((e,n)=>{e.position=n-t,null==this._selectedIndex||0!=e.position||e.origin||(e.origin=t-this._selectedIndex)}),this._selectedIndex!==t&&(this._selectedIndex=t,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const t=this._tabs.toArray();for(let e=0;e<t.length;e++)if(t[e].isActive){this._indexToSelect=this._selectedIndex=e;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Te(this._allTabs)).subscribe(t=>{this._tabs.reset(t.filter(t=>t._closestTabGroup===this)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}_focusChanged(t){this.focusChange.emit(this._createChangeEvent(t))}_createChangeEvent(t){const e=new id;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Object(ih.a)(...this._tabs.map(t=>t._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}_getTabLabelId(t){return`mat-tab-label-${this._groupId}-${t}`}_getTabContentId(t){return`mat-tab-content-${this._groupId}-${t}`}_setTabBodyWrapperHeight(t){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}_removeTabBodyWrapperHeight(){const t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}_handleClick(t,e,n){t.disabled||(this.selectedIndex=e.focusIndex=n)}_getTabIndex(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}_tabFocusChanged(t,e){t&&(this._tabHeader.focusIndex=e)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(r.h),r.Qb(nd,8),r.Qb(Hu,8))},t.\u0275dir=r.Lb({type:t,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[r.Ab]}),t})(),cd=(()=>{class t extends ad{constructor(t,e,n,r){super(t,e,n,r)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(r.h),r.Qb(nd,8),r.Qb(Hu,8))},t.\u0275cmp=r.Kb({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,n){if(1&t&&r.Jb(n,Zh,1),2&t){let t;r.vc(t=r.hc())&&(e._allTabs=t)}},viewQuery:function(t,e){if(1&t&&(r.Jc(jh,1),r.Jc(Ph,1)),2&t){let t;r.vc(t=r.hc())&&(e._tabBodyWrapper=t.first),r.vc(t=r.hc())&&(e._tabHeader=t.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&r.Ib("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[r.Cb([{provide:Yh,useExisting:t}]),r.Ab],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(r.Wb(0,"mat-tab-header",0,1),r.gc("indexFocused",function(t){return e._focusChanged(t)})("selectFocusedIndex",function(t){return e.selectedIndex=t}),r.Dc(2,Fh,4,14,"div",2),r.Vb(),r.Wb(3,"div",3,4),r.Dc(5,Vh,1,8,"mat-tab-body",5),r.Vb()),2&t&&(r.pc("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),r.Db(2),r.pc("ngForOf",e._tabs),r.Db(1),r.Ib("_mat-animation-noopable","NoopAnimations"===e._animationMode),r.Db(2),r.pc("ngForOf",e._tabs))},directives:function(){return[md,ot,hd,al,Xo,ct,nh,ed]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t})();class ud{}const ld=Yu(ud);let hd=(()=>{class t extends ld{constructor(t){super(),this.elementRef=t}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l))},t.\u0275dir=r.Lb({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(r.Eb("aria-disabled",!!e.disabled),r.Ib("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[r.Ab]}),t})();const dd=Po({passive:!0});let fd=(()=>{class t{constructor(t,e,n,i,s,o,a){this._elementRef=t,this._changeDetectorRef=e,this._viewportRuler=n,this._dir=i,this._ngZone=s,this._platform=o,this._animationMode=a,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new Yt.a,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new Yt.a,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new r.o,this.indexFocused=new r.o,s.runOutsideAngular(()=>{oh(t.nativeElement,"mouseleave").pipe(fh(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(t){t=Co(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}ngAfterViewInit(){oh(this._previousPaginator.nativeElement,"touchstart",dd).pipe(fh(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),oh(this._nextPaginator.nativeElement,"touchstart",dd).pipe(fh(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const t=this._dir?this._dir.change:Object(Gt.a)(null),e=this._viewportRuler.change(150),n=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new Bo(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(n):n(),Object(ih.a)(t,e,this._items.changes).pipe(fh(this._destroyed)).subscribe(()=>{Promise.resolve().then(n),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(fh(this._destroyed)).subscribe(t=>{this.indexFocused.emit(t),this._setTabFocus(t)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(t){if(!yo(t))switch(t.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}_onContentChanges(){const t=this._elementRef.nativeElement.textContent;t!==this._currentTextContent&&(this._currentTextContent=t||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}_isValidIndex(t){if(!this._items)return!0;const e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}_setTabFocus(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();const e=this._tabListContainer.nativeElement,n=this._getLayoutDirection();e.scrollLeft="ltr"==n?0:e.scrollWidth-e.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const t=this.scrollDistance,e="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform=`translateX(${Math.round(e)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(t){this._scrollTo(t)}_scrollHeader(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(t){this._stopInterval(),this._scrollHeader(t)}_scrollToLabel(t){if(this.disablePagination)return;const e=this._items?this._items.toArray()[t]:null;if(!e)return;const n=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:r,offsetWidth:i}=e.elementRef.nativeElement;let s,o;"ltr"==this._getLayoutDirection()?(s=r,o=s+i):(o=this._tabList.nativeElement.offsetWidth-r,s=o-i);const a=this.scrollDistance,c=this.scrollDistance+n;s<a?this.scrollDistance-=a-s+60:o>c&&(this.scrollDistance+=o-c+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(t,e){e&&null!=e.button&&0!==e.button||(this._stopInterval(),uh(650,100).pipe(fh(Object(ih.a)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:e,distance:n}=this._scrollHeader(t);(0===n||n>=e)&&this._stopInterval()}))}_scrollTo(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(r.h),r.Qb(Oh),r.Qb(sa,8),r.Qb(r.B),r.Qb(Ro),r.Qb(Hu,8))},t.\u0275dir=r.Lb({type:t,inputs:{disablePagination:"disablePagination"}}),t})(),pd=(()=>{class t extends fd{constructor(t,e,n,r,i,s,o){super(t,e,n,r,i,s,o),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=So(t)}_itemSelected(t){t.preventDefault()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(r.h),r.Qb(Oh),r.Qb(sa,8),r.Qb(r.B),r.Qb(Ro),r.Qb(Hu,8))},t.\u0275dir=r.Lb({type:t,inputs:{disableRipple:"disableRipple"},features:[r.Ab]}),t})(),md=(()=>{class t extends pd{constructor(t,e,n,r,i,s,o){super(t,e,n,r,i,s,o)}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(r.h),r.Qb(Oh),r.Qb(sa,8),r.Qb(r.B),r.Qb(Ro),r.Qb(Hu,8))},t.\u0275cmp=r.Kb({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,n){if(1&t&&r.Jb(n,hd,0),2&t){let t;r.vc(t=r.hc())&&(e._items=t)}},viewQuery:function(t,e){if(1&t&&(r.Jc(Wh,3),r.Jc(Bh,3),r.Jc(Uh,3),r.Jc(qh,1),r.Jc(Hh,1)),2&t){let t;r.vc(t=r.hc())&&(e._inkBar=t.first),r.vc(t=r.hc())&&(e._tabListContainer=t.first),r.vc(t=r.hc())&&(e._tabList=t.first),r.vc(t=r.hc())&&(e._nextPaginator=t.first),r.vc(t=r.hc())&&(e._previousPaginator=t.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&r.Ib("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[r.Ab],ngContentSelectors:kh,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(r.oc(),r.Wb(0,"div",0,1),r.gc("click",function(){return e._handlePaginatorClick("before")})("mousedown",function(t){return e._handlePaginatorPress("before",t)})("touchend",function(){return e._stopInterval()}),r.Rb(2,"div",2),r.Vb(),r.Wb(3,"div",3,4),r.gc("keydown",function(t){return e._handleKeydown(t)}),r.Wb(5,"div",5,6),r.gc("cdkObserveContent",function(){return e._onContentChanges()}),r.Wb(7,"div",7),r.nc(8),r.Vb(),r.Rb(9,"mat-ink-bar"),r.Vb(),r.Vb(),r.Wb(10,"div",8,9),r.gc("mousedown",function(t){return e._handlePaginatorPress("after",t)})("click",function(){return e._handlePaginatorClick("after")})("touchend",function(){return e._stopInterval()}),r.Rb(12,"div",2),r.Vb()),2&t&&(r.Ib("mat-tab-header-pagination-disabled",e._disableScrollBefore),r.pc("matRippleDisabled",e._disableScrollBefore||e.disableRipple),r.Db(5),r.Ib("_mat-animation-noopable","NoopAnimations"===e._animationMode),r.Db(5),r.Ib("mat-tab-header-pagination-disabled",e._disableScrollAfter),r.pc("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[al,Fo,Wh],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),t})(),gd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[dt,Gu,rh,cl,Vo,ra],Gu]}),t})();const yd=["*",[["mat-toolbar-row"]]],bd=["*","mat-toolbar-row"];class vd{constructor(t){this._elementRef=t}}const _d=Zu(vd);let wd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Lb({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),Ed=(()=>{class t extends _d{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(Ro),r.Qb(o))},t.\u0275cmp=r.Kb({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&r.Jb(n,wd,1),2&t){let t;r.vc(t=r.hc())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&r.Ib("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.Ab],ngContentSelectors:bd,decls:2,vars:0,template:function(t,e){1&t&&(r.oc(yd),r.nc(0),r.nc(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),Sd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[Gu],Gu]}),t})();function Cd(t,e){if(1&t&&(r.Wb(0,"option",14),r.Fc(1),r.Vb()),2&t){const t=e.$implicit;r.pc("value",t[1]),r.Db(1),r.Gc(t[0])}}function Od(t,e){if(1&t&&(r.Wb(0,"tbody",15),r.Wb(1,"tr"),r.Wb(2,"td"),r.Fc(3),r.kc(4,"date"),r.Vb(),r.Rb(5,"td"),r.Rb(6,"td"),r.Rb(7,"td"),r.Rb(8,"td"),r.Vb(),r.Vb()),2&t){const t=e.$implicit,n=r.jc();r.Ac("background-color",n.getBgcolor(t)),r.Db(3),r.Ic("",r.mc(4,4,t,"M/d"),"(",n.dayOfWeekJP[t.getDay()],")")}}let Td=(()=>{class t{constructor(){this.dayOfWeekJP=["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],this.monthOfYear=["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],this.selectedNumber=0,this.today=new Date,this.selectMonthList=new Array(0),this.selectedMonth=new Array(0),this.getMonthList(this.today.getFullYear(),this.today.getMonth()),this.getOneMonth(this.today.getFullYear(),this.today.getMonth())}ngOnInit(){}getOneMonth(t,e){this.selectedMonth.length=0;for(let n=0;n<new Date(t,e+1,0).getDate();n++)this.selectedMonth.push(new Date(t,e,n+1))}getMonthList(t,e){for(let n=5;n>0;n--){let r=new Date(t,e-n+1,0);this.selectMonthList.push([String(r.getFullYear())+"\u5e74"+this.monthOfYear[r.getMonth()]+"1\u65e5\u301c"+this.monthOfYear[r.getMonth()]+String(r.getDate())+"\u65e5",-n])}for(let n=0;n<6;n++){let r=new Date(t,e+n+1,0);this.selectMonthList.push([String(r.getFullYear())+"\u5e74"+this.monthOfYear[r.getMonth()]+"1\u65e5\u301c"+this.monthOfYear[r.getMonth()]+String(r.getDate())+"\u65e5",n])}}changeMonthList(){this.selectMonthList[5]=this.selectMonthList[+this.selectedNumber-this.selectMonthList[5][1]+5];for(let t=5;t>0;t--){let e=new Date(this.today.getFullYear(),this.today.getMonth()+ +this.selectedNumber-t+1,0);this.selectMonthList[5-t]=[String(e.getFullYear())+"\u5e74"+this.monthOfYear[e.getMonth()]+"1\u65e5\u301c"+this.monthOfYear[e.getMonth()]+String(e.getDate())+"\u65e5",+this.selectedNumber-t]}for(let t=1;t<6;t++){let e=new Date(this.today.getFullYear(),this.today.getMonth()+ +this.selectedNumber+t+1,0);this.selectMonthList[5+t]=[String(e.getFullYear())+"\u5e74"+this.monthOfYear[e.getMonth()]+"1\u65e5\u301c"+this.monthOfYear[e.getMonth()]+String(e.getDate())+"\u65e5",t+ +this.selectedNumber]}}changeSelectedMonth(t){this.selectedNumber=+this.selectedNumber+t,this.changeMonthList(),this.getOneMonth(this.today.getFullYear(),this.today.getMonth()+ +this.selectedNumber)}getBgcolor(t){return this.today.getFullYear()==t.getFullYear()&&this.today.getMonth()==t.getMonth()&&this.today.getDate()==t.getDate()?"lightcyan":"white"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["app-record-calendar"]],decls:23,vars:3,consts:[[1,"record-calendar-field"],["color","accent",1,"title-bar"],[1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[1,"month-change-button-field"],[1,"month-change-button",3,"click"],["border","1",1,"record-calendar"],[1,"record-header"],["scope","col",1,"date"],["scope","col",1,"subject"],["scope","col",1,"start"],["scope","col",1,"stop"],["scope","col",1,"memo"],["class","record-data",3,"background-color",4,"ngFor","ngForOf"],[3,"value"],[1,"record-data"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"mat-toolbar",1),r.Wb(2,"select",2),r.gc("ngModelChange",function(t){return e.selectedNumber=t})("change",function(){return e.changeSelectedMonth(0)}),r.Dc(3,Cd,2,2,"option",3),r.Vb(),r.Wb(4,"div",4),r.Wb(5,"button",5),r.gc("click",function(){return e.changeSelectedMonth(-1)}),r.Fc(6,"\uff1c\u524d\u6708"),r.Vb(),r.Wb(7,"button",5),r.gc("click",function(){return e.changeSelectedMonth(1)}),r.Fc(8," \u6b21\u6708\uff1e"),r.Vb(),r.Vb(),r.Vb(),r.Wb(9,"table",6),r.Wb(10,"thead"),r.Wb(11,"tr",7),r.Wb(12,"th",8),r.Fc(13,"\u65e5\u4ed8"),r.Vb(),r.Wb(14,"th",9),r.Fc(15,"\u79d1\u76ee"),r.Vb(),r.Wb(16,"th",10),r.Fc(17,"\u958b\u59cb"),r.Vb(),r.Wb(18,"th",11),r.Fc(19,"\u7d42\u4e86"),r.Vb(),r.Wb(20,"th",12),r.Fc(21,"\u30e1\u30e2"),r.Vb(),r.Vb(),r.Vb(),r.Dc(22,Od,9,7,"tbody",13),r.Vb(),r.Vb()),2&t&&(r.Db(2),r.pc("ngModel",e.selectedNumber),r.Db(1),r.pc("ngForOf",e.selectMonthList),r.Db(19),r.pc("ngForOf",e.selectedMonth))},directives:[Ed,io,Is,Zs,ot,so,uo],pipes:[ht],styles:[".title-bar[_ngcontent-%COMP%]{height:30px}.record-calendar[_ngcontent-%COMP%]{width:100%;border:1px solid rgba(0,0,0,.1);font-size:x-small;text-align:center;margin-bottom:10px}.record-calendar[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .record-calendar[_ngcontent-%COMP%]   .start[_ngcontent-%COMP%], .record-calendar[_ngcontent-%COMP%]   .stop[_ngcontent-%COMP%]{width:80px}.record-calendar[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{width:160px}.form-control[_ngcontent-%COMP%]{width:300px;height:22px;font-size:x-small}.month-change-button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff;font-size:small;margin:auto 10px}.month-change-button-field[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{color:#dcdcdc}.record-header[_ngcontent-%COMP%]{background-color:#e6e6e6}.record-data[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{background-color:#e0ffff}"]}),t})(),xd=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["app-record-graph"]],decls:2,vars:0,consts:[[1,"record-calendar-field"],["color","accent",1,"title-bar"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Rb(1,"mat-toolbar",1),r.Vb())},directives:[Ed],styles:[".title-bar[_ngcontent-%COMP%]{height:30px;font-size:15px;font-family:\u3000Noto Sans JP}.record-calendar-field[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.1)}"]}),t})(),Id=(()=>{class t{constructor(){this.dayOfWeekJP=["\u65e5","\u6708","\u706b","\u6c34","\u6728","\u91d1","\u571f"],this.today=new Date}ngOnInit(){}reload(){location.reload()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["app-record-and-display"]],decls:31,vars:5,consts:[[1,"main-toolbar"],[1,"logo-button",3,"click"],["src","./../../assets/title_logo.png",1,"title-logo"],[1,"spacer"],["mat-icon-button","","color","primary"],[1,"wrapper"],[1,"column","watch-record-tabs"],["mat-align-tabs","center","color","primary"],["label","\u7ba1\u7406\u3068\u7de8\u96c6"],["label","\u30b0\u30e9\u30d5"],[1,"column","button-and-log"],[1,"stamping-button-field"],["color","accent",1,"title-bar"],[1,"select-subject-field"],[1,"form-control","form-control-sm"],["value",""],["mat-icon-button","","color","primary",1,"add-button"],["mat-raised-button","","color","primary",1,"stamping-button"],["mat-raised-button","","color","warn",1,"stamping-button"],["type","text","placeholder","\u30e1\u30e2\u3092\u5165\u529b\u3067\u304d\u307e\u3059","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"]],template:function(t,e){1&t&&(r.Wb(0,"header",0),r.Wb(1,"button",1),r.gc("click",function(){return e.reload()}),r.Rb(2,"img",2),r.Vb(),r.Rb(3,"span",3),r.Wb(4,"button",4),r.Wb(5,"mat-icon"),r.Fc(6,"person"),r.Vb(),r.Vb(),r.Vb(),r.Wb(7,"div",5),r.Wb(8,"div",6),r.Wb(9,"mat-tab-group",7),r.Wb(10,"mat-tab",8),r.Rb(11,"app-record-calendar"),r.Vb(),r.Wb(12,"mat-tab",9),r.Rb(13,"app-record-graph"),r.Vb(),r.Vb(),r.Vb(),r.Wb(14,"div",10),r.Wb(15,"div",11),r.Wb(16,"mat-toolbar",12),r.Fc(17),r.kc(18,"date"),r.Vb(),r.Wb(19,"div",13),r.Wb(20,"select",14),r.Wb(21,"option",15),r.Fc(22,"--\u79d1\u76ee\u3092\u9078\u629e--"),r.Vb(),r.Vb(),r.Wb(23,"button",16),r.Wb(24,"mat-icon"),r.Fc(25,"add"),r.Vb(),r.Vb(),r.Vb(),r.Wb(26,"button",17),r.Fc(27,"\u958b\u59cb"),r.Vb(),r.Wb(28,"button",18),r.Fc(29,"\u7d42\u4e86"),r.Vb(),r.Rb(30,"input",19),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Db(17),r.Ic("",r.mc(18,2,e.today,"yyyy\u5e74MM\u6708dd\u65e5"),"(",e.dayOfWeekJP[e.today.getDay()],")"))},directives:[gl,Kl,cd,Zh,Td,xd,Ed,so,uo],pipes:[ht],styles:[".main-toolbar[_ngcontent-%COMP%]{width:100%;background-color:#fff;display:flex;position:fixed;border-bottom:1px solid rgba(0,0,0,.1);z-index:2}.logo-button[_ngcontent-%COMP%]{border:none;background-color:#fff}.logo-button[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover{opacity:.5}.title-logo[_ngcontent-%COMP%]{height:30px;margin:5px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.wrapper[_ngcontent-%COMP%]{display:flex;padding-top:40px}.wrapper[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]{height:30px;font-size:15px;font-family:\u3000Noto Sans JP}.wrapper[_ngcontent-%COMP%]   .column[_ngcontent-%COMP%]{height:100hv;width:100%}.wrapper[_ngcontent-%COMP%]   .button-and-log[_ngcontent-%COMP%]{width:500px}.wrapper[_ngcontent-%COMP%]   .button-and-log[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px;margin-right:10px;border:1px solid rgba(0,0,0,.2)}.wrapper[_ngcontent-%COMP%]   .button-and-log[_ngcontent-%COMP%]   .stamping-button-field[_ngcontent-%COMP%]{text-align:center}.wrapper[_ngcontent-%COMP%]   .button-and-log[_ngcontent-%COMP%]   .stamping-button-field[_ngcontent-%COMP%]   .select-subject-field[_ngcontent-%COMP%]{display:flex;border:none}.wrapper[_ngcontent-%COMP%]   .button-and-log[_ngcontent-%COMP%]   .stamping-button[_ngcontent-%COMP%]{height:60px;width:120px;font-size:x-large;margin:10px 20px}.wrapper[_ngcontent-%COMP%]   .button-and-log[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:300px;margin:auto}.wrapper[_ngcontent-%COMP%]   .button-and-log[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:90%;height:30px;margin:10px auto}.wrapper[_ngcontent-%COMP%]   .watch-record-tabs[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px}"]}),t})();var kd=n("spgP");const Ad=new r.s("angularfire2.auth.use-emulator"),Dd=new r.s("angularfire2.auth.settings"),Rd=new r.s("angularfire2.auth.tenant-id"),jd=new r.s("angularfire2.auth.langugage-code"),Pd=new r.s("angularfire2.auth.use-device-language"),Nd=new r.s("angularfire.auth.persistence");let Md=(()=>{class t{constructor(t,e,r,i,s,o,a,c,u,l){const h=new kd.d(i),d=Object(kd.h)(h),f=new Yt.a,p=Object(Gt.a)(void 0).pipe(Object(_h.b)(h.outsideAngular),ve(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(ye.a)(()=>Object(kd.g)(t,i,e)),Object(ye.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(kd.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=t.auth();return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=c,u&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,c,u,n,l])})),function(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:void 0,refCount:!1,scheduler:void 0},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,c=!1;return function(u){let l;o++,!i||a?(a=!1,i=new Eh(t,e,r),l=i.subscribe(this),s=u.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,s=void 0,i.complete()}}),c&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}({bufferSize:1,refCount:!1}));return ft(r)?this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Gt.a)(null):(p.pipe(Ge()).subscribe(),this.authState=p.pipe(ve(t=>t.getRedirectResult().then(()=>t,()=>t)),ve(t=>i.runOutsideAngular(()=>new se.a(t.onAuthStateChanged.bind(t)))),d),this.user=p.pipe(ve(t=>t.getRedirectResult().then(()=>t,()=>t)),ve(t=>i.runOutsideAngular(()=>new se.a(t.onIdTokenChanged.bind(t)))),d),this.idToken=this.user.pipe(ve(t=>t?Object(Kt.a)(t.getIdToken()):Object(Gt.a)(null))),this.idTokenResult=this.user.pipe(ve(t=>t?Object(Kt.a)(t.getIdTokenResult()):Object(Gt.a)(null))),this.credential=p.pipe(ve(t=>Object(ih.a)(t.getRedirectResult().then(t=>t,()=>null),f,this.authState.pipe(Ae(t=>!t)))),Object(ye.a)(t=>(null==t?void 0:t.user)?t:null))),Object(kd.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.dc(kd.c),r.dc(kd.b,8),r.dc(r.D),r.dc(r.B),r.dc(Ad,8),r.dc(Dd,8),r.dc(Rd,8),r.dc(jd,8),r.dc(Pd,8),r.dc(Nd,8))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(kd.c),Object(r.dc)(kd.b,8),Object(r.dc)(r.D),Object(r.dc)(r.B),Object(r.dc)(Ad,8),Object(r.dc)(Dd,8),Object(r.dc)(Rd,8),Object(r.dc)(jd,8),Object(r.dc)(Pd,8),Object(r.dc)(Nd,8))},token:t,providedIn:"any"}),t})();Object(kd.e)(Md,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);let Ld=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({providers:[Md]}),t})(),Fd=(()=>{class t{constructor(t){this.angularFireAuth=t}signupWithEmailAndPassword(t,e){return Object(Gi.b)(this,void 0,void 0,function*(){let n=yield this.angularFireAuth.createUserWithEmailAndPassword(t,e).catch(t=>(console.log(t),alert("\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u4f5c\u6210\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\n"+t),null));null!=n&&null!=n.user&&(yield n.user.sendEmailVerification(),alert("\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u78ba\u8a8d\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3002"))})}}return t.\u0275fac=function(e){return new(e||t)(r.dc(Md))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Vd=[{path:"home",component:Id},{path:"login",component:bl},{path:"signup",component:(()=>{class t{constructor(t,e,n){this.router=t,this.formBuilder=e,this.authService=n,this.email=new Qs("",[us.required,us.email]),this.password=new Qs("",[us.required]),this.loginForm=this.formBuilder.group({email:this.email})}ngOnInit(){}getErrorMessage(){return this.email.hasError("required")?"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044":this.email.hasError("email")?"\u6709\u52b9\u306a\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u3067\u306f\u3042\u308a\u307e\u305b\u3093":""}signupWithEmailAndPassword(){return Object(Gi.b)(this,void 0,void 0,function*(){this.authService.signupWithEmailAndPassword(this.email.value,this.password.value)})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(xi),r.Qb(go),r.Qb(Fd))},t.\u0275cmp=r.Kb({type:t,selectors:[["app-signup-form"]],decls:33,vars:3,consts:[[1,"main"],[1,"signup-form"],[1,"logo-field"],["src","./../../assets/title_logo.png",1,"title-logo"],[1,"input-label"],["type","text","required","",1,"form-control",3,"formControl"],[1,"signup-button"],["mat-raised-button","","color","primary",3,"click"],[1,"sign-in-literal"],[1,"social-signup-buttons-field"],["mat-raised-button","",1,"social-signup-button"],["src","./../../assets/btn_google_dark_normal_ios.svg"],[1,"signup-link"],["routerLink","/login"]],template:function(t,e){1&t&&(r.Wb(0,"div",0),r.Wb(1,"div",1),r.Wb(2,"div",2),r.Rb(3,"img",3),r.Vb(),r.Wb(4,"h1"),r.Fc(5,"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u4f5c\u6210"),r.Vb(),r.Wb(6,"span",4),r.Fc(7,"\u30e6\u30fc\u30b6\u30fc\u540d"),r.Vb(),r.Rb(8,"input",5),r.Wb(9,"span",4),r.Fc(10,"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"),r.Vb(),r.Rb(11,"input",5),r.Wb(12,"span",4),r.Fc(13,"\u30d1\u30b9\u30ef\u30fc\u30c9"),r.Vb(),r.Rb(14,"input",5),r.Wb(15,"div",6),r.Wb(16,"button",7),r.gc("click",function(){return e.signupWithEmailAndPassword()}),r.Wb(17,"span",8),r.Fc(18,"\u7d9a\u3051\u308b"),r.Vb(),r.Vb(),r.Vb(),r.Rb(19,"br"),r.Wb(20,"div",9),r.Fc(21," \u307e\u305f\u306f"),r.Rb(22,"br"),r.Wb(23,"button",10),r.Rb(24,"img",11),r.Wb(25,"span",8),r.Fc(26,"Google\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u7d9a\u3051\u308b"),r.Vb(),r.Vb(),r.Rb(27,"br"),r.Vb(),r.Vb(),r.Wb(28,"div",12),r.Fc(29," \u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u306e\u5834\u5408"),r.Rb(30,"br"),r.Wb(31,"a",13),r.Fc(32,"\u30ed\u30b0\u30a4\u30f3"),r.Vb(),r.Vb(),r.Vb()),2&t&&(r.Db(8),r.pc("formControl",e.password),r.Db(3),r.pc("formControl",e.email),r.Db(3),r.pc("formControl",e.password))},directives:[rs,ho,Is,eo,gl,Ii],styles:['.main[_ngcontent-%COMP%]{position:relative;top:10%}.signup-form[_ngcontent-%COMP%]{max-width:400px;margin:auto;border:1px solid #dcdcdc;box-shadow:0 0 5px;padding:20px 20px 40px}.signup-form[_ngcontent-%COMP%]   .logo-field[_ngcontent-%COMP%]{text-align:center}.signup-form[_ngcontent-%COMP%]   .title-logo[_ngcontent-%COMP%]{height:50px}.signup-form[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:20px;text-align:center;font-size:large;font-weight:700;color:grey}.signup-form[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{margin-left:35px}.signup-form[_ngcontent-%COMP%]   .signup-button[_ngcontent-%COMP%]{text-align:center}.signup-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:10px auto;width:80%}.signup-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:20px 0 0;width:80%}.social-signup-buttons-field[_ngcontent-%COMP%]{margin-top:0;text-align:center}.social-signup-buttons-field[_ngcontent-%COMP%]   .social-signup-button[_ngcontent-%COMP%]{border:none;margin-top:10px;background-color:#4285f4;padding:2px}.sign-in-literal[_ngcontent-%COMP%]{color:#fff;font-family:"inherit";font-weight:700;vertical-align:middle}.social-signup-buttons-field[_ngcontent-%COMP%]   .social-signup-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:36px;margin-right:20px}.signup-link[_ngcontent-%COMP%]{text-align:center;margin:30px auto}']}),t})()}];let Bd=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[Bi.forRoot(Vd)],Bi]}),t})(),Ud=(()=>{class t{constructor(){this.title="study-memory"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Rb(0,"router-outlet")},directives:[Ai],styles:[""]}),t})();const qd={apiKey:"AIzaSyDuUpEPFI8LE1MPoJ6th-hA0I_am3pASmE",authDomain:"study-memory.firebaseapp.com",projectId:"study-memory",storageBucket:"study-memory.appspot.com",messagingSenderId:"192247855851",appId:"1:192247855851:web:bae45c8db3a474d0229cae",measurementId:"G-TW6HG690M2"};var Hd=n("zIRd"),zd=n("qOnz"),Wd=n("q/0M"),Qd=function(t,e){return(Qd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function $d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Kd,Gd="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Yd=Yd||{},Zd=Gd||self;function Xd(){}function Jd(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function tf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var ef="closure_uid_"+(1e9*Math.random()>>>0),nf=0;function rf(t,e,n){return t.call.apply(t.bind,arguments)}function sf(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function of(t,e,n){return(of=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?rf:sf).apply(null,arguments)}function af(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function cf(){return Date.now()}function uf(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function lf(){this.j=this.j,this.i=this.i}lf.prototype.j=!1,lf.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,ef)&&t[ef]||(t[ef]=++nf)}(this)},lf.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var hf=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},df=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function ff(t){return Array.prototype.concat.apply([],arguments)}function pf(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function mf(t){return/^[\s\xa0]*$/.test(t)}var gf,yf=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function bf(t,e){return-1!=t.indexOf(e)}function vf(t,e){return t<e?-1:t>e?1:0}t:{var _f=Zd.navigator;if(_f){var wf=_f.userAgent;if(wf){gf=wf;break t}}gf=""}function Ef(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Sf(t){var e={};for(var n in t)e[n]=t[n];return e}var Cf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Of(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Cf.length;s++)n=Cf[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Tf(t){return Tf[" "](t),t}Tf[" "]=Xd;var xf,If,kf=bf(gf,"Opera"),Af=bf(gf,"Trident")||bf(gf,"MSIE"),Df=bf(gf,"Edge"),Rf=Df||Af,jf=bf(gf,"Gecko")&&!(bf(gf.toLowerCase(),"webkit")&&!bf(gf,"Edge"))&&!(bf(gf,"Trident")||bf(gf,"MSIE"))&&!bf(gf,"Edge"),Pf=bf(gf.toLowerCase(),"webkit")&&!bf(gf,"Edge");function Nf(){var t=Zd.document;return t?t.documentMode:void 0}t:{var Mf="",Lf=(If=gf,jf?/rv:([^\);]+)(\)|;)/.exec(If):Df?/Edge\/([\d\.]+)/.exec(If):Af?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(If):Pf?/WebKit\/(\S+)/.exec(If):kf?/(?:Version)[ \/]?(\S+)/.exec(If):void 0);if(Lf&&(Mf=Lf?Lf[1]:""),Af){var Ff=Nf();if(null!=Ff&&Ff>parseFloat(Mf)){xf=String(Ff);break t}}xf=Mf}var Vf={};function Bf(t){return function(t,e){var n=Vf;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=yf(String(xf)).split("."),r=yf(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=vf(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||vf(0==o[2].length,0==a[2].length)||vf(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var Uf=Zd.document&&Af&&(Nf()||parseInt(xf,10))||void 0,qf=!Af||9<=Number(Uf),Hf=Af&&!Bf("9"),zf=function(){if(!Zd.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Zd.addEventListener("test",Xd,e),Zd.removeEventListener("test",Xd,e)}catch(n){}return t}();function Wf(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Qf(t,e){if(Wf.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(jf){t:{try{Tf(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:$f[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Wf.prototype.b=function(){this.defaultPrevented=!0},uf(Qf,Wf);var $f={2:"touch",3:"pen",4:"mouse"};Qf.prototype.b=function(){Qf.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Hf)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Kf="closure_listenable_"+(1e6*Math.random()|0),Gf=0;function Yf(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Gf,this.Y=this.Z=!1}function Zf(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Xf(t){this.src=t,this.a={},this.b=0}function Jf(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=hf(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Zf(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function tp(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}Xf.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=tp(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new Yf(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var ep="closure_lm_"+(1e6*Math.random()|0),np={};function rp(t,e,n,r,i){if(r&&r.once)return sp(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)rp(t,e[s],n,r,i);return null}return n=fp(n),t&&t[Kf]?t.va(e,n,tf(r)?!!r.capture:!!r,i):ip(t,e,n,!1,r,i)}function ip(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=tf(i)?!!i.capture:!!i;if(o&&!qf)return null;var a=hp(t);if(a||(t[ep]=a=new Xf(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=lp,e=qf?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)zf||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(cp(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function sp(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)sp(t,e[s],n,r,i);return null}return n=fp(n),t&&t[Kf]?t.wa(e,n,tf(r)?!!r.capture:!!r,i):ip(t,e,n,!0,r,i)}function op(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)op(t,e[s],n,r,i);else r=tf(r)?!!r.capture:!!r,n=fp(n),t&&t[Kf]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=tp(s=t.a[e],n,r,i))&&(Zf(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=hp(t))&&(e=t.a[e.toString()],t=-1,e&&(t=tp(e,n,r,i)),(n=-1<t?e[t]:null)&&ap(n))}function ap(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Kf])Jf(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(cp(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=hp(e))?(Jf(n,t),0==n.b&&(n.src=null,e[ep]=null)):Zf(t)}}}function cp(t){return t in np?np[t]:np[t]="on"+t}function up(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ap(t),n.call(r,e)}function lp(t,e){if(t.Y)return!0;if(!qf){if(!e)t:{e=["window","event"];for(var n=Zd,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return up(t,e=new Qf(e,this))}return up(t,new Qf(e,this))}function hp(t){return(t=t[ep])instanceof Xf?t:null}var dp="__closure_events_fn_"+(1e9*Math.random()>>>0);function fp(t){return"function"==typeof t?t:(t[dp]||(t[dp]=function(e){return t.handleEvent(e)}),t[dp])}function pp(){lf.call(this),this.c=new Xf(this),this.J=this,this.C=null}function mp(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Wf(e,t);else if(e instanceof Wf)e.target=e.target||t;else{var i=e;Of(e=new Wf(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=gp(o,r,!0,e)&&i}if(i=gp(o=e.a=t,r,!0,e)&&i,i=gp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=gp(o=e.a=n[s],r,!1,e)&&i}function gp(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.ca||o.src;o.Z&&Jf(t.c,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}uf(pp,lf),pp.prototype[Kf]=!0,(Kd=pp.prototype).addEventListener=function(t,e,n,r){rp(this,t,e,n,r)},Kd.removeEventListener=function(t,e,n,r){op(this,t,e,n,r)},Kd.G=function(){if(pp.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Zf(n[r]);delete e.a[t],e.b--}}this.C=null},Kd.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Kd.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var yp=Zd.JSON.stringify;function bp(){this.b=this.a=null}var vp,_p=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ep},function(t){t.reset()});function wp(){var t=Tp,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ep(){this.next=this.b=this.a=null}function Sp(t){Zd.setTimeout(function(){throw t},0)}function Cp(t,e){vp||function(){var t=Zd.Promise.resolve(void 0);vp=function(){t.then(xp)}}(),Op||(vp(),Op=!0),Tp.add(t,e)}bp.prototype.add=function(t,e){var n=_p.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ep.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ep.prototype.reset=function(){this.next=this.b=this.a=null};var Op=!1,Tp=new bp;function xp(){for(var t;t=wp();){try{t.a.call(t.b)}catch(n){Sp(n)}var e=_p;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Op=!1}function Ip(t,e){pp.call(this),this.b=t||1,this.a=e||Zd,this.f=of(this.Za,this),this.g=cf()}function kp(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ap(t,e,n){if("function"==typeof t)n&&(t=of(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=of(t.handleEvent,t)}return 2147483647<Number(e)?-1:Zd.setTimeout(t,e||0)}function Dp(t){t.a=Ap(function(){t.a=null,t.c&&(t.c=!1,Dp(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}uf(Ip,pp),(Kd=Ip.prototype).aa=!1,Kd.M=null,Kd.Za=function(){if(this.aa){var t=cf()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),mp(this,"tick"),this.aa&&(kp(this),this.start()))}},Kd.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=cf())},Kd.G=function(){Ip.X.G.call(this),kp(this),delete this.a};var Rp=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Qd(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Dp(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Zd.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(lf);function jp(t){lf.call(this),this.b=t,this.a={}}uf(jp,lf);var Pp=[];function Np(t,e,n,r){Array.isArray(n)||(n&&(Pp[0]=n.toString()),n=Pp);for(var i=0;i<n.length;i++){var s=rp(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Mp(t){Ef(t.a,function(t,e){this.a.hasOwnProperty(e)&&ap(t)},t),t.a={}}function Lp(){this.a=!0}function Fp(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return yp(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}jp.prototype.G=function(){jp.X.G.call(this),Mp(this)},jp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lp.prototype.info=function(){};var Vp={},Bp=null;function Up(){return Bp=Bp||new pp}function qp(t){Wf.call(this,Vp.Fa,t)}function Hp(t){var e=Up();mp(e,new qp(e,t))}function zp(t,e){Wf.call(this,Vp.STAT_EVENT,t),this.stat=e}function Wp(t){var e=Up();mp(e,new zp(e,t))}function Qp(t){Wf.call(this,Vp.Ga,t)}function $p(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Zd.setTimeout(function(){t()},e)}Vp.Fa="serverreachability",uf(qp,Wf),Vp.STAT_EVENT="statevent",uf(zp,Wf),Vp.Ga="timingevent",uf(Qp,Wf);var Kp={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Gp={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Yp(){}function Zp(){}Yp.prototype.a=null;var Xp,Jp={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function tm(){Wf.call(this,"d")}function em(){Wf.call(this,"c")}function nm(){}function rm(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new jp(this),this.P=im,this.R=new Ip(t=Rf?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}uf(tm,Wf),uf(em,Wf),uf(nm,Yp),Xp=new nm;var im=45e3,sm={},om={};function am(t,e,n){t.H=1,t.i=km(Sm(e)),t.j=n,t.I=!0,cm(t,null)}function cm(t,e){t.u=cf(),hm(t),t.l=Sm(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),qm(n.b,"t",r),t.D=0,t.a=Mg(t.g,t.g.C?e:null),0<t.O&&(t.F=new Rp(of(t.Ca,t,t.a),t.O)),Np(t.J,t.a,"readystatechange",t.Xa),e=t.B?Sf(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Hp(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function um(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=lm(t,n);if(i==om){4==e&&(t.h=4,Wp(14),r=!1),Fp(t.c,t.f,null,"[Incomplete Response]");break}if(i==sm){t.h=4,Wp(15),Fp(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Fp(t.c,t.f,i,null),gm(t,i)}4==e&&0==n.length&&(t.h=1,Wp(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ig(e),e.F=!0,Wp(11))):(Fp(t.c,t.f,n,"[Invalid Chunked Response]"),mm(t),pm(t))}function lm(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?om:(n=Number(e.substring(n,r)),isNaN(n)?sm:(r+=1)+n>e.length?om:(e=e.substr(r,n),t.D=r+n,e))}function hm(t){t.T=cf()+t.P,dm(t,t.P)}function dm(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=$p(of(t.Va,t),e)}function fm(t){t.o&&(Zd.clearTimeout(t.o),t.o=null)}function pm(t){0==t.g.v||t.A||Dg(t.g,t)}function mm(t){fm(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,kp(t.R),Mp(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function gm(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Gm(n.b,t)))if(n.I=t.N,!t.C&&Gm(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(yT){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Ag(n),vg(n)}xg(n),Wp(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=$p(of(n.Sa,n),6e3));if(1>=Km(n.b)&&n.ea){try{n.ea()}catch(yT){}n.ea=void 0}}else jg(n,11)}else if((t.C||n.a==t)&&Ag(n),!mf(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var u=t.a;if(u){var l=u.a?u.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=c.b;!h.a&&(bf(l,"spdy")||bf(l,"quic")||bf(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Ym(h,h.b),h.b=null))}if(c.A){var d=u.a?u.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,Im(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=cf()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=Ng(c,c.C?c.ga:null,c.fa),f.C){Zm(c.b,f);var p=f,m=c.D;m&&p.setTimeout(m),p.o&&(fm(p),hm(p)),c.a=f}else Tg(c);0<n.g.length&&Eg(n)}else"stop"!=i[0]&&"close"!=i[0]||jg(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?jg(n,7):bg(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Hp(4)}catch(yT){}}function ym(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Jd(t)||"string"==typeof t)df(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Jd(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Jd(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function bm(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof bm)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function vm(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];_m(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)_m(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function _m(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Kd=rm.prototype).setTimeout=function(t){this.P=t},Kd.Xa=function(t){t=t.target;var e=this.F;e&&3==pg(t)?e.f():this.Ca(t)},Kd.Ca=function(t){try{if(t==this.a)t:{var e=pg(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Rf&&!this.a.$())){this.A||4!=e||7==n||Hp(8==n||0>=r?3:2),fm(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mf(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,Wp(12),mm(this),pm(this);break t}Fp(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,gm(this,c)}this.I?(um(this,e,s),Rf&&this.b&&3==e&&(Np(this.J,this.R,"tick",this.Wa),this.R.start())):(Fp(this.c,this.f,s,null),gm(this,s)),4==e&&mm(this),this.b&&!this.A&&(4==e?Dg(this.g,this):(this.b=!1,hm(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Wp(12)):(this.h=0,Wp(13)),mm(this),pm(this)}}}catch(u){}},Kd.Wa=function(){if(this.a){var t=pg(this.a),e=this.a.$();this.D<e.length&&(fm(this),um(this,t,e),this.b&&4!=t&&hm(this))}},Kd.cancel=function(){this.A=!0,mm(this)},Kd.Va=function(){this.o=null;var t=cf();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Hp(3),Wp(17)),mm(this),this.h=2,pm(this)):dm(this,this.T-t)},(Kd=bm.prototype).K=function(){vm(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Kd.L=function(){return vm(this),this.a.concat()},Kd.get=function(t,e){return _m(this.b,t)?this.b[t]:e},Kd.set=function(t,e){_m(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Kd.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var wm=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Em(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Em){this.a=void 0!==e?e:t.a,Cm(this,t.f),this.j=t.j,Om(this,t.c),Tm(this,t.h),this.g=t.g,e=t.b;var n=new Fm;n.c=e.c,e.a&&(n.a=new bm(e.a),n.b=e.b),xm(this,n),this.i=t.i}else t&&(n=String(t).match(wm))?(this.a=!!e,Cm(this,n[1]||"",!0),this.j=Am(n[2]||""),Om(this,n[3]||"",!0),Tm(this,n[4]),this.g=Am(n[5]||"",!0),xm(this,n[6]||"",!0),this.i=Am(n[7]||"")):(this.a=!!e,this.b=new Fm(null,this.a))}function Sm(t){return new Em(t)}function Cm(t,e,n){t.f=n?Am(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Om(t,e,n){t.c=n?Am(e,!0):e}function Tm(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function xm(t,e,n){e instanceof Fm?(t.b=e,function(t,e){e&&!t.f&&(Vm(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Bm(this,e),qm(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=Dm(e,Mm)),t.b=new Fm(e,t.a))}function Im(t,e,n){t.b.set(e,n)}function km(t){return Im(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^cf()).toString(36)),t}function Am(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Dm(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Rm),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Rm(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Em.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Dm(e,jm,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Dm(e,jm,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Dm(n,"/"==n.charAt(0)?Nm:Pm,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Dm(n,Lm)),t.join("")};var jm=/[#\/\?@]/g,Pm=/[#\?:]/g,Nm=/[#\?]/g,Mm=/[#\?@]/g,Lm=/#/g;function Fm(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Vm(t){t.a||(t.a=new bm,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Bm(t,e){Vm(t),e=Hm(t,e),_m(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,_m((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&vm(t)))}function Um(t,e){return Vm(t),e=Hm(t,e),_m(t.a.b,e)}function qm(t,e,n){Bm(t,e),0<n.length&&(t.c=null,t.a.set(Hm(t,e),pf(n)),t.b+=n.length)}function Hm(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Kd=Fm.prototype).add=function(t,e){Vm(this),this.c=null,t=Hm(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Kd.forEach=function(t,e){Vm(this),this.a.forEach(function(n,r){df(n,function(n){t.call(e,n,r,this)},this)},this)},Kd.L=function(){Vm(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},Kd.K=function(t){Vm(this);var e=[];if("string"==typeof t)Um(this,t)&&(e=ff(e,this.a.get(Hm(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=ff(e,t[n])}return e},Kd.set=function(t,e){return Vm(this),this.c=null,Um(this,t=Hm(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Kd.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Kd.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var zm=function(){return function(t,e){this.b=t,this.a=e}}();function Wm(t){this.g=t||Qm,t=Zd.PerformanceNavigationTiming?0<(t=Zd.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Zd.ia&&Zd.ia.ya&&Zd.ia.ya()&&Zd.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Qm=10;function $m(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Km(t){return t.b?1:t.a?t.a.size:0}function Gm(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Ym(t,e){t.a?t.a.add(e):t.b=e}function Zm(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Xm(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=$d(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return pf(t.c)}function Jm(){}function tg(){this.a=new Jm}function eg(t,e,n){var r=n||"";try{ym(t,function(t,n){var i=t;tf(t)&&(i=yp(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(XT){throw e.push(r+"type="+encodeURIComponent("_badmap")),XT}}function ng(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Wm.prototype.cancel=function(){var t,e;if(this.c=Xm(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=$d(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Jm.prototype.stringify=function(t){return Zd.JSON.stringify(t,void 0)},Jm.prototype.parse=function(t){return Zd.JSON.parse(t,void 0)};var rg=Zd.JSON.parse;function ig(t){pp.call(this),this.headers=new bm,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=sg,this.D=this.F=!1}uf(ig,pp);var sg="",og=/^https?$/i,ag=["POST","PUT"];function cg(t){return"content-type"==t.toLowerCase()}function ug(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,lg(t),dg(t)}function lg(t){t.u||(t.u=!0,mp(t,"complete"),mp(t,"error"))}function hg(t){if(t.b&&void 0!==Yd&&(!t.s[1]||4!=pg(t)||2!=t.W()))if(t.l&&4==pg(t))Ap(t.za,0,t);else if(mp(t,"readystatechange"),4==pg(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(wm)[1]||null;if(!s&&Zd.self&&Zd.self.location){var o=Zd.self.location.protocol;s=o.substr(0,o.length-1)}i=!og.test(s?s.toLowerCase():"")}e=i}if(e)mp(t,"complete"),mp(t,"success");else{t.h=6;try{var a=2<pg(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",lg(t)}}finally{dg(t)}}}function dg(t,e){if(t.a){fg(t);var n=t.a,r=t.s[0]?Xd:null;t.a=null,t.s=null,e||mp(t,"ready");try{n.onreadystatechange=r}catch(XT){}}}function fg(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Zd.clearTimeout(t.m),t.m=null)}function pg(t){return t.a?t.a.readyState:0}function mg(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ef(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Im(t,e,n))}function gg(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yg(t){this.pa=0,this.g=[],this.c=new Lp,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=gg("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=gg("baseRetryDelayMs",5e3,t),this.Ra=gg("retryDelaySeedMs",1e4,t),this.Ma=gg("forwardChannelMaxRetries",2,t),this.ma=gg("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Wm(t&&t.concurrentRequestLimit),this.ka=new tg,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function bg(t){if(_g(t),3==t.v){var e=t.R++,n=Sm(t.B);Im(n,"SID",t.J),Im(n,"RID",e),Im(n,"TYPE","terminate"),Cg(t,n),(e=new rm(t,t.c,e,void 0)).H=2,e.i=km(Sm(n)),n=!1,Zd.navigator&&Zd.navigator.sendBeacon&&(n=Zd.navigator.sendBeacon(e.i.toString(),"")),!n&&Zd.Image&&((new Image).src=e.i,n=!0),n||(e.a=Mg(e.g,null),e.a.ba(e.i)),e.u=cf(),hm(e)}Pg(t)}function vg(t){t.a&&(Ig(t),t.a.cancel(),t.a=null)}function _g(t){vg(t),t.j&&(Zd.clearTimeout(t.j),t.j=null),Ag(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Zd.clearTimeout(t.h),t.h=null)}function wg(t,e){t.g.push(new zm(t.Oa++,e)),3==t.v&&Eg(t)}function Eg(t){$m(t.b)||t.h||(t.h=!0,Cp(t.Ba,t),t.u=0)}function Sg(t,e){var n;n=e?e.f:t.R++;var r=Sm(t.B);Im(r,"SID",t.J),Im(r,"RID",n),Im(r,"AID",t.P),Cg(t,r),t.i&&t.l&&mg(r,t.i,t.l),n=new rm(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Og(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Ym(t.b,n),am(n,r,e)}function Cg(t,e){t.f&&ym({},function(t,n){Im(e,n,t)})}function Og(t,e,n){n=Math.min(t.g.length,n);var r=t.f?of(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var u=i[c].b,l=i[c].a;if(0>(u-=s))s=Math.max(0,i[c].b-100),a=!1;else try{eg(l,o,"req"+u+"_")}catch(h){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Tg(t){t.a||t.j||(t.T=1,Cp(t.Aa,t),t.o=0)}function xg(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=$p(of(t.Aa,t),Rg(t,t.o)),t.o++,0))}function Ig(t){null!=t.s&&(Zd.clearTimeout(t.s),t.s=null)}function kg(t){t.a=new rm(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Sm(t.la);Im(e,"RID","rpc"),Im(e,"SID",t.J),Im(e,"CI",t.H?"0":"1"),Im(e,"AID",t.P),Cg(t,e),Im(e,"TYPE","xmlhttp"),t.i&&t.l&&mg(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=km(Sm(e)),n.j=null,n.I=!0,cm(n,t)}function Ag(t){null!=t.m&&(Zd.clearTimeout(t.m),t.m=null)}function Dg(t,e){var n=null;if(t.a==e){Ag(t),Ig(t),t.a=null;var r=2}else{if(!Gm(t.b,e))return;n=e.s,Zm(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=cf()-e.u;var i=t.u;mp(r=Up(),new Qp(r,n,e,i)),Eg(t)}else Tg(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Km(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=$p(of(t.Ba,t,e),Rg(t,t.u)),t.u++,0)))}(t,e)||2==r&&xg(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:jg(t,5);break;case 4:jg(t,10);break;case 3:jg(t,6);break;default:jg(t,2)}}function Rg(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function jg(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=of(t.Ya,t);n||(n=new Em("//www.google.com/images/cleardot.gif"),Zd.location&&"http"==Zd.location.protocol||Cm(n,"https"),km(n)),function(t,e){var n=new Lp;if(Zd.Image){var r=new Image;r.onload=af(ng,n,r,"TestLoadImage: loaded",!0,e),r.onerror=af(ng,n,r,"TestLoadImage: error",!1,e),r.onabort=af(ng,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=af(ng,n,r,"TestLoadImage: timeout",!1,e),Zd.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Wp(2);t.v=0,t.f&&t.f.ra(e),Pg(t),_g(t)}function Pg(t){t.v=0,t.I=-1,t.f&&(0==Xm(t.b).length&&0==t.g.length||(t.b.c.length=0,pf(t.g),t.g.length=0),t.f.qa())}function Ng(t,e,n){var r=function(t){return t instanceof Em?Sm(t):new Em(t,void 0)}(n);if(""!=r.c)e&&Om(r,e+"."+r.c),Tm(r,r.h);else{var i=Zd.location;r=function(t,e,n,r){var i=new Em(null,void 0);return t&&Cm(i,t),e&&Om(i,e),n&&Tm(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ef(t.V,function(t,e){Im(r,e,t)}),n=t.na,(e=t.A)&&n&&Im(r,e,n),Im(r,"VER",t.ha),Cg(t,r),r}function Mg(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ig(t.Na)).F=t.C,e}function Lg(){}function Fg(){if(Af&&!(10<=Number(Uf)))throw Error("Environmental error: no available transport.")}function Vg(t,e){pp.call(this),this.a=new yg(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!mf(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mf(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new qg(this)}function Bg(t){tm.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ug(){em.call(this),this.status=1}function qg(t){this.a=t}(Kd=ig.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Xp),this.a.onreadystatechange=of(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void ug(this,s)}t=n||"";var i=new bm(this.headers);r&&ym(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=cg,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Zd.FormData&&t instanceof Zd.FormData,!(0<=hf(ag,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{fg(this),0<this.o&&((this.D=function(t){return Af&&Bf(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=of(this.xa,this)):this.m=Ap(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){ug(this,s)}},Kd.xa=function(){void 0!==Yd&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,mp(this,"timeout"),this.abort(8))},Kd.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,mp(this,"complete"),mp(this,"abort"),dg(this))},Kd.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),dg(this,!0)),ig.X.G.call(this)},Kd.za=function(){this.j||(this.A||this.l||this.g?hg(this):this.Ua())},Kd.Ua=function(){hg(this)},Kd.W=function(){try{return 2<pg(this)?this.a.status:-1}catch(If){return-1}},Kd.$=function(){try{return this.a?this.a.responseText:""}catch(If){return""}},Kd.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),rg(e)}},Kd.ua=function(){return this.h},Kd.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Kd=yg.prototype).ha=8,Kd.v=1,Kd.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new rm(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Of(r=Sf(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Og(this,n,e),Im(i=Sm(this.B),"RID",t),Im(i,"CVER",22),this.A&&Im(i,"X-HTTP-Session-Id",this.A),Cg(this,i),this.i&&r&&mg(i,this.i,r),Ym(this.b,n),this.Ia&&Im(i,"TYPE","init"),this.da?(Im(i,"$req",e),Im(i,"SID","null"),n.U=!0,am(n,i,null)):am(n,i,e),this.v=2}}else 3==this.v&&(t?Sg(this,t):0==this.g.length||$m(this.b)||Sg(this))},Kd.Aa=function(){if(this.j=null,kg(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=$p(of(this.Ta,this),t)}},Kd.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Wp(10),vg(this),kg(this))},Kd.Sa=function(){null!=this.m&&(this.m=null,vg(this),xg(this),Wp(19))},Kd.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Wp(2)):(this.c.info("Failed to ping google.com"),Wp(1))},(Kd=Lg.prototype).ta=function(){},Kd.sa=function(){},Kd.ra=function(){},Kd.qa=function(){},Kd.Ja=function(){},Fg.prototype.a=function(t,e){return new Vg(t,e)},uf(Vg,pp),Vg.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Wp(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Ng(t,null,t.fa),Eg(t)},Vg.prototype.close=function(){bg(this.a)},Vg.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,wg(this.a,e)}else this.l?((e={}).__data__=yp(t),wg(this.a,e)):wg(this.a,t)},Vg.prototype.G=function(){this.a.f=null,delete this.f,bg(this.a),delete this.a,Vg.X.G.call(this)},uf(Bg,tm),uf(Ug,em),uf(qg,Lg),qg.prototype.ta=function(){mp(this.a,"a")},qg.prototype.sa=function(t){mp(this.a,new Bg(t))},qg.prototype.ra=function(t){mp(this.a,new Ug(t))},qg.prototype.qa=function(){mp(this.a,"b")},Fg.prototype.createWebChannel=Fg.prototype.a,Vg.prototype.send=Vg.prototype.h,Vg.prototype.open=Vg.prototype.g,Vg.prototype.close=Vg.prototype.close,Kp.NO_ERROR=0,Kp.TIMEOUT=8,Kp.HTTP_ERROR=6,Gp.COMPLETE="complete",Zp.EventType=Jp,Jp.OPEN="a",Jp.CLOSE="b",Jp.ERROR="c",Jp.MESSAGE="d",pp.prototype.listen=pp.prototype.va,ig.prototype.listenOnce=ig.prototype.wa,ig.prototype.getLastError=ig.prototype.Qa,ig.prototype.getLastErrorCode=ig.prototype.ua,ig.prototype.getStatus=ig.prototype.W,ig.prototype.getResponseJson=ig.prototype.Pa,ig.prototype.getResponseText=ig.prototype.$,ig.prototype.send=ig.prototype.ba;var Hg=Kp,zg=Gp,Wg=Vp,Qg=Zp,$g=ig,Kg=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Kg.o=-1;var Gg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Yg=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Gi.c)(e,t),e}(Error),Zg=new Wd.b("@firebase/firestore");function Xg(){return Zg.logLevel}function Jg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zg.logLevel<=Wd.a.DEBUG){var r=e.map(ny);Zg.debug.apply(Zg,Object(Gi.f)(["Firestore (8.3.3): "+t],r))}}function ty(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zg.logLevel<=Wd.a.ERROR){var r=e.map(ny);Zg.error.apply(Zg,Object(Gi.f)(["Firestore (8.3.3): "+t],r))}}function ey(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Zg.logLevel<=Wd.a.WARN){var r=e.map(ny);Zg.warn.apply(Zg,Object(Gi.f)(["Firestore (8.3.3): "+t],r))}}function ny(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(XT){return t}}function ry(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.3.3) INTERNAL ASSERTION FAILED: "+t;throw ty(e),new Error(e)}function iy(t,e){t||ry()}function sy(t,e){return t}function oy(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var ay=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=oy(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function cy(t,e){return t<e?-1:t>e?1:0}function uy(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function ly(t){return t+"\0"}var hy=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Yg(Gg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Yg(Gg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Yg(Gg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Yg(Gg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?cy(this.nanoseconds,t.nanoseconds):cy(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),dy=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new hy(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function fy(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function py(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function my(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var gy=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ry(),void 0===n?n=t.length-e:n>t.length-e&&ry(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),yy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gi.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Yg(Gg.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(gy),by=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gi.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return by.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Yg(Gg.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Yg(Gg.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new Yg(Gg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Yg(Gg.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(gy),_y=function(){function t(t){this.fields=t,t.sort(vy.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return uy(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),wy=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return cy(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();wy.EMPTY_BYTE_STRING=new wy("");var Ey=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sy(t){if(iy(!!t),"string"==typeof t){var e=0,n=Ey.exec(t);if(iy(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Cy(t.seconds),nanos:Cy(t.nanos)}}function Cy(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Oy(t){return"string"==typeof t?wy.fromBase64String(t):wy.fromUint8Array(t)}function Ty(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function xy(t){var e=t.mapValue.fields.__previous_value__;return Ty(e)?xy(e):e}function Iy(t){var e=Sy(t.mapValue.fields.__local_write_time__.timestampValue);return new hy(e.seconds,e.nanos)}function ky(t){return null==t}function Ay(t){return 0===t&&1/t==-1/0}function Dy(t){return"number"==typeof t&&Number.isInteger(t)&&!Ay(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Ry=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(yy.fromString(e))},t.fromName=function(e){return new t(yy.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===yy.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return yy.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new yy(e.slice()))},t}();function jy(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ty(t)?4:10:ry()}function Py(t,e){var n=jy(t);if(n!==jy(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Iy(t).isEqual(Iy(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Sy(t.timestampValue),r=Sy(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Oy(t.bytesValue).isEqual(Oy(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Cy(t.geoPointValue.latitude)===Cy(e.geoPointValue.latitude)&&Cy(t.geoPointValue.longitude)===Cy(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Cy(t.integerValue)===Cy(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Cy(t.doubleValue),r=Cy(e.doubleValue);return n===r?Ay(n)===Ay(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return uy(t.arrayValue.values||[],e.arrayValue.values||[],Py);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(fy(n)!==fy(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Py(n[i],r[i])))return!1;return!0}(t,e);default:return ry()}}function Ny(t,e){return void 0!==(t.values||[]).find(function(t){return Py(t,e)})}function My(t,e){var n=jy(t),r=jy(e);if(n!==r)return cy(n,r);switch(n){case 0:return 0;case 1:return cy(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Cy(t.integerValue||t.doubleValue),r=Cy(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Ly(t.timestampValue,e.timestampValue);case 4:return Ly(Iy(t),Iy(e));case 5:return cy(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Oy(t),r=Oy(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=cy(n[i],r[i]);if(0!==s)return s}return cy(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=cy(Cy(t.latitude),Cy(e.latitude));return 0!==n?n:cy(Cy(t.longitude),Cy(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=My(n[i],r[i]);if(s)return s}return cy(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=cy(r[o],s[o]);if(0!==a)return a;var c=My(n[r[o]],i[s[o]]);if(0!==c)return c}return cy(r.length,s.length)}(t.mapValue,e.mapValue);default:throw ry()}}function Ly(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return cy(t,e);var n=Sy(t),r=Sy(e),i=cy(n.seconds,r.seconds);return 0!==i?i:cy(n.nanos,r.nanos)}function Fy(t){return Vy(t)}function Vy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Sy(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Oy(t.bytesValue).toBase64():"referenceValue"in t?Ry.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Vy(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+Vy(t.fields[s])}return e+"}"}(t.mapValue):ry();var e}function By(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Uy(t){return!!t&&"integerValue"in t}function qy(t){return!!t&&"arrayValue"in t}function Hy(t){return!!t&&"nullValue"in t}function zy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wy(t){return!!t&&"mapValue"in t}var Qy=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(vy.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return Py(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===jy(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,s=t.extractNestedValue(this.partialValue,e),o=Wy(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var s=r.applyOverlay(e.child(n),t);null!=s&&(o[n]=s,i=!0)}else null!==t?(o[n]=t,i=!0):o.hasOwnProperty(n)&&(delete o[n],i=!0)}),i?{mapValue:{fields:o}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(vy.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!Wy(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function $y(t){var e=[];return py(t.fields||{},function(t,n){var r=new vy([t]);if(Wy(n)){var i=$y(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new _y(e)}var Ky=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,dy.min(),Qy.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Qy.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Qy.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Qy.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Qy.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Gy=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function Yy(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new Gy(t,e,n,r,i,s,o)}function Zy(t){var e=sy(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Fy(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),ky(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=lb(e.startAt)),e.endAt&&(n+="|ub:",n+=lb(e.endAt)),e.h=n}return e.h}function Xy(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!db(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Py(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!pb(t.startAt,e.startAt)&&pb(t.endAt,e.endAt)}function Jy(t){return Ry.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var tb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Gi.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new eb(t,n,r):"array-contains"===n?new sb(t,r):"in"===n?new ob(t,r):"not-in"===n?new ab(t,r):"array-contains-any"===n?new cb(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new nb(t,n):new rb(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(My(e,this.value)):null!==e&&jy(this.value)===jy(e)&&this.m(My(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ry()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),eb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ry.fromName(r.referenceValue),i}return Object(Gi.c)(e,t),e.prototype.matches=function(t){var e=Ry.comparator(t.key,this.key);return this.m(e)},e}(tb),nb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ib(0,n),r}return Object(Gi.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(tb),rb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ib(0,n),r}return Object(Gi.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(tb);function ib(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Ry.fromName(t.referenceValue)})}var sb=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Gi.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return qy(e)&&Ny(e.arrayValue,this.value)},e}(tb),ob=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Gi.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&Ny(this.value.arrayValue,e)},e}(tb),ab=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Gi.c)(e,t),e.prototype.matches=function(t){if(Ny(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!Ny(this.value.arrayValue,e)},e}(tb),cb=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Gi.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!qy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Ny(e.value.arrayValue,t)})},e}(tb),ub=function(t,e){this.position=t,this.before=e};function lb(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Fy(t)}).join(",")}var hb=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function db(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function fb(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?Ry.comparator(Ry.fromName(o.referenceValue),n.key):My(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function pb(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Py(t.position[n],e.position[n]))return!1;return!0}var mb=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function gb(t,e,n,r,i,s,o,a){return new mb(t,e,n,r,i,s,o,a)}function yb(t){return new mb(t)}function bb(t){return!ky(t.limit)&&"F"===t.limitType}function vb(t){return!ky(t.limit)&&"L"===t.limitType}function _b(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function wb(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Eb(t){return null!==t.collectionGroup}function Sb(t){var e=sy(t);if(null===e.p){e.p=[];var n=wb(e),r=_b(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new hb(n)),e.p.push(new hb(vy.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new hb(vy.keyField(),c))}}}return e.p}function Cb(t){var e=sy(t);if(!e.T)if("F"===e.limitType)e.T=Yy(e.path,e.collectionGroup,Sb(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Sb(e);r<i.length;r++){var s=i[r];n.push(new hb(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new ub(e.endAt.position,!e.endAt.before):null,a=e.startAt?new ub(e.startAt.position,!e.startAt.before):null;e.T=Yy(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function Ob(t,e,n){return new mb(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tb(t,e){return Xy(Cb(t),Cb(e))&&t.limitType===e.limitType}function xb(t){return Zy(Cb(t))+"|lt:"+t.limitType}function Ib(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Fy(e.value);var e}).join(", ")+"]"),ky(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+lb(t.startAt)),t.endAt&&(e+=", endAt: "+lb(t.endAt)),"Target("+e+")"}(Cb(t))+"; limitType="+t.limitType+")"}function kb(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Ry.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!fb(t.startAt,Sb(t),e)||t.endAt&&fb(t.endAt,Sb(t),e))}(t,e)}function Ab(t){return function(e,n){for(var r=!1,i=0,s=Sb(t);i<s.length;i++){var o=s[i],a=Db(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function Db(t,e,n){var r=t.field.isKeyField()?Ry.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?My(r,i):ry()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ry()}}function Rb(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ay(e)?"-0":e}}function jb(t){return{integerValue:""+t}}function Pb(t,e){return Dy(e)?jb(e):Rb(t,e)}var Nb=function(){this._=void 0};function Mb(t,e,n){return t instanceof Vb?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Bb?Ub(t,e):t instanceof qb?Hb(t,e):function(t,e){var n=Fb(t,e),r=Wb(n)+Wb(t.A);return Uy(n)&&Uy(t.A)?jb(r):Rb(t.R,r)}(t,e)}function Lb(t,e,n){return t instanceof Bb?Ub(t,e):t instanceof qb?Hb(t,e):n}function Fb(t,e){return t instanceof zb?Uy(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Vb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gi.c)(e,t),e}(Nb),Bb=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Gi.c)(e,t),e}(Nb);function Ub(t,e){for(var n=Qb(e),r=function(t){n.some(function(e){return Py(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var qb=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Gi.c)(e,t),e}(Nb);function Hb(t,e){for(var n=Qb(e),r=function(t){n=n.filter(function(e){return!Py(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var zb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(Gi.c)(e,t),e}(Nb);function Wb(t){return Cy(t.integerValue||t.doubleValue)}function Qb(t){return qy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var $b=function(t,e){this.field=t,this.transform=e},Kb=function(t,e){this.version=t,this.transformResults=e},Gb=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Yb(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Zb=function(){};function Xb(t,e,n){t instanceof rv?function(t,e,n){var r=t.value.clone(),i=ov(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof iv?function(t,e,n){if(Yb(t.precondition,e)){var r=ov(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(sv(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Jb(t,e,n){t instanceof rv?function(t,e,n){if(Yb(t.precondition,e)){var r=t.value.clone(),i=av(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(nv(e),r).setHasLocalMutations()}}(t,e,n):t instanceof iv?function(t,e,n){if(Yb(t.precondition,e)){var r=av(t.fieldTransforms,n,e),i=e.data;i.setAll(sv(t)),i.setAll(r),e.convertToFoundDocument(nv(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Yb(t.precondition,e)&&e.convertToNoDocument(dy.min())}(t,e)}function tv(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=Fb(s.transform,o||null);null!=a&&(null==n&&(n=Qy.empty()),n.set(s.field,a))}return n||null}function ev(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&uy(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Bb&&e instanceof Bb||t instanceof qb&&e instanceof qb?uy(t.elements,e.elements,Py):t instanceof zb&&e instanceof zb?Py(t.A,e.A):t instanceof Vb&&e instanceof Vb}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function nv(t){return t.isFoundDocument()?t.version:dy.min()}var rv=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(Gi.c)(e,t),e}(Zb),iv=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(Gi.c)(e,t),e}(Zb);function sv(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function ov(t,e,n){var r=new Map;iy(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Lb(o,a,n[i]))}return r}function av(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,c=n.data.field(o.field);r.set(o.field,Mb(a,c,e))}return r}var cv,uv,lv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(Gi.c)(e,t),e}(Zb),hv=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(Gi.c)(e,t),e}(Zb),dv=function(t){this.count=t};function fv(t){switch(t){case Gg.OK:return ry();case Gg.CANCELLED:case Gg.UNKNOWN:case Gg.DEADLINE_EXCEEDED:case Gg.RESOURCE_EXHAUSTED:case Gg.INTERNAL:case Gg.UNAVAILABLE:case Gg.UNAUTHENTICATED:return!1;case Gg.INVALID_ARGUMENT:case Gg.NOT_FOUND:case Gg.ALREADY_EXISTS:case Gg.PERMISSION_DENIED:case Gg.FAILED_PRECONDITION:case Gg.ABORTED:case Gg.OUT_OF_RANGE:case Gg.UNIMPLEMENTED:case Gg.DATA_LOSS:return!0;default:return ry()}}function pv(t){if(void 0===t)return ty("GRPC error has no .code"),Gg.UNKNOWN;switch(t){case cv.OK:return Gg.OK;case cv.CANCELLED:return Gg.CANCELLED;case cv.UNKNOWN:return Gg.UNKNOWN;case cv.DEADLINE_EXCEEDED:return Gg.DEADLINE_EXCEEDED;case cv.RESOURCE_EXHAUSTED:return Gg.RESOURCE_EXHAUSTED;case cv.INTERNAL:return Gg.INTERNAL;case cv.UNAVAILABLE:return Gg.UNAVAILABLE;case cv.UNAUTHENTICATED:return Gg.UNAUTHENTICATED;case cv.INVALID_ARGUMENT:return Gg.INVALID_ARGUMENT;case cv.NOT_FOUND:return Gg.NOT_FOUND;case cv.ALREADY_EXISTS:return Gg.ALREADY_EXISTS;case cv.PERMISSION_DENIED:return Gg.PERMISSION_DENIED;case cv.FAILED_PRECONDITION:return Gg.FAILED_PRECONDITION;case cv.ABORTED:return Gg.ABORTED;case cv.OUT_OF_RANGE:return Gg.OUT_OF_RANGE;case cv.UNIMPLEMENTED:return Gg.UNIMPLEMENTED;case cv.DATA_LOSS:return Gg.DATA_LOSS;default:return ry()}}(uv=cv||(cv={}))[uv.OK=0]="OK",uv[uv.CANCELLED=1]="CANCELLED",uv[uv.UNKNOWN=2]="UNKNOWN",uv[uv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",uv[uv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",uv[uv.NOT_FOUND=5]="NOT_FOUND",uv[uv.ALREADY_EXISTS=6]="ALREADY_EXISTS",uv[uv.PERMISSION_DENIED=7]="PERMISSION_DENIED",uv[uv.UNAUTHENTICATED=16]="UNAUTHENTICATED",uv[uv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",uv[uv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",uv[uv.ABORTED=10]="ABORTED",uv[uv.OUT_OF_RANGE=11]="OUT_OF_RANGE",uv[uv.UNIMPLEMENTED=12]="UNIMPLEMENTED",uv[uv.INTERNAL=13]="INTERNAL",uv[uv.UNAVAILABLE=14]="UNAVAILABLE",uv[uv.DATA_LOSS=15]="DATA_LOSS";var mv=function(){function t(t,e){this.comparator=t,this.root=e||yv.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yv.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yv.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new gv(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new gv(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new gv(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new gv(this.root,t,this.comparator,!0)},t}(),gv=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),yv=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw ry();if(this.right.isRed())throw ry();var t=this.left.check();if(t!==this.right.check())throw ry();return t+(this.isRed()?0:1)},t}();yv.EMPTY=null,yv.RED=!0,yv.BLACK=!1,yv.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ry()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ry()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ry()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ry()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ry()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new yv(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var bv=function(){function t(t){this.comparator=t,this.data=new mv(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new vv(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new vv(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),vv=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),_v=new mv(Ry.comparator);function wv(){return _v}var Ev=new mv(Ry.comparator);function Sv(){return Ev}var Cv=new mv(Ry.comparator);function Ov(){return Cv}var Tv=new bv(Ry.comparator);function xv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Tv,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Iv=new bv(cy);function kv(){return Iv}var Av=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,Dv.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(dy.min(),r,kv(),wv(),xv())},t}(),Dv=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(wy.EMPTY_BYTE_STRING,n,xv(),xv(),xv())},t}(),Rv=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},jv=function(t,e){this.targetId=t,this.V=e},Pv=function(t,e,n,r){void 0===n&&(n=wy.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Nv=function(){function t(){this.S=0,this.D=Fv(),this.C=wy.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=xv(),e=xv(),n=xv();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ry()}}),new Dv(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Fv()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Mv=function(){function t(t){this.W=t,this.G=new Map,this.H=wv(),this.J=Lv(),this.Y=new bv(cy)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:ry()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Jy(i))if(0===n){var s=new Ry(i.path);this.tt(e,s,Ky.newNoDocument(s,dy.min()))}else iy(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&Jy(s.target)){var o=new Ry(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,Ky.newNoDocument(o,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=xv();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Av(t,n,this.Y,this.H,r);return this.H=wv(),this.J=Lv(),this.Y=new bv(cy),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Nv,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new bv(cy),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Jg("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Nv),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Lv(){return new mv(Ry.comparator)}function Fv(){return new mv(Ry.comparator)}var Vv={asc:"ASCENDING",desc:"DESCENDING"},Bv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uv=function(t,e){this.databaseId=t,this.I=e};function qv(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Hv(t,e){return t.I?e.toBase64():e.toUint8Array()}function zv(t,e){return qv(t,e.toTimestamp())}function Wv(t){return iy(!!t),dy.fromTimestamp(function(t){var e=Sy(t);return new hy(e.seconds,e.nanos)}(t))}function Qv(t,e){return function(t){return new yy(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function $v(t){var e=yy.fromString(t);return iy(y_(e)),e}function Kv(t,e){return Qv(t.databaseId,e.path)}function Gv(t,e){var n=$v(e);if(n.get(1)!==t.databaseId.projectId)throw new Yg(Gg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Yg(Gg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ry(Jv(n))}function Yv(t,e){return Qv(t.databaseId,e)}function Zv(t){var e=$v(t);return 4===e.length?yy.emptyPath():Jv(e)}function Xv(t){return new yy(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Jv(t){return iy(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function t_(t,e,n){return{name:Kv(t,e),fields:n.toProto().mapValue.fields}}function e_(t,e,n){var r=Gv(t,e.name),i=Wv(e.updateTime),s=new Qy({mapValue:{fields:e.fields}}),o=Ky.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function n_(t,e){var n;if(e instanceof rv)n={update:t_(t,e.key,e.value)};else if(e instanceof lv)n={delete:Kv(t,e.key)};else if(e instanceof iv)n={update:t_(t,e.key,e.data),updateMask:g_(e.fieldMask)};else{if(!(e instanceof hv))return ry();n={verify:Kv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Vb)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Bb)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof qb)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof zb)return{fieldPath:e.field.canonicalString(),increment:n.A};throw ry()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:zv(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ry()}(t,e.precondition)),n}function r_(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Gb.updateTime(Wv(t.updateTime)):void 0!==t.exists?Gb.exists(t.exists):Gb.none()}(e.currentDocument):Gb.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(iy("REQUEST_TIME"===e.setToServerValue),n=new Vb):"appendMissingElements"in e?n=new Bb(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new qb(e.removeAllFromArray.values||[]):"increment"in e?n=new zb(t,e.increment):ry();var r=vy.fromServerFormat(e.fieldPath);return new $b(r,n)}(t,e)}):[];if(e.update){var i=Gv(t,e.update.name),s=new Qy({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new _y((t.fieldPaths||[]).map(function(t){return vy.fromServerFormat(t)}))}(e.updateMask);return new iv(i,s,o,n,r)}return new rv(i,s,n,r)}if(e.delete){var a=Gv(t,e.delete);return new lv(a,n)}if(e.verify){var c=Gv(t,e.verify);return new hv(c,n)}return ry()}function i_(t,e){return{documents:[Yv(t,e.path)]}}function s_(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Yv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Yv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(zy(t.value))return{unaryFilter:{field:d_(t.field),op:"IS_NAN"}};if(Hy(t.value))return{unaryFilter:{field:d_(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(zy(t.value))return{unaryFilter:{field:d_(t.field),op:"IS_NOT_NAN"}};if(Hy(t.value))return{unaryFilter:{field:d_(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:d_(t.field),op:h_(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:d_(t.field),direction:l_(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||ky(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=c_(e.startAt)),e.endAt&&(n.structuredQuery.endAt=c_(e.endAt)),n}function o_(t){var e=Zv(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){iy(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=a_(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new hb(f_(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return ky(e="object"==typeof t?t.value:t)?null:e}(n.limit));var u=null;n.startAt&&(u=u_(n.startAt));var l=null;return n.endAt&&(l=u_(n.endAt)),gb(e,i,a,o,c,"F",u,l)}function a_(t){return t?void 0!==t.unaryFilter?[m_(t)]:void 0!==t.fieldFilter?[p_(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return a_(t)}).reduce(function(t,e){return t.concat(e)}):ry():[]}function c_(t){return{before:t.before,values:t.position}}function u_(t){return new ub(t.values||[],!!t.before)}function l_(t){return Vv[t]}function h_(t){return Bv[t]}function d_(t){return{fieldPath:t.canonicalString()}}function f_(t){return vy.fromServerFormat(t.fieldPath)}function p_(t){return tb.create(f_(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ry()}}(t.fieldFilter.op),t.fieldFilter.value)}function m_(t){switch(t.unaryFilter.op){case"IS_NAN":var e=f_(t.unaryFilter.field);return tb.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=f_(t.unaryFilter.field);return tb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=f_(t.unaryFilter.field);return tb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=f_(t.unaryFilter.field);return tb.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ry()}}function g_(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function y_(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function b_(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=__(e)),e=v_(t.get(n),e);return __(e)}function v_(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function __(t){return t+"\x01\x01"}function w_(t){var e=t.length;if(iy(e>=2),2===e)return iy("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),yy.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&ry(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:ry()}s=o+2}return new yy(r)}var E_=function(t,e){this.seconds=t,this.nanoseconds=e},S_=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};S_.store="owner",S_.key="owner";var C_=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};C_.store="mutationQueues",C_.keyPath="userId";var O_=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};O_.store="mutations",O_.keyPath="batchId",O_.userMutationsIndex="userMutationsIndex",O_.userMutationsKeyPath=["userId","batchId"];var T_=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,b_(e)]},t.key=function(t,e,n){return[t,b_(e),n]},t}();T_.store="documentMutations",T_.PLACEHOLDER=new T_;var x_=function(t,e){this.path=t,this.readTime=e},I_=function(t,e){this.path=t,this.version=e},k_=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};k_.store="remoteDocuments",k_.readTimeIndex="readTimeIndex",k_.readTimeIndexPath="readTime",k_.collectionReadTimeIndex="collectionReadTimeIndex",k_.collectionReadTimeIndexPath=["parentPath","readTime"];var A_=function(t){this.byteSize=t};A_.store="remoteDocumentGlobal",A_.key="remoteDocumentGlobalKey";var D_=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};D_.store="targets",D_.keyPath="targetId",D_.queryTargetsIndexName="queryTargetsIndex",D_.queryTargetsKeyPath=["canonicalId","targetId"];var R_=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};R_.store="targetDocuments",R_.keyPath=["targetId","path"],R_.documentTargetsIndex="documentTargetsIndex",R_.documentTargetsKeyPath=["path","targetId"];var j_=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};j_.key="targetGlobalKey",j_.store="targetGlobal";var P_=function(t,e){this.collectionId=t,this.parent=e};P_.store="collectionParents",P_.keyPath=["collectionId","parent"];var N_=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};N_.store="clientMetadata",N_.keyPath="clientId";var M_=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};M_.store="bundles",M_.keyPath="bundleId";var L_=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};L_.store="namedQueries",L_.keyPath="name";var F_=Object(Gi.f)(Object(Gi.f)([],Object(Gi.f)(Object(Gi.f)([],Object(Gi.f)(Object(Gi.f)([],Object(Gi.f)(Object(Gi.f)([],[C_.store,O_.store,T_.store,k_.store,D_.store,S_.store,j_.store,R_.store]),[N_.store])),[A_.store])),[P_.store])),[M_.store,L_.store]),V_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",B_=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),U_=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},q_=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&ry(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),H_=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new U_,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Q_(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Z_(e.target.error);n.ft.reject(new Q_(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Q_(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Jg("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new K_(e)},t}(),z_=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(zd.h)())&&ty("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Jg("SimpleDb","Removing database:",t),G_(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(zd.h)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(Gi.b)(this,void 0,void 0,function(){var e,n=this;return Object(Gi.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Jg("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Q_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Yg(Gg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Q_(t,n))},i.onupgradeneeded=function(t){Jg("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Jg("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Gi.b)(this,void 0,void 0,function(){var i,s,o,a,c;return Object(Gi.d)(this,function(u){switch(u.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,c,u,l;return Object(Gi.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=H_.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),q_.reject(t)}).toPromise(),c={},o.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(h.sent(),o),c)];case 4:return Jg("SimpleDb","Transaction failed with error:",(u=h.sent()).message,"Retrying:",l="FirebaseError"!==u.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}})},a=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=u.sent()))return[2,c.value];u.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),W_=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return G_(this.Pt.delete())},t}(),Q_=function(t){function e(e,n){var r=this;return(r=t.call(this,Gg.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Gi.c)(e,t),e}(Yg);function $_(t){return"IndexedDbTransactionError"===t.name}var K_=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Jg("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Jg("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),G_(n)},t.prototype.add=function(t){return Jg("SimpleDb","ADD",this.store.name,t,t),G_(this.store.add(t))},t.prototype.get=function(t){var e=this;return G_(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Jg("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Jg("SimpleDb","DELETE",this.store.name,t),G_(this.store.delete(t))},t.prototype.count=function(){return Jg("SimpleDb","COUNT",this.store.name),G_(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Jg("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new q_(function(n,r){e.onerror=function(t){var e=Z_(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new q_(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new W_(i),o=e(i.primaryKey,i.value,s);if(o instanceof q_){var a=o.catch(function(t){return s.done(),q_.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return q_.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function G_(t){return new q_(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Z_(t.target.error);n(e)}})}var Y_=!1;function Z_(t){var e=z_._t(Object(zd.h)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Yg("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Y_||(Y_=!0,setTimeout(function(){throw r},0)),r}}return t}var X_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(Gi.c)(e,t),e}(B_);function J_(t,e){var n=sy(t);return z_.It(n.Mt,e)}var tw=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Xb(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&Jb(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&Jb(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(dy.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},xv())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&uy(this.mutations,t.mutations,function(t,e){return ev(t,e)})&&uy(this.baseMutations,t.baseMutations,function(t,e){return ev(t,e)})},t}(),ew=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){iy(e.mutations.length===r.length);for(var i=Ov(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),nw=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=dy.min()),void 0===s&&(s=dy.min()),void 0===o&&(o=wy.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),rw=function(t){this.Lt=t};function iw(t,e){if(e.document)return e_(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ry.fromSegments(e.noDocument.path),r=uw(e.noDocument.readTime),i=Ky.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=Ry.fromSegments(e.unknownDocument.path);return r=uw(e.unknownDocument.version),Ky.newUnknownDocument(s,r)}return ry()}function sw(t,e,n){var r=ow(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:Kv(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:qv(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new k_(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),c=cw(e.version);return o=e.hasCommittedMutations,new k_(null,new x_(a,c),null,o,r,i)}if(e.isUnknownDocument()){var u=e.key.path.toArray(),l=cw(e.version);return new k_(new I_(u,l),null,null,!0,r,i)}return ry()}function ow(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function aw(t){var e=new hy(t[0],t[1]);return dy.fromTimestamp(e)}function cw(t){var e=t.toTimestamp();return new E_(e.seconds,e.nanoseconds)}function uw(t){var e=new hy(t.seconds,t.nanoseconds);return dy.fromTimestamp(e)}function lw(t,e){for(var n=(e.baseMutations||[]).map(function(e){return r_(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return r_(t.Lt,e)}),s=hy.fromMillis(e.localWriteTimeMs);return new tw(e.batchId,s,n,i)}function hw(t){var e,n,r=uw(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?uw(t.lastLimboFreeSnapshotVersion):dy.min();return void 0!==t.query.documents?(iy(1===(n=t.query).documents.length),e=Cb(yb(Zv(n.documents[0])))):e=function(t){return Cb(o_(t))}(t.query),new nw(e,t.targetId,0,t.lastListenSequenceNumber,r,i,wy.fromBase64String(t.resumeToken))}function dw(t,e){var n,r=cw(e.snapshotVersion),i=cw(e.lastLimboFreeSnapshotVersion);n=Jy(e.target)?i_(t.Lt,e.target):s_(t.Lt,e.target);var s=e.resumeToken.toBase64();return new D_(e.targetId,Zy(e.target),r,s,e.sequenceNumber,i,n)}function fw(t){var e=o_({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ob(e,e.limit,"L"):e}var pw=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return mw(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:uw(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return mw(t).put({bundleId:(n=e).id,createTime:cw(Wv(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return gw(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:fw(e.bundledQuery),readTime:uw(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return gw(t).put(function(t){return{name:t.name,readTime:cw(Wv(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function mw(t){return J_(t,M_.store)}function gw(t){return J_(t,L_.store)}var yw=function(){function t(){this.Bt=new bw}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),q_.resolve()},t.prototype.getCollectionParents=function(t,e){return q_.resolve(this.Bt.getEntries(e))},t}(),bw=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new bv(yy.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new bv(yy.comparator)).toArray()},t}(),vw=function(){function t(){this.qt=new bw}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:b_(i)};return _w(t).put(s)}return q_.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ly(e),""],!1,!0);return _w(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(w_(s.parent))}return n})},t}();function _w(t){return J_(t,P_.store)}var ww={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ew=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Sw(t,e,n){var r=t.store(O_.store),i=t.store(T_.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.Ot({range:o},function(t,e,n){return a++,n.delete()});s.push(c.next(function(){iy(1===a)}));for(var u=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=T_.key(e,d.key.path,n.batchId);s.push(i.delete(f)),u.push(d.key)}return q_.waitFor(s).next(function(){return u})}function Cw(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ry();e=t.noDocument}return JSON.stringify(e).length}Ew.DEFAULT_COLLECTION_PERCENTILE=10,Ew.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ew.DEFAULT=new Ew(41943040,Ew.DEFAULT_COLLECTION_PERCENTILE,Ew.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ew.DISABLED=new Ew(-1,0,0);var Ow=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return iy(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xw(t).Ot({index:O_.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=Iw(t),o=xw(t);return o.add({}).next(function(a){iy("number"==typeof a);for(var c=new tw(a,e,n,r),u=function(t,e,n){var r=n.baseMutations.map(function(e){return n_(t.Lt,e)}),i=n.mutations.map(function(e){return n_(t.Lt,e)});return new O_(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,c),l=[],h=new bv(function(t,e){return cy(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],m=T_.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(o.put(u)),l.push(s.put(m,T_.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=c.keys()}),q_.waitFor(l).next(function(){return c})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return xw(t).get(e).next(function(t){return t?(iy(t.userId===n.userId),lw(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?q_.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return xw(t).Ot({index:O_.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(iy(e.batchId>=r),s=lw(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return xw(t).Ot({index:O_.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return xw(t).Nt(O_.userMutationsIndex,n).next(function(t){return t.map(function(t){return lw(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=T_.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Iw(t).Ot({range:i},function(r,i,o){var a=r[0],c=r[2],u=w_(r[1]);if(a===n.userId&&e.path.isEqual(u))return xw(t).get(c).next(function(t){if(!t)throw ry();iy(t.userId===n.userId),s.push(lw(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new bv(cy),i=[];return e.forEach(function(e){var s=T_.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Iw(t).Ot({range:o},function(t,i,s){var o=t[0],a=t[2],c=w_(t[1]);o===n.userId&&e.path.isEqual(c)?r=r.add(a):s.done()});i.push(a)}),q_.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=T_.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new bv(cy);return Iw(t).Ot({range:o},function(t,e,s){var o=t[0],c=t[2],u=w_(t[1]);o===n.userId&&r.isPrefixOf(u)?u.length===i&&(a=a.add(c)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(xw(t).get(e).next(function(t){if(null===t)throw ry();iy(t.userId===n.userId),r.push(lw(n.R,t))}))}),q_.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Sw(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),q_.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return q_.resolve();var r=IDBKeyRange.lowerBound(T_.prefixForUser(e.userId)),i=[];return Iw(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var s=w_(t[1]);i.push(s)}else r.done()}).next(function(){iy(0===i.length)})})},t.prototype.containsKey=function(t,e){return Tw(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return kw(t).get(this.userId).next(function(t){return t||new C_(e.userId,-1,"")})},t}();function Tw(t,e,n){var r=T_.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Iw(t).Ot({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function xw(t){return J_(t,O_.store)}function Iw(t){return J_(t,T_.store)}function kw(t){return J_(t,C_.store)}var Aw=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Dw=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new Aw(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return dy.fromTimestamp(new hy(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Rw(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return iy(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return Rw(t).Ot(function(o,a){var c=hw(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,s.push(r.removeTargetData(t,c)))}).next(function(){return q_.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return Rw(t).Ot(function(t,n){var r=hw(n);e(r)})},t.prototype.Xt=function(t){return jw(t).get(j_.key).next(function(t){return iy(null!==t),t})},t.prototype.Zt=function(t,e){return jw(t).put(j_.key,e)},t.prototype.te=function(t,e){return Rw(t).put(dw(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Zy(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Rw(t).Ot({range:r,index:D_.queryTargetsIndexName},function(t,n,r){var s=hw(n);Xy(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=Pw(t);return e.forEach(function(e){var o=b_(e.path);i.push(s.put(new R_(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),q_.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Pw(t);return q_.forEach(e,function(e){var s=b_(e.path);return q_.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Pw(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Pw(t),i=xv();return r.Ot({range:n,kt:!0},function(t,e,n){var r=w_(t[1]),s=new Ry(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=b_(e.path),r=IDBKeyRange.bound([n],[ly(n)],!1,!0),i=0;return Pw(t).Ot({index:R_.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return Rw(t).get(e).next(function(t){return t?hw(t):null})},t}();function Rw(t){return J_(t,D_.store)}function jw(t){return J_(t,j_.store)}function Pw(t){return J_(t,R_.store)}function Nw(t){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(e){if(t.code!==Gg.FAILED_PRECONDITION||t.message!==V_)throw t;return Jg("LocalStore","Unexpectedly lost primary lease"),[2]})})}function Mw(t,e){var n=t[1],r=e[1],i=cy(t[0],e[0]);return 0===i?cy(n,r):i}var Lw=function(){function t(t){this.ne=t,this.buffer=new bv(Mw),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Mw(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Fw=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Jg("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(Gi.b)(e,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return $_(e=n.sent())?(Jg("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Nw(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Vw=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return q_.resolve(Kg.o);var r=new Lw(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Jg("LruGarbageCollector","Garbage collection skipped; disabled"),q_.resolve(ww)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Jg("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),ww):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,c,u=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>u.params.maximumSequenceNumbersToCollect?(Jg("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),r=u.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),u.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),u.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),u.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),Xg()<=Wd.a.DEBUG&&Jg("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-l)+"ms"),q_.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Bw=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Vw(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return Uw(t,n)},t.prototype.removeReference=function(t,e,n){return Uw(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Uw(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return kw(t).$t(function(r){return Tw(t,r,e).next(function(t){return t&&(n=!0),q_.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var c=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),Pw(t).delete([0,b_(o.path)])})});i.push(c)}}).next(function(){return q_.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Uw(t,e)},t.prototype.we=function(t,e){var n,r=Pw(t),i=Kg.o;return r.Ot({index:R_.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Kg.o&&e(new Ry(w_(n)),i),i=o,n=s):i=Kg.o}).next(function(){i!==Kg.o&&e(new Ry(w_(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Uw(t,e){return Pw(t).put(function(t,e){return new R_(0,b_(t.path),e)}(e,t.currentSequenceNumber))}var qw=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){py(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return my(this.inner)},t}(),Hw=function(){function t(){this.changes=new qw(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:dy.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ky.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?q_.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),zw=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return $w(t).put(Kw(e),n)},t.prototype.removeEntry=function(t,e){var n=$w(t),r=Kw(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return $w(t).get(Kw(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return $w(t).get(Kw(e)).next(function(t){return{document:n.ye(e,t),size:Cw(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=wv();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=wv(),i=new mv(Ry.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,Cw(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return q_.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return $w(t).Ot({range:r},function(t,e,r){for(var o=Ry.fromSegments(t);s&&Ry.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=wv(),s=e.path.length+1,o={};if(n.isEqual(dy.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),u=ow(n);o.range=IDBKeyRange.lowerBound([c,u],!0),o.index=k_.collectionReadTimeIndex}return $w(t).Ot(o,function(t,n,o){if(t.length===s){var a=iw(r.R,n);e.path.isPrefixOf(a.key.path)?kb(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new Ww(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Qw(t).get(A_.key).next(function(t){return iy(!!t),t})},t.prototype.me=function(t,e){return Qw(t).put(A_.key,e)},t.prototype.ye=function(t,e){if(e){var n=iw(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(dy.min()))return n}return Ky.newInvalidDocument(t)},t}(),Ww=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new qw(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(Gi.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new bv(function(t,e){return cy(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var c=sw(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var u=Cw(c);r+=u-a,n.push(e.Ie.addEntry(t,s,c))}else if(r-=a,e.trackRemovals){var l=sw(e.Ie.R,Ky.newNoDocument(s,dy.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,l))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),q_.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Hw);function Qw(t){return J_(t,A_.store)}function $w(t){return J_(t,k_.store)}function Kw(t){return t.path.toArray()}var Gw=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;iy(n<r&&n>=0&&r<=11);var s=new H_("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(S_.store)}(t),function(t){t.createObjectStore(C_.store,{keyPath:C_.keyPath}),t.createObjectStore(O_.store,{keyPath:O_.keyPath,autoIncrement:!0}).createIndex(O_.userMutationsIndex,O_.userMutationsKeyPath,{unique:!0}),t.createObjectStore(T_.store)}(t),Yw(t),function(t){t.createObjectStore(k_.store)}(t));var o=q_.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(R_.store),t.deleteObjectStore(D_.store),t.deleteObjectStore(j_.store)}(t),Yw(t)),o=o.next(function(){return function(t){var e=t.store(j_.store),n=new j_(0,0,dy.min().toTimestamp(),0);return e.put(j_.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(O_.store).Nt().next(function(n){t.deleteObjectStore(O_.store),t.createObjectStore(O_.store,{keyPath:O_.keyPath,autoIncrement:!0}).createIndex(O_.userMutationsIndex,O_.userMutationsKeyPath,{unique:!0});var r=e.store(O_.store),i=n.map(function(t){return r.put(t)});return q_.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(N_.store,{keyPath:N_.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(A_.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(k_.store);e.createIndex(k_.readTimeIndex,k_.readTimeIndexPath,{unique:!1}),e.createIndex(k_.collectionReadTimeIndex,k_.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(M_.store,{keyPath:M_.keyPath})}(t),function(t){t.createObjectStore(L_.store,{keyPath:L_.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(k_.store).Ot(function(t,n){e+=Cw(n)}).next(function(){var n=new A_(e);return t.store(A_.store).put(A_.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(C_.store),r=t.store(O_.store);return n.Nt().next(function(n){return q_.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(O_.userMutationsIndex,i).next(function(r){return q_.forEach(r,function(r){iy(r.userId===n.userId);var i=lw(e.R,r);return Sw(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(R_.store),n=t.store(k_.store);return t.store(j_.store).get(j_.key).next(function(t){var r=[];return n.Ot(function(n,i){var s=new yy(n),o=function(t){return[0,b_(t)]}(s);r.push(e.get(o).next(function(n){return n?q_.resolve():function(n){return e.put(new R_(0,b_(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return q_.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(P_.store,{keyPath:P_.keyPath});var n=e.store(P_.store),r=new bw,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:b_(i)})}};return e.store(k_.store).Ot({kt:!0},function(t,e){var n=new yy(t);return i(n.popLast())}).next(function(){return e.store(T_.store).Ot({kt:!0},function(t,e){var n=w_(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(D_.store);return n.Ot(function(t,r){var i=hw(r),s=dw(e.R,i);return n.put(s)})},t}();function Yw(t){t.createObjectStore(R_.store,{keyPath:R_.keyPath}).createIndex(R_.documentTargetsIndex,R_.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(D_.store,{keyPath:D_.keyPath}).createIndex(D_.queryTargetsIndexName,D_.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(j_.store)}var Zw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Xw=function(){function t(e,n,r,i,s,o,a,c,u,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=u,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Yg(Gg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Bw(this,i),this.Le=n+"main",this.R=new rw(c),this.Be=new z_(this.Le,11,new Gw(this.R)),this.qe=new Dw(this.referenceDelegate,this.R),this.Ut=new vw,this.Ue=function(t,e){return new zw(t,e)}(this.R,this.Ut),this.Qe=new pw,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&ty("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Yg(Gg.FAILED_PRECONDITION,Zw);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Kg(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(Gi.b)(e,void 0,void 0,function(){return Object(Gi.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(Gi.b)(e,void 0,void 0,function(){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(Gi.b)(e,void 0,void 0,function(){return Object(Gi.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return tE(e).put(new N_(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if($_(e))return Jg("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Jg("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return Jw(t).get(S_.key).next(function(t){return q_.resolve(e.tn(t))})},t.prototype.en=function(t){return tE(t).delete(this.clientId)},t.prototype.nn=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=J_(t,N_.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return q_.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?q_.resolve(!0):Jw(t).get(S_.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Yg(Gg.FAILED_PRECONDITION,Zw);return!1}}return!(!e.networkEnabled||!e.inForeground)||tE(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Jg("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t=this;return Object(Gi.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[S_.store,N_.store],function(e){var n=new X_(e,Kg.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return tE(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Ow.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Jg("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",F_,function(s){return r=new X_(s,i.Ne?i.Ne.next():Kg.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw ty("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Yg(Gg.FAILED_PRECONDITION,V_);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return Jw(t).get(S_.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Yg(Gg.FAILED_PRECONDITION,Zw)})},t.prototype.Ze=function(t){var e=new S_(this.clientId,this.allowTabSynchronization,Date.now());return Jw(t).put(S_.key,e)},t.yt=function(){return z_.yt()},t.prototype.Xe=function(t){var e=this,n=Jw(t);return n.get(S_.key).next(function(t){return e.tn(t)?(Jg("IndexedDbPersistence","Releasing primary lease."),n.delete(S_.key)):q_.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(ty("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Jg("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return ty("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){ty("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Jw(t){return J_(t,S_.store)}function tE(t){return J_(t,N_.store)}function eE(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var nE=function(t,e){this.progress=t,this.wn=e},rE=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Ry.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Eb(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Ry(e)).next(function(t){var e=Sv();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=Sv();return this.Ut.getCollectionParents(t,i).next(function(o){return q_.forEach(o,function(o){var a=function(t,e){return new mb(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],u=c.key,l=r.get(u);null==l&&(l=Ky.newInvalidDocument(u),r=r.insert(u,l)),Jb(c,l,s.localWriteTime),l.isFoundDocument()||(r=r.remove(u))}})}).next(function(){return r.forEach(function(t,n){kb(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=xv(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var c=a[o];c instanceof iv&&null===n.get(c.key)&&(r=r.add(c.key))}var u=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(u=u.insert(t,e))}),u})},t}(),iE=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=xv(),i=xv(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),sE=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(dy.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(bb(e)||vb(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(Xg()<=Wd.a.DEBUG&&Jg("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ib(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new bv(Ab(t));return e.forEach(function(e,r){kb(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Xg()<=Wd.a.DEBUG&&Jg("QueryEngine","Using full collection scan to execute query:",Ib(e)),this.Sn.getDocumentsMatchingQuery(t,e,dy.min())},t}(),oE=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new mv(cy),this.kn=new qw(function(t){return Zy(t)},Xy),this.On=dy.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new rE(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function aE(t,e,n,r){return new oE(t,e,n,r)}function cE(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Gi.d)(this,function(o){switch(o.label){case 0:return n=sy(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new rE(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=xv(),a=0,c=s;a<c.length;a++){var u=c[a];n.push(u.batchId);for(var l=0,h=u.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function uE(t,e){var n=sy(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=q_.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);iy(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function lE(t){var e=sy(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function hE(t,e){var n=sy(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var c=e.resumeToken;if(c.approximateByteSize()>0){var u=a.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,u),function(t,e,n){return iy(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,u,e)&&o.push(n.qe.updateTargetData(t,u))}}});var a=wv();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(dE(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(dy.min())){var c=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(c)}return q_.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function dE(t,e,n,r,i){var s=xv();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=wv();return n.forEach(function(n,o){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(dy.min())?(e.removeEntry(n,c),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,c),s=s.insert(n,o)):Jg("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function fE(t,e){var n=sy(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function pE(t,e){var n=sy(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?q_.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new nw(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function mE(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Gi.d)(this,function(a){switch(a.label){case 0:r=sy(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!$_(o=a.sent()))throw o;return Jg("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function gE(t,e,n){var r=sy(t),i=dy.min(),s=xv();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=sy(t),i=r.kn.get(n);return void 0!==i?q_.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Cb(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:dy.min(),n?s:xv())}).next(function(t){return{documents:t,Bn:s}})})}function yE(t,e){var n=sy(t),r=sy(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function bE(t){var e=sy(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=sy(t),i=wv(),s=ow(n),o=$w(e),a=IDBKeyRange.lowerBound(s,!0);return o.Ot({index:k_.readTimeIndex,range:a},function(t,e){var n=iw(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:aw(s)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function vE(t){return Object(Gi.b)(this,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){return[2,(e=sy(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=$w(t),n=dy.min();return e.Ot({index:k_.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=aw(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function _E(t,e,n,r){return Object(Gi.b)(this,void 0,void 0,function(){var i,s,o,a,c,u,l,h,d,f;return Object(Gi.d)(this,function(p){switch(p.label){case 0:for(i=sy(t),s=xv(),o=wv(),a=Ov(),c=0,u=n;c<u.length;c++)h=e.qn((l=u[c]).metadata.name),l.document&&(s=s.add(h)),o=o.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,pE(i,function(t){return Cb(yb(yy.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return dE(t,d,o,dy.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,s,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function wE(t,e,n){return void 0===n&&(n=xv()),Object(Gi.b)(this,void 0,void 0,function(){var r,i;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return[4,pE(t,Cb(fw(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=sy(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=Wv(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Qe.saveNamedQuery(t,e);var o=r.withResumeToken(wy.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var EE=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return q_.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:Wv(n.createTime)}),q_.resolve()},t.prototype.getNamedQuery=function(t,e){return q_.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:fw(t.bundledQuery),readTime:Wv(t.readTime)}}(e)),q_.resolve()},t}(),SE=function(){function t(){this.Wn=new bv(CE.Gn),this.zn=new bv(CE.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new CE(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new CE(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new Ry(new yy([])),r=new CE(n,t),i=new CE(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Ry(new yy([])),n=new CE(e,t),r=new CE(e,t+1),i=xv();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new CE(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),CE=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Ry.comparator(t.key,e.key)||cy(t.ns,e.ns)},t.Hn=function(t,e){return cy(t.ns,e.ns)||Ry.comparator(t.key,e.key)},t}(),OE=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new bv(CE.Gn)}return t.prototype.checkEmpty=function(t){return q_.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new tw(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var c=a[o];this.rs=this.rs.add(new CE(c.key,i)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return q_.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return q_.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return q_.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return q_.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return q_.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new CE(e,0),i=new CE(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),q_.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new bv(cy);return e.forEach(function(t){var e=new CE(t,0),i=new CE(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),q_.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Ry.isDocumentKey(i)||(i=i.child(""));var s=new CE(new Ry(i),0),o=new bv(cy);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),q_.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;iy(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return q_.forEach(e.mutations,function(i){var s=new CE(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new CE(e,0),r=this.rs.firstAfterOrEqual(n);return q_.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return q_.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),TE=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new mv(Ry.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return q_.resolve(n?n.document.clone():Ky.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=wv();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Ky.newInvalidDocument(t))}),q_.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=wv(),i=new Ry(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,c=a.document,u=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;u.compareTo(n)<=0||kb(e,c)&&(r=r.insert(c.key,c.clone()))}return q_.resolve(r)},t.prototype.fs=function(t,e){return q_.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new xE(this)},t.prototype.getSize=function(t){return q_.resolve(this.size)},t}(),xE=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(Gi.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),q_.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Hw),IE=function(){function t(t){this.persistence=t,this.ds=new qw(function(t){return Zy(t)},Xy),this.lastRemoteSnapshotVersion=dy.min(),this.highestTargetId=0,this.ws=0,this._s=new SE,this.targetCount=0,this.ys=Aw.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),q_.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return q_.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return q_.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),q_.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),q_.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Aw(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,q_.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),q_.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,q_.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),q_.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return q_.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return q_.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),q_.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),q_.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),q_.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return q_.resolve(n)},t.prototype.containsKey=function(t,e){return q_.resolve(this._s.containsKey(e))},t}(),kE=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Kg(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new IE(this),this.Ut=new yw,this.Ue=function(t,e){return new TE(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new rw(e),this.Qe=new EE(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new OE(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Jg("MemoryPersistence","Starting transaction:",t);var i=new AE(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return q_.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),AE=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(Gi.c)(e,t),e}(B_),DE=function(){function t(t){this.persistence=t,this.As=new SE,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw ry()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),q_.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),q_.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),q_.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q_.forEach(this.vs,function(r){var i=Ry.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return q_.or([function(){return q_.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),RE=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function jE(t,e){return"firestore_clients_"+t+"_"+e}function PE(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function NE(t,e){return"firestore_targets_"+t+"_"+e}RE.UNAUTHENTICATED=new RE(null),RE.GOOGLE_CREDENTIALS=new RE("google-credentials-uid"),RE.FIRST_PARTY=new RE("first-party-uid");var ME=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new Yg(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(ty("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),LE=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Yg(i.error.code,i.error.message)),s?new t(e,i.state,r):(ty("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),FE=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=kv(),o=0;i&&o<r.activeTargetIds.length;++o)i=Dy(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(ty("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),VE=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(ty("SharedClientState","Failed to parse online state: "+e),null)},t}(),BE=function(){function t(){this.activeTargetIds=kv()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),UE=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new mv(cy),this.started=!1,this.Os=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=jE(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new BE),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,c,u,l=this;return Object(Gi.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(jE(this.persistenceKey,r)))&&(s=FE.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),c=0,u=this.Os;c<u.length;c++)this.Fs(u[c]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(NE(this.persistenceKey,t));if(n){var r=LE.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(NE(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Jg("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Jg("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Jg("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Jg("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void ty("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(Gi.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(Gi.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=Kg.o;if(null!=t)try{var n=JSON.parse(t);iy("number"==typeof n),e=n}catch(t){ty("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Kg.o&&this.sequenceNumberHandler(o);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new ME(this.currentUser,t,e,n),i=PE(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=PE(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=NE(this.persistenceKey,t),i=new LE(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return FE.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return ME.Vs(new RE(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return LE.Vs(r,e)},t.prototype.js=function(t){return VE.Vs(t)},t.prototype.ii=function(t){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Jg("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=kv();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),qE=function(){function t(){this.li=new BE,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new BE,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),HE=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),zE=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Jg("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Jg("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),WE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},QE=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),$E=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(Gi.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new $g;o.listenOnce(zg.COMPLETE,function(){try{switch(o.getLastErrorCode()){case Hg.NO_ERROR:var e=o.getResponseJson();Jg("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Hg.TIMEOUT:Jg("Connection",'RPC "'+t+'" timed out'),s(new Yg(Gg.DEADLINE_EXCEEDED,"Request time out"));break;case Hg.HTTP_ERROR:var n=o.getStatus();if(Jg("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Gg).indexOf(e)>=0?e:Gg.UNKNOWN}(r.status);s(new Yg(a,r.message))}else s(new Yg(Gg.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Yg(Gg.UNAVAILABLE,"Connection failed."));break;default:ry()}}finally{Jg("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Fg,i=Up(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),Object(zd.m)()||Object(zd.o)()||Object(zd.k)()||Object(zd.l)()||Object(zd.p)()||Object(zd.j)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Jg("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),c=!1,u=!1,l=new QE({Ei:function(t){u?Jg("Connection","Not sending because WebChannel is closed:",t):(c||(Jg("Connection","Opening WebChannel transport."),a.open(),c=!0),Jg("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,Qg.EventType.OPEN,function(){u||Jg("Connection","WebChannel transport opened.")}),h(a,Qg.EventType.CLOSE,function(){u||(u=!0,Jg("Connection","WebChannel transport closed"),l.Vi())}),h(a,Qg.EventType.ERROR,function(t){u||(u=!0,ey("Connection","WebChannel transport errored:",t),l.Vi(new Yg(Gg.UNAVAILABLE,"The operation could not be completed")))}),h(a,Qg.EventType.MESSAGE,function(t){var e;if(!u){var n=t.data[0];iy(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Jg("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=cv[t];if(void 0!==e)return pv(e)}(i),o=r.message;void 0===s&&(s=Gg.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),u=!0,l.Vi(new Yg(s,o)),a.close()}else Jg("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Wg.STAT_EVENT,function(t){10===t.stat?Jg("Connection","Detected buffering proxy"):11===t.stat&&Jg("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Jg("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return Jg("RestConnection","Received: ",t),t},function(e){throw ey("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.3.3",t["X-Firebase-GMPID"]=this.databaseInfo.appId,t["Content-Type"]="text/plain",e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+WE[t]},t}());function KE(){return"undefined"!=typeof window?window:null}function GE(){return"undefined"!=typeof document?document:null}function YE(t){return new Uv(t,!0)}var ZE=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Jg("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),XE=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ZE(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Gg.RESOURCE_EXHAUSTED?(ty(e.toString()),ty("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Gg.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Yg(Gg.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(Gi.b)(t,void 0,void 0,function(){return Object(Gi.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Jg("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Jg("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),JE=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(Gi.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ry()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(iy(void 0===e||"string"==typeof e),wy.fromBase64String(e||"")):(iy(void 0===e||e instanceof Uint8Array),wy.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Gg.UNKNOWN:pv(t.code);return new Yg(e,t.message||"")}(a);n=new Pv(r,i,s,o||null)}else if("documentChange"in e){i=Gv(t,(r=e.documentChange).document.name),s=Wv(r.document.updateTime);var a=new Qy({mapValue:{fields:r.document.fields}}),c=(o=Ky.newFoundDocument(i,s,a),r.targetIds||[]);n=new Rv(c,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=Gv(t,(r=e.documentDelete).document),s=r.readTime?Wv(r.readTime):dy.min(),a=Ky.newNoDocument(i,s),n=new Rv([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Gv(t,(r=e.documentRemove).document),n=new Rv([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return ry();var u=e.filter;i=new dv(r=u.count||0),n=new jv(s=u.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return dy.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?dy.min():e.readTime?Wv(e.readTime):dy.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Xv(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Jy(r)?{documents:i_(t,r)}:{query:s_(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Hv(t,e.resumeToken):e.snapshotVersion.compareTo(dy.min())>0&&(n.readTime=qv(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ry()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Xv(this.R),e.removeTarget=t,this.cr(e)},e}(XE),tS=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(Gi.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(iy(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(iy(void 0!==e),t.map(function(t){return function(t,e){var n=Wv(t.updateTime?t.updateTime:e);return n.isEqual(dy.min())&&(n=Wv(e)),new Kb(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=Wv(t.commitTime);return this.listener.Tr(n,e)}return iy(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Xv(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return n_(e.R,t)})};this.cr(n)},e}(XE),eS=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(Gi.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new Yg(Gg.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw t.code===Gg.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw t.code===Gg.UNAUTHENTICATED&&r.credentials.invalidateToken(),t})},e.prototype.terminate=function(){this.Rr=!1},e}(function(){}),nS=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(ty(e),this.Vr=!1):Jg("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),rS=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(Gi.b)(s,void 0,void 0,function(){return Object(Gi.d)(this,function(t){switch(t.label){case 0:return dS(this)?(Jg("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Gi.b)(this,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return(e=sy(t)).$r.add(4),[4,sS(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,iS(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new nS(n,r)};function iS(t){return Object(Gi.b)(this,void 0,void 0,function(){var e,n;return Object(Gi.d)(this,function(r){switch(r.label){case 0:if(!dS(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function sS(t){return Object(Gi.b)(this,void 0,void 0,function(){var e,n;return Object(Gi.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function oS(t,e){var n=sy(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),hS(n)?lS(n):xS(n).er()&&cS(n,e))}function aS(t,e){var n=sy(t),r=xS(n);n.Or.delete(e),r.er()&&uS(n,e),0===n.Or.size&&(r.er()?r.ir():dS(n)&&n.Br.set("Unknown"))}function cS(t,e){t.qr.U(e.targetId),xS(t).mr(e)}function uS(t,e){t.qr.U(e),xS(t).yr(e)}function lS(t){t.qr=new Mv({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),xS(t).start(),t.Br.Sr()}function hS(t){return dS(t)&&!xS(t).tr()&&t.Or.size>0}function dS(t){return 0===sy(t).$r.size}function fS(t){t.qr=void 0}function pS(t){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(e){return t.Or.forEach(function(e,n){cS(t,e)}),[2]})})}function mS(t,e){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(n){return fS(t),hS(t)?(t.Br.Nr(e),lS(t)):t.Br.set("Unknown"),[2]})})}function gS(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i,s;return Object(Gi.d)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof Pv&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(Gi.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Or.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Or.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),Jg("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,yS(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Rv?t.qr.X(e):e instanceof jv?t.qr.rt(e):t.qr.et(e),n.isEqual(dy.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,lE(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(wy.EMPTY_BYTE_STRING,n.snapshotVersion)),uS(t,e);var r=new nw(n.target,e,1,n.sequenceNumber);cS(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Jg("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,yS(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function yS(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r=this;return Object(Gi.d)(this,function(i){switch(i.label){case 0:if(!$_(e))throw e;return t.$r.add(1),[4,sS(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return lE(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(Gi.b)(r,void 0,void 0,function(){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return Jg("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,iS(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function bS(t,e){return e().catch(function(n){return yS(t,n,e)})}function vS(t){return Object(Gi.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(Gi.d)(this,function(o){switch(o.label){case 0:e=sy(t),n=IS(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return dS(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,fE(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=IS(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,yS(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return _S(e)&&wS(e),[2]}})})}function _S(t){return dS(t)&&!IS(t).tr()&&t.kr.length>0}function wS(t){IS(t).start()}function ES(t){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(e){return IS(t).Ar(),[2]})})}function SS(t){return Object(Gi.b)(this,void 0,void 0,function(){var e,n,r;return Object(Gi.d)(this,function(i){for(e=IS(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function CS(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=ew.from(r,e,n),[4,bS(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,vS(t)];case 2:return s.sent(),[2]}})})}function OS(t,e){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(n){switch(n.label){case 0:return e&&IS(t).pr?[4,function(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return fv(r=e.code)&&r!==Gg.ABORTED?(n=t.kr.shift(),IS(t).sr(),[4,bS(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,vS(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return _S(t)&&wS(t),[2]}})})}function TS(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n;return Object(Gi.d)(this,function(r){switch(r.label){case 0:return n=sy(t),e?(n.$r.delete(2),[4,iS(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,sS(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function xS(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=sy(t);return r.br(),new JE(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:pS.bind(null,t),Ri:mS.bind(null,t),_r:gS.bind(null,t)}),t.Mr.push(function(n){return Object(Gi.b)(e,void 0,void 0,function(){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),hS(t)?lS(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),fS(t),e.label=3;case 3:return[2]}})})})),t.Ur}function IS(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=sy(t);return r.br(),new tS(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:ES.bind(null,t),Ri:OS.bind(null,t),Ir:SS.bind(null,t),Tr:CS.bind(null,t)}),t.Mr.push(function(n){return Object(Gi.b)(e,void 0,void 0,function(){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,vS(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Jg("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var kS=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new U_,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Yg(Gg.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function AS(t,e){if(ty("AsyncQueue",e+": "+t),$_(t))return new Yg(Gg.UNAVAILABLE,e+": "+t);throw t}var DS=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Ry.comparator(e.key,n.key)}:function(t,e){return Ry.comparator(t.key,e.key)},this.keyedMap=Sv(),this.sortedSet=new mv(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),RS=function(){function t(){this.Kr=new mv(Ry.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):ry():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),jS=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,DS.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Tb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),PS=function(){this.Wr=void 0,this.listeners=[]},NS=function(){this.queries=new qw(function(t){return xb(t)},Tb),this.onlineState="Unknown",this.Gr=new Set};function MS(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(Gi.d)(this,function(u){switch(u.label){case 0:if(n=sy(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new PS),!i)return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=u.sent(),[3,4];case 3:return a=u.sent(),c=AS(a,"Initialization of query '"+Ib(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&BS(n),[2]}})})}function LS(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Gi.d)(this,function(a){return n=sy(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function FS(t,e){for(var n=sy(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var c=0,u=a.listeners;c<u.length;c++)u[c].Hr(o)&&(r=!0);a.Wr=o}}r&&BS(n)}function VS(t,e,n){var r=sy(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function BS(t){t.Gr.forEach(function(t){t.next()})}var US=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new jS(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=jS.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),qS=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),HS=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Gv(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?e_(this.R,t.document,!1):Ky.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return Wv(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new HS(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,c=s.metadata.queries;a<c.length;a++){var u=c[a],l=(e.get(u)||xv()).add(o);e.set(u,l)}}return e},t.prototype.complete=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return[4,_E(this.localStore,new HS(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,wE(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new nE(Object.assign({},this.progress),t))]}})})}}();var zS=function(t){this.key=t},WS=function(t){this.key=t},QS=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=xv(),this.mutatedKeys=xv(),this.lo=Ab(t),this.fo=new DS(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new RS,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=bb(this.query)&&i.size===this.query.limit?i.last():null,u=vb(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=kb(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.lo(h,c)>0||u&&n.lo(h,u)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(c||u)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),bb(this.query)||vb(this.query))for(;o.size>this.query.limit;){var l=bb(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ry()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,c=a!==this.ao;return this.ao=a,0!==s.length||c?{snapshot:new jS(this.query,t.fo,i,s,t.mutatedKeys,0===a,c,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new RS,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=xv(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new WS(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new zS(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=xv();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return jS.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),$S=function(t,e,n){this.query=t,this.targetId=e,this.view=n},KS=function(t){this.key=t,this.bo=!1},GS=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new qw(function(t){return xb(t)},Tb),this.Vo=new Map,this.So=new Set,this.Do=new mv(Ry.comparator),this.Co=new Map,this.No=new SE,this.xo={},this.Fo=new Map,this.ko=Aw.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function YS(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Gi.d)(this,function(a){switch(a.label){case 0:return n=OC(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,pE(n.localStore,Cb(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,ZS(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&oS(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function ZS(t,e,n,r){return Object(Gi.b)(this,void 0,void 0,function(){var i,s,o,a,c,u;return Object(Gi.d)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(Gi.b)(this,void 0,void 0,function(){var i,s,o;return Object(Gi.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,gE(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(lC(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,gE(t.localStore,e,!0)];case 1:return i=l.sent(),s=new QS(e,i.Bn),o=s._o(i.documents),a=Dv.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=s.applyChanges(o,t.isPrimaryClient,a),lC(t,n,c.To),u=new $S(e,n,s),[2,(t.Po.set(e,u),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function XS(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return n=sy(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!Tb(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,mE(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),aS(n.remoteStore,r.targetId),cC(n,r.targetId)}).catch(Nw)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return cC(n,r.targetId),[4,mE(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function JS(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Gi.d)(this,function(a){switch(a.label){case 0:r=TC(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=sy(t),i=hy.now(),s=e.reduce(function(t,e){return t.add(e.key)},xv());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var u=c[a],l=tv(u,n.get(u.key));null!=l&&o.push(new iv(u.key,l,$y(l.toProto().mapValue),Gb.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new mv(cy)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,fC(r,i.changes)];case 3:return a.sent(),[4,vS(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=AS(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function tC(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r;return Object(Gi.d)(this,function(i){switch(i.label){case 0:n=sy(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,hE(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(iy(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?iy(r.bo):t.removedDocuments.size>0&&(iy(r.bo),r.bo=!1))}),[4,fC(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Nw(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function eC(t,e,n){var r=sy(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=sy(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&BS(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function nC(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i,s,o,a,c;return Object(Gi.d)(this,function(u){switch(u.label){case 0:return(r=sy(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new mv(Ry.comparator)).insert(s,Ky.newNoDocument(s,dy.min())),a=xv().add(s),c=new Av(dy.min(),new Map,new bv(cy),o,a),[4,tC(r,c)]):[3,2];case 1:return u.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),dC(r),[3,4];case 2:return[4,mE(r.localStore,e,!1).then(function(){return cC(r,e,n)}).catch(Nw)];case 3:u.sent(),u.label=4;case 4:return[2]}})})}function rC(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Gi.d)(this,function(s){switch(s.label){case 0:n=sy(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,uE(n.localStore,e)];case 2:return i=s.sent(),aC(n,r,null),oC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,fC(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,Nw(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function iC(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i;return Object(Gi.d)(this,function(s){switch(s.label){case 0:r=sy(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=sy(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return iy(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),aC(r,e,n),oC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,fC(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,Nw(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function sC(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(Gi.d)(this,function(a){switch(a.label){case 0:dS((n=sy(t)).remoteStore)||Jg("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=sy(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=AS(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function oC(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function aC(t,e,n){var r=sy(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function cC(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||uC(t,e)})}function uC(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(aS(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),dC(t))}function lC(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof zS?(t.No.addReference(s.key,e),hC(t,s)):s instanceof WS?(Jg("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||uC(t,s.key)):ry()}}function hC(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Jg("SyncEngine","New document in limbo: "+n),t.So.add(r),dC(t))}function dC(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Ry(yy.fromString(e)),r=t.ko.next();t.Co.set(r,new KS(n)),t.Do=t.Do.insert(n,r),oS(t.remoteStore,new nw(Cb(yb(n.path)),r,2,Kg.o))}}function fC(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(Gi.d)(this,function(a){switch(a.label){case 0:return r=sy(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=iE.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u;return Object(Gi.d)(this,function(l){switch(l.label){case 0:n=sy(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return q_.forEach(e,function(e){return q_.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return q_.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!$_(r=l.sent()))throw r;return Jg("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(c=n.Fn.get(a),u=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.Fn=n.Fn.insert(a,u));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function pC(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return(n=sy(t)).currentUser.isEqual(e)?[3,3]:(Jg("SyncEngine","User change. New user:",e.toKey()),[4,cE(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Yg(Gg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,fC(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function mC(t,e){var n=sy(t),r=n.Co.get(e);if(r&&r.bo)return xv().add(r.key);var i=xv(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var c=n.Po.get(a[o]);i=i.unionWith(c.view.wo)}return i}function gC(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return[4,gE((n=sy(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&lC(n,e.targetId,i.To),i)]}})})}function yC(t){return Object(Gi.b)(this,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){return[2,bE((e=sy(t)).localStore).then(function(t){return fC(e,t)})]})})}function bC(t,e,n,r){return Object(Gi.b)(this,void 0,void 0,function(){var i,s;return Object(Gi.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=sy(t),r=sy(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):q_.resolve(null)})})}((i=sy(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,vS(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(aC(i,e,r||null),oC(i,e),function(t,e){sy(sy(t)._n).Gt(e)}(i.localStore,e)):ry(),o.label=4;case 4:return[4,fC(i,s)];case 5:return o.sent(),[3,7];case 6:Jg("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function vC(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(Gi.d)(this,function(u){switch(u.label){case 0:return OC(n=sy(t)),TC(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,_C(n,r.toArray())]);case 1:return i=u.sent(),n.Oo=!0,[4,TS(n.remoteStore,!0)];case 2:for(u.sent(),s=0,o=i;s<o.length;s++)oS(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],c=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):c=c.then(function(){return cC(n,e),mE(n.localStore,e,!0)}),aS(n.remoteStore,e)}),[4,c]);case 4:return u.sent(),[4,_C(n,a)];case 5:return u.sent(),function(t){var e=sy(t);e.Co.forEach(function(t,n){aS(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new mv(Ry.comparator)}(n),n.Oo=!1,[4,TS(n.remoteStore,!1)];case 6:u.sent(),u.label=7;case 7:return[2]}})})}function _C(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,u,l,h,d,f,p;return Object(Gi.d)(this,function(m){switch(m.label){case 0:n=sy(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(c=void 0,(u=n.Vo.get(a=o[s]))&&0!==u.length?[4,pE(n.localStore,Cb(u[0]))]:[3,7]):[3,13];case 2:c=m.sent(),l=0,h=u,m.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,gC(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,yE(n.localStore,a)];case 8:return p=m.sent(),[4,pE(n.localStore,p)];case 9:return c=m.sent(),[4,ZS(n,wC(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(c),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function wC(t){return gb(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function EC(t){var e=sy(t);return sy(sy(e.localStore).persistence).fn()}function SC(t,e,n,r){return Object(Gi.b)(this,void 0,void 0,function(){var i,s,o;return Object(Gi.d)(this,function(a){switch(a.label){case 0:return(i=sy(t)).Oo?(Jg("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,bE(i.localStore)];case 3:return s=a.sent(),o=Av.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,fC(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,mE(i.localStore,e,!0)];case 6:return a.sent(),cC(i,e,r),[3,8];case 7:ry(),a.label=8;case 8:return[2]}})})}function CC(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i,s,o,a,c,u,l,h;return Object(Gi.d)(this,function(d){switch(d.label){case 0:if(!(r=OC(t)).Oo)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(Jg("SyncEngine","Adding an already active target "+o),[3,5]):[4,yE(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,pE(r.localStore,a)];case 3:return c=d.sent(),[4,ZS(r,wC(a),c.targetId,!1)];case 4:d.sent(),oS(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:u=function(t){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,mE(r.localStore,t,!1).then(function(){aS(r.remoteStore,t),cC(r,t)}).catch(Nw)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,u(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function OC(t){var e=sy(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=nC.bind(null,e),e.vo._r=FS.bind(null,e.eventManager),e.vo.Mo=VS.bind(null,e.eventManager),e}function TC(t){var e=sy(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=rC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iC.bind(null,e),e}var xC=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return this.R=YE(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return aE(this.persistence,new sE,t.initialUser,this.R)},t.prototype.qo=function(t){return new kE(DE.bs,this.R)},t.prototype.Bo=function(t){return new qE},t.prototype.terminate=function(){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),IC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Gi.c)(e,t),e.prototype.initialize=function(e){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,vE(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,TC(this.Ko.syncEngine)];case 4:return n.sent(),[4,vS(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return aE(this.persistence,new sE,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Fw(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=eE(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ew.withCacheSize(this.cacheSizeBytes):Ew.DEFAULT;return new Xw(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,KE(),GE(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new qE},e}(xC),kC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Gi.c)(e,t),e.prototype.initialize=function(e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r=this;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof UE?(this.sharedClientState.syncEngine={ui:bC.bind(null,n),ai:SC.bind(null,n),hi:CC.bind(null,n),fn:EC.bind(null,n),ci:yC.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(Gi.b)(r,void 0,void 0,function(){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return[4,vC(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=KE();if(!UE.yt(e))throw new Yg(Gg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=eE(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new UE(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(IC),AC=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n=this;return Object(Gi.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return eC(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=pC.bind(null,this.syncEngine),[4,TS(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new NS},t.prototype.createDatastore=function(t){var e=YE(t.databaseInfo.databaseId),n=new $E(t.databaseInfo);return function(t,e,n){return new eS(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return eC(o.syncEngine,t,0)},s=zE.yt()?new zE:new HE,new rS(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new GS(t,e,n,r,i,s);return o&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(Gi.b)(this,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return e=sy(t),Jg("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,sS(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),DC=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),RC=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new U_,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new qS(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t,e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(Gi.b)(this,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t,e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(Gi.b)(this,void 0,void 0,function(){var e,n=this;return Object(Gi.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Yg(Gg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(Gi.d)(this,function(c){switch(c.label){case 0:return n=sy(t),r=Xv(n.R)+"/documents",i={documents:e.map(function(t){return Kv(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return s=c.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){iy(!!e.found);var n=Gv(t,e.found.name),r=Wv(e.found.updateTime),i=new Qy({mapValue:{fields:e.found.fields}});return Ky.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){iy(!!e.missing),iy(!!e.readTime);var n=Gv(t,e.missing),r=Wv(e.readTime);return Ky.newNoDocument(n,r)}(t,e):ry()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());iy(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new lv(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t,e=this;return Object(Gi.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Ry.fromPath(n);e.mutations.push(new hv(r,e.precondition(r)))}),[4,function(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return n=sy(t),r=Xv(n.R)+"/documents",i={writes:e.map(function(t){return n_(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ry();e=dy.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Yg(Gg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Gb.updateTime(e):Gb.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(dy.min()))throw new Yg(Gg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Gb.updateTime(e)}return Gb.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),jC=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new ZE(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(Gi.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(Gi.d)(this,function(r){return t=new RC(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!ky(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!fv(e)}return!1},t}(),PC=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=RE.UNAUTHENTICATED,this.clientId=ay.u(),this.credentialListener=function(){},this.receivedInitialUser=new U_,this.credentials.setChangeListener(function(t){Jg("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Yg(Gg.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new U_;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Gi.b)(t,void 0,void 0,function(){var t,n;return Object(Gi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=AS(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function NC(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Jg("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(Gi.b)(i,void 0,void 0,function(){return Object(Gi.d)(this,function(t){switch(t.label){case 0:return[4,cE(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function MC(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,LC(t)];case 1:return n=i.sent(),Jg("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(Gi.b)(this,void 0,void 0,function(){var n,r;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return(n=sy(t)).asyncQueue.verifyOperationInProgress(),Jg("RemoteStore","RemoteStore received new credentials"),r=dS(n),n.$r.add(3),[4,sS(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,iS(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function LC(t){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Jg("FirestoreClient","Using default OfflineComponentProvider"),[4,NC(t,new xC)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function FC(t){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Jg("FirestoreClient","Using default OnlineComponentProvider"),[4,MC(t,new AC)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function VC(t){return LC(t).then(function(t){return t.persistence})}function BC(t){return LC(t).then(function(t){return t.localStore})}function UC(t){return FC(t).then(function(t){return t.remoteStore})}function qC(t){return FC(t).then(function(t){return t.syncEngine})}function HC(t){return Object(Gi.b)(this,void 0,void 0,function(){var e,n;return Object(Gi.d)(this,function(r){switch(r.label){case 0:return[4,FC(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=YS.bind(null,e.syncEngine),n.onUnlisten=XS.bind(null,e.syncEngine),n)]}})})}function zC(t,e,n){var r=this;void 0===n&&(n={});var i=new U_;return t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(r,void 0,void 0,function(){var r;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new DC({next:function(s){e.enqueueAndForget(function(){return LS(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Yg(Gg.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Yg(Gg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new US(yb(n.path),s,{includeMetadataChanges:!0,so:!0});return MS(t,o)},[4,HC(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function WC(t,e,n){var r=this;void 0===n&&(n={});var i=new U_;return t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(r,void 0,void 0,function(){var r;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new DC({next:function(n){e.enqueueAndForget(function(){return LS(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Yg(Gg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new US(n,s,{includeMetadataChanges:!0,so:!0});return MS(t,o)},[4,HC(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var QC=function(t,e,n,r,i,s,o){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o},$C=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),KC=new Map,GC=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},YC=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(RE.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ZC=function(){function t(t){var e=this;this.oc=null,this.currentUser=RE.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Jg("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(iy("string"==typeof n.accessToken),new GC(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return iy(null===t||"string"==typeof t),new RE(t)},t}(),XC=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=RE.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),JC=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new XC(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(RE.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function tO(t,e,n){if(!n)throw new Yg(Gg.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function eO(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Yg(Gg.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function nO(t,e,n,r){if(!0===e&&!0===r)throw new Yg(Gg.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function rO(t){if(!Ry.isDocumentKey(t))throw new Yg(Gg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function iO(t){if(Ry.isDocumentKey(t))throw new Yg(Gg.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function sO(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ry()}function oO(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Yg(Gg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=sO(t);throw new Yg(Gg.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function aO(t,e){if(e<=0)throw new Yg(Gg.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var cO=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Yg(Gg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Yg(Gg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,nO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),uO=function(){function t(t,e){this._persistenceKey="(lite)",this._settings=new cO({}),this._settingsFrozen=!1,t instanceof $C?(this._databaseId=t,this._credentials=new YC):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Yg(Gg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $C(t.options.projectId)}(t),this._credentials=new ZC(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Yg(Gg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Yg(Gg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cO(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new YC;switch(t.type){case"gapi":var e=t.client;return iy(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new JC(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Yg(Gg.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=KC.get(this))&&(Jg("ComponentProvider","Removing Datastore"),KC.delete(this),t.terminate()),Promise.resolve();var t},t}(),lO=function(){function t(t,e,n){this._converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new dO(this.firestore,this._converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),hO=function(){function t(t,e,n){this._converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),dO=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,yb(r))||this).firestore=e,i._path=r,i.type="collection",i}return Object(Gi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new lO(this.firestore,null,new Ry(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(hO);function fO(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(zd.g)(t),tO("collection","path",e),t instanceof uO)return iO(n=yy.fromString.apply(yy,Object(Gi.f)([e],r))),new dO(t,null,n);if(!(t instanceof lO||t instanceof dO))throw new Yg(Gg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return iO(n=yy.fromString.apply(yy,Object(Gi.f)([t.path],r)).child(yy.fromString(e))),new dO(t.firestore,null,n)}function pO(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(zd.g)(t),1===arguments.length&&(e=ay.u()),tO("doc","path",e),t instanceof uO)return rO(n=yy.fromString.apply(yy,Object(Gi.f)([e],r))),new lO(t,null,new Ry(n));if(!(t instanceof lO||t instanceof dO))throw new Yg(Gg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return rO(n=t._path.child(yy.fromString.apply(yy,Object(Gi.f)([e],r)))),new lO(t.firestore,t instanceof dO?t._converter:null,new Ry(n))}function mO(t,e){return t=Object(zd.g)(t),e=Object(zd.g)(e),(t instanceof lO||t instanceof dO)&&(e instanceof lO||e instanceof dO)&&t.firestore===e.firestore&&t.path===e.path&&t._converter===e._converter}function gO(t,e){return t=Object(zd.g)(t),e=Object(zd.g)(e),t instanceof hO&&e instanceof hO&&t.firestore===e.firestore&&Tb(t._query,e._query)&&t._converter===e._converter}var yO=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new ZE(this,"async_queue_retry"),this.Ec=function(){var e=GE();e&&Jg("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=GE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=GE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t,e=this;return Object(Gi.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!$_(t=n.sent()))throw t;return Jg("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,ty("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=kS.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&ry()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(Gi.b)(this,void 0,void 0,function(){var t;return Object(Gi.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function bO(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new U_,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var vO=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._queue=new yO,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(Gi.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||wO(this),this._firestoreClient.terminate()},e}(uO);function _O(t){return t._firestoreClient||wO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wO(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new QC(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new PC(t._credentials,t._queue,r)}function EO(t,e,n){var r=this,i=new U_;return t.asyncQueue.enqueue(function(){return Object(Gi.b)(r,void 0,void 0,function(){var r;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,NC(t,n)];case 1:return s.sent(),[4,MC(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Gg.FAILED_PRECONDITION||t.code===Gg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function SO(t){if(t._initialized||t._terminated)throw new Yg(Gg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var CO=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Yg(Gg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vy(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),OO=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(wy.fromBase64String(e))}catch(e){throw new Yg(Gg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(wy.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),TO=function(t){this._methodName=t},xO=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Yg(Gg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Yg(Gg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return cy(this._lat,t._lat)||cy(this._long,t._long)},t}(),IO=/^__.*__$/,kO=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new iv(t,this.data,this.fieldMask,e,this.fieldTransforms):new rv(t,this.data,e,this.fieldTransforms)},t}(),AO=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new iv(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function DO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ry()}}var RO=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return XO(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(DO(this.Dc)&&IO.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),jO=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||YE(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new RO({Dc:t,methodName:e,Lc:n,path:vy.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function PO(t){var e=t._freezeSettings(),n=YE(t._databaseId);return new jO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NO(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Bc(s.merge||s.mergeFields?2:0,e,n,i);KO("Data must be an object, but it was:",o,r);var a,c,u=QO(r,o);if(s.merge)a=new _y(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,d=s.mergeFields;h<d.length;h++){var f=GO(e,d[h],n);if(!o.contains(f))throw new Yg(Gg.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");JO(l,f)||l.push(f)}a=new _y(l),c=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,c=o.fieldTransforms;return new kO(new Qy(u),a,c)}var MO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gi.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(TO);function LO(t,e,n){return new RO({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var FO=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gi.c)(e,t),e.prototype._toFieldTransform=function(t){return new $b(t.path,new Vb)},e.prototype.isEqual=function(t){return t instanceof e},e}(TO),VO=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(Gi.c)(e,t),e.prototype._toFieldTransform=function(t){var e=LO(this,t,!0),n=this.qc.map(function(t){return WO(t,e)}),r=new Bb(n);return new $b(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(TO),BO=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(Gi.c)(e,t),e.prototype._toFieldTransform=function(t){var e=LO(this,t,!0),n=this.qc.map(function(t){return WO(t,e)}),r=new qb(n);return new $b(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(TO),UO=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(Gi.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new zb(t.R,Pb(t.R,this.Uc));return new $b(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(TO);function qO(t,e,n,r){var i=t.Bc(1,e,n);KO("Data must be an object, but it was:",i,r);var s=[],o=Qy.empty();py(r,function(t,r){var a=ZO(e,t,n);r=Object(zd.g)(r);var c=i.kc(a);if(r instanceof MO)s.push(a);else{var u=WO(r,c);null!=u&&(s.push(a),o.set(a,u))}});var a=new _y(s);return new AO(o,a,i.fieldTransforms)}function HO(t,e,n,r,i,s){var o=t.Bc(1,e,n),a=[GO(e,r,n)],c=[i];if(s.length%2!=0)throw new Yg(Gg.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var u=0;u<s.length;u+=2)a.push(GO(e,s[u])),c.push(s[u+1]);for(var l=[],h=Qy.empty(),d=a.length-1;d>=0;--d)if(!JO(l,a[d])){var f=a[d],p=c[d];p=Object(zd.g)(p);var m=o.kc(f);if(p instanceof MO)l.push(f);else{var g=WO(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new _y(l);return new AO(h,y,o.fieldTransforms)}function zO(t,e,n,r){return void 0===r&&(r=!1),WO(n,t.Bc(r?4:3,e))}function WO(t,e){if($O(t=Object(zd.g)(t)))return KO("Unsupported field value:",e,t),QO(t,e);if(t instanceof TO)return function(t,e){if(!DO(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=WO(s[i],e.Oc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(zd.g)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Pb(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=hy.fromDate(t);return{timestampValue:qv(e.R,n)}}if(t instanceof hy)return n=new hy(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:qv(e.R,n)};if(t instanceof xO)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof OO)return{bytesValue:Hv(e.R,t._byteString)};if(t instanceof lO){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Qv(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+sO(t))}(t,e)}function QO(t,e){var n={};return my(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):py(t,function(t,r){var i=WO(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function $O(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof hy||t instanceof xO||t instanceof OO||t instanceof lO||t instanceof TO)}function KO(t,e,n){if(!$O(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=sO(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function GO(t,e,n){if((e=Object(zd.g)(e))instanceof CO)return e._internalPath;if("string"==typeof e)return ZO(t,e);throw XO("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var YO=new RegExp("[~\\*/\\[\\]]");function ZO(t,e,n){if(e.search(YO)>=0)throw XO("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(CO.bind.apply(CO,Object(Gi.f)([void 0],e.split(".")))))._internalPath}catch(r){throw XO("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function XO(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+r),o&&(c+=" in document "+i),c+=")"),new Yg(Gg.INVALID_ARGUMENT,(a+=". ")+t+c)}function JO(t,e){return t.some(function(t){return t.isEqual(e)})}var tT=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new lO(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new eT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(nT("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),eT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gi.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(tT);function nT(t,e){return"string"==typeof e?ZO(t,e):e instanceof CO?e._internalPath:e._delegate._internalPath}var rT=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),iT=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(Gi.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new sT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(nT("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(tT),sT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gi.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(iT),oT=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new rT(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new sT(n._firestore,n._userDataWriter,r.key,r,new rT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query._converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Yg(Gg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new sT(t._firestore,t._userDataWriter,e.doc.key,e.doc,new rT(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new sT(t._firestore,t._userDataWriter,e.doc.key,e.doc,new rT(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query._converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:aT(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function aT(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ry()}}function cT(t,e){return t instanceof iT&&e instanceof iT?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof oT&&e instanceof oT&&t._firestore===e._firestore&&gO(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function uT(t){if(vb(t)&&0===t.explicitOrderBy.length)throw new Yg(Gg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var lT=function(){};function hT(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var dT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(Gi.c)(e,t),e.prototype._apply=function(t){var e=PO(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Yg(Gg.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){vT(o,s);for(var c=[],u=0,l=o;u<l.length;u++)c.push(bT(r,t,l[u]));a={arrayValue:{values:c}}}else a=bT(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||vT(o,s),a=zO(n,"where",o,"in"===s||"not-in"===s);var h=tb.create(i,s,a);return function(t,e){if(e.g()){var n=wb(t);if(null!==n&&!n.isEqual(e.field))throw new Yg(Gg.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=_b(t);null!==r&&_T(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Yg(Gg.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new hO(t.firestore,t._converter,function(t,e){var n=t.filters.concat([e]);return new mb(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(lT),fT=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(Gi.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Yg(Gg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Yg(Gg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new hb(e,n);return function(t,e){if(null===_b(t)){var n=wb(t);null!==n&&_T(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new hO(t.firestore,t._converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new mb(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(lT),pT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(Gi.c)(e,t),e.prototype._apply=function(t){return new hO(t.firestore,t._converter,Ob(t._query,this.Gc,this.zc))},e}(lT),mT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Gi.c)(e,t),e.prototype._apply=function(t){var e=yT(t,this.type,this.Hc,this.Jc);return new hO(t.firestore,t._converter,function(t,e){return new mb(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(lT),gT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(Gi.c)(e,t),e.prototype._apply=function(t){var e=yT(t,this.type,this.Hc,this.Jc);return new hO(t.firestore,t._converter,function(t,e){return new mb(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(lT);function yT(t,e,n,r){if(n[0]=Object(zd.g)(n[0]),n[0]instanceof tT)return function(t,e,n,r,i){if(!r)throw new Yg(Gg.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Sb(t);o<a.length;o++){var c=a[o];if(c.field.isKeyField())s.push(By(e,r.key));else{var u=r.data.field(c.field);if(Ty(u))throw new Yg(Gg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===u){var l=c.field.canonicalString();throw new Yg(Gg.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(u)}}return new ub(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=PO(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new Yg(Gg.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var u=i[c];if(o[c].field.isKeyField()){if("string"!=typeof u)throw new Yg(Gg.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof u);if(!Eb(t)&&-1!==u.indexOf("/"))throw new Yg(Gg.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+u+"' contains a slash.");var l=t.path.child(yy.fromString(u));if(!Ry.isDocumentKey(l))throw new Yg(Gg.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ry(l);a.push(By(e,h))}else{var d=zO(n,r,u);a.push(d)}}return new ub(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function bT(t,e,n){if("string"==typeof(n=Object(zd.g)(n))){if(""===n)throw new Yg(Gg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Eb(e)&&-1!==n.indexOf("/"))throw new Yg(Gg.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(yy.fromString(n));if(!Ry.isDocumentKey(r))throw new Yg(Gg.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return By(t,new Ry(r))}if(n instanceof lO)return By(t,n._key);throw new Yg(Gg.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+sO(n)+".")}function vT(t,e){if(!Array.isArray(t)||0===t.length)throw new Yg(Gg.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Yg(Gg.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function _T(t,e,n){if(!n.isEqual(e))throw new Yg(Gg.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var wT=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),jy(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Cy(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Oy(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ry()}},t.prototype.convertObject=function(t,e){var n=this,r={};return py(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new xO(Cy(t.latitude),Cy(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=xy(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Iy(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Sy(t);return new hy(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=yy.fromString(t);iy(y_(n));var r=new $C(n.get(1),n.get(3)),i=new Ry(n.popFirst(5));return r.isEqual(e)||ty("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function ET(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var ST=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Gi.c)(e,t),e.prototype.convertBytes=function(t){return new OO(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new lO(this.firestore,null,e)},e}(wT),CT=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=PO(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=OT(t,this._firestore),i=ET(r._converter,e,n),s=NO(this._dataReader,"WriteBatch.set",r._key,i,null!==r._converter,n);return this._mutations.push(s.toMutation(r._key,Gb.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=OT(t,this._firestore);return s="string"==typeof(e=Object(zd.g)(e))||e instanceof CO?HO(this._dataReader,"WriteBatch.update",o._key,e,n,r):qO(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,Gb.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=OT(t,this._firestore);return this._mutations=this._mutations.concat(new lv(e._key,Gb.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Yg(Gg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function OT(t,e){if((t=Object(zd.g)(t)).firestore!==e)throw new Yg(Gg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var TT=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Gi.c)(e,t),e.prototype.convertBytes=function(t){return new OO(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new lO(this.firestore,null,e)},e}(wT);function xT(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=oO(t,lO);var s=oO(t.firestore,vO),o=PO(s);return kT(s,[("string"==typeof(e=Object(zd.g)(e))||e instanceof CO?HO(o,"updateDoc",t._key,e,n,r):qO(o,"updateDoc",t._key,e)).toMutation(t._key,Gb.exists(!0))])}function IT(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(zd.g)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||bO(i[a])||(o=i[a],a++);var c,u,l,h={includeMetadataChanges:o.includeMetadataChanges};if(bO(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof lO)u=oO(t.firestore,vO),l=yb(t._key.path),c={next:function(e){i[a]&&i[a](AT(u,t,e))},error:i[a+1],complete:i[a+2]};else{var f=oO(t,hO);u=oO(f.firestore,vO),l=f._query;var p=new TT(u);c={next:function(t){i[a]&&i[a](new oT(u,p,f,t))},error:i[a+1],complete:i[a+2]},uT(t._query)}return function(t,e,n,r){var i=this,s=new DC(r),o=new US(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(i,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return e=MS,[4,HC(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(i,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return e=LS,[4,HC(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(_O(u),l,h,c)}function kT(t,e){return function(t,e){var n=this,r=new U_;return t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(n,void 0,void 0,function(){var n;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return n=JS,[4,qC(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(_O(t),e)}function AT(t,e,n){var r=n.docs.get(e._key),i=new TT(t);return new iT(t,i,e._key,r,new rT(n.hasPendingWrites,n.fromCache),e._converter)}var DT=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(Gi.c)(e,t),e.prototype.get=function(e){var n=this,r=OT(e,this._firestore),i=new TT(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new iT(n._firestore,i,r._key,t._document,new rT(!1,!1),r._converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=PO(t)}return t.prototype.get=function(t){var e=this,n=OT(t,this._firestore),r=new ST(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return ry();var i=t[0];if(i.isFoundDocument())return new tT(e._firestore,r,i.key,i,n._converter);if(i.isNoDocument())return new tT(e._firestore,r,n._key,null,n._converter);throw ry()})},t.prototype.set=function(t,e,n){var r=OT(t,this._firestore),i=ET(r._converter,e,n),s=NO(this._dataReader,"Transaction.set",r._key,i,null!==r._converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=OT(t,this._firestore);return s="string"==typeof(e=Object(zd.g)(e))||e instanceof CO?HO(this._dataReader,"Transaction.update",o._key,e,n,r):qO(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=OT(t,this._firestore);return this._transaction.delete(e._key),this},t}());function RT(){if("undefined"==typeof Uint8Array)throw new Yg(Gg.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function jT(){if("undefined"==typeof atob)throw new Yg(Gg.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var PT=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return jT(),new t(OO.fromBase64String(e))},t.fromUint8Array=function(e){return RT(),new t(OO.fromUint8Array(e))},t.prototype.toBase64=function(){return jT(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return RT(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),NT=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){SO(t=oO(t,vO));var n=_O(t),r=t._freezeSettings(),i=new AC;return EO(n,i,new IC(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){SO(t=oO(t,vO));var e=_O(t),n=t._freezeSettings(),r=new AC;return EO(e,r,new kC(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Yg(Gg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new U_;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(Gi.b)(e,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Gi.b)(this,void 0,void 0,function(){return Object(Gi.d)(this,function(e){switch(e.label){case 0:return z_.yt()?[4,z_.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(eE(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),MT=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof $C||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=oO(t,uO))._getSettings();"firestore.googleapis.com"!==r.host&&r.host!==e&&ey("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._delegate,t,e)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Gi.b)(e,void 0,void 0,function(){var e,n;return Object(Gi.d)(this,function(r){switch(r.label){case 0:return[4,VC(t)];case 1:return e=r.sent(),[4,UC(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=sy(t);return e.$r.delete(0),iS(e)}(n))]}})})})}(_O(oO(this._delegate,vO)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(Gi.b)(e,void 0,void 0,function(){var e,n;return Object(Gi.d)(this,function(r){switch(r.label){case 0:return[4,VC(t)];case 1:return e=r.sent(),[4,UC(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(Gi.b)(this,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return(e=sy(t)).$r.add(0),[4,sS(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(_O(oO(this._delegate,vO)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&nO("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new U_;return t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(e,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(r){switch(r.label){case 0:return e=sC,[4,qC(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(_O(oO(this._delegate,vO)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new DC(e);return t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(n,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){sy(t).Gr.add(e),e.next()},[4,HC(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(n,void 0,void 0,function(){var e;return Object(Gi.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){sy(t).Gr.delete(e)},[4,HC(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(_O(t=oO(t,vO)),bO(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new Yg(Gg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new YT(this,fO(this._delegate,t))}catch(t){throw qT(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new UT(this,pO(this._delegate,t))}catch(t){throw qT(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new $T(this,function(t,e){if(t=oO(t,uO),tO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Yg(Gg.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new hO(t,null,function(t){return new mb(yy.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw qT(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new U_;return t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(n,void 0,void 0,function(){var n;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return FC(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new jC(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(_O(t),function(n){return e(new DT(t,n))})}(this._delegate,function(n){return t(new FT(e,n))})},t.prototype.batch=function(){var t=this;return _O(this._delegate),new VT(new CT(this._delegate,function(e){return kT(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Yg(Gg.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Yg(Gg.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),LT=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Gi.c)(e,t),e.prototype.convertBytes=function(t){return new PT(new OO(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return UT.Zc(e,this.firestore,null)},e}(wT),FT=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new LT(t)}return t.prototype.get=function(t){var e=this,n=ZT(t);return this._delegate.get(n).then(function(t){return new WT(e._firestore,new iT(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n._converter))})},t.prototype.set=function(t,e,n){var r=ZT(t);return n?(eO("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=ZT(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Gi.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=ZT(t);return this._delegate.delete(e),this},t}(),VT=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=ZT(t);return n?(eO("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=ZT(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(Gi.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=ZT(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),BT=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new sT(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new QT(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new LT(e),n),i.set(n,s)),s},t}();BT.eu=new WeakMap;var UT=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new LT(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new Yg(Gg.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new lO(n._delegate,r,new Ry(e)))},t.Zc=function(e,n,r){return new t(n,new lO(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new YT(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new YT(this.firestore,fO(this._delegate,t))}catch(t){throw qT(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(zd.g)(t))instanceof lO&&mO(this._delegate,t)},t.prototype.set=function(t,e){e=eO("DocumentReference.set",e);try{return function(t,e,n){t=oO(t,lO);var r=oO(t.firestore,vO),i=ET(t._converter,e,n);return kT(r,[NO(PO(r),"setDoc",t._key,i,null!==t._converter,n).toMutation(t._key,Gb.none())])}(this._delegate,t,e)}catch(t){throw qT(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?xT(this._delegate,t):xT.apply(void 0,Object(Gi.f)([this._delegate,t,e],n))}catch(t){throw qT(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return kT(oO((t=this._delegate).firestore,vO),[new lv(t._key,Gb.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=HT(e),i=zT(e,function(e){return new WT(t.firestore,new iT(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate._converter))});return IT(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=oO(t,lO);var e=oO(t.firestore,vO),n=_O(e),r=new TT(e);return function(t,e){var n=this,r=new U_;return t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(n,void 0,void 0,function(){var n;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i;return Object(Gi.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=sy(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Yg(Gg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=AS(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,BC(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new iT(e,r,t._key,n,new rT(null!==n&&n.hasLocalMutations,!0),t._converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=oO(t,lO);var e=oO(t.firestore,vO);return zC(_O(e),t._key,{source:"server"}).then(function(n){return AT(e,t,n)})}(this._delegate):function(t){t=oO(t,lO);var e=oO(t.firestore,vO);return zC(_O(e),t._key).then(function(n){return AT(e,t,n)})}(this._delegate)).then(function(t){return new WT(e.firestore,new iT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate._converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?BT.tu(this.firestore,e):null))},t}();function qT(t,e,n){return t.message=t.message.replace(e,n),t}function HT(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!bO(r))return r}return{}}function zT(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=bO(t[0])?t[0]:bO(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var WT=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new UT(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return cT(this._delegate,t._delegate)},t}(),QT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Gi.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(WT),$T=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new LT(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,hT(this._delegate,function(t,e,n){var r=e,i=nT("where",t);return new dT(i,r,n)}(e,n,r)))}catch(e){throw qT(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,hT(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=nT("orderBy",t);return new fT(r,n)}(e,n)))}catch(e){throw qT(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,hT(this._delegate,function(t){return aO("limit",t),new pT("limit",t,"F")}(e)))}catch(e){throw qT(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,hT(this._delegate,function(t){return aO("limitToLast",t),new pT("limitToLast",t,"L")}(e)))}catch(e){throw qT(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,hT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mT("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw qT(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,hT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new mT("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw qT(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,hT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gT("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw qT(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,hT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new gT("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw qT(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return gO(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=oO(t,hO);var e=oO(t.firestore,vO),n=_O(e),r=new TT(e);return function(t,e){var n=this,r=new U_;return t.asyncQueue.enqueueAndForget(function(){return Object(Gi.b)(n,void 0,void 0,function(){var n;return Object(Gi.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Gi.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(Gi.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,gE(t,e,!0)];case 1:return a=c.sent(),r=new QS(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=c.sent(),a=AS(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,BC(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new oT(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=oO(t,hO);var e=oO(t.firestore,vO),n=_O(e),r=new TT(e);return WC(n,t._query,{source:"server"}).then(function(n){return new oT(e,r,t,n)})}(this._delegate):function(t){t=oO(t,hO);var e=oO(t.firestore,vO),n=_O(e),r=new TT(e);return uT(t._query),WC(n,t._query).then(function(n){return new oT(e,r,t,n)})}(this._delegate)).then(function(t){return new GT(e.firestore,new oT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=HT(e),i=zT(e,function(e){return new GT(t.firestore,new oT(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return IT(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?BT.tu(this.firestore,e):null))},t}(),KT=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new QT(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),GT=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new $T(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new QT(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new KT(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new QT(n._firestore,r))})},t.prototype.isEqual=function(t){return cT(this._delegate,t._delegate)},t}(),YT=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(Gi.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new UT(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new UT(this.firestore,void 0===t?pO(this._delegate):pO(this._delegate,t))}catch(t){throw qT(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=oO(t.firestore,vO),r=pO(t),i=ET(t._converter,e);return kT(n,[NO(PO(t.firestore),"addDoc",r._key,i,null!==t._converter,{}).toMutation(r._key,Gb.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new UT(e.firestore,t)})},e.prototype.isEqual=function(t){return mO(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?BT.tu(this.firestore,t):null))},e}($T);function ZT(t){return oO(t,lO)}var XT,JT=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(CO.bind.apply(CO,Object(Gi.f)([void 0],t)))}return t.documentId=function(){return new t(vy.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(zd.g)(t))instanceof CO&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),tx=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new FO("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new MO("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new VO("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new BO("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new UO("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),ex=n("/6Yf"),nx={Firestore:MT,GeoPoint:xO,Timestamp:hy,Blob:PT,Transaction:FT,WriteBatch:VT,DocumentReference:UT,DocumentSnapshot:WT,Query:$T,QueryDocumentSnapshot:QT,QuerySnapshot:GT,CollectionReference:YT,FieldPath:JT,FieldValue:tx,setLogLevel:function(t){Zg.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new ex.a("firestore",function(t){return function(t,e){return new MT(t,new vO(t,e),new NT)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},nx)))})(XT=Hd.a),XT.registerVersion("@firebase/firestore","2.2.3");var rx=n("Jgta");function ix(t,e){return function(t,e=bo.b){return new se.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function sx(t,e){return ix(t,e).pipe(Object(ye.a)(t=>({payload:t,type:"query"})))}function ox(t,e){return sx(t,e).pipe(Object(ye.a)(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function ax(t,e,n){return sx(t,n).pipe(Object(ye.a)(t=>t.payload.docChanges()),xe((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),Object(ye.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function cx(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class ux{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?ox(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ye.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Ae(t=>t.length>0),this.afs.keepUnstableUntilFirst):ox(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(xe((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=cx(t);return ax(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return sx(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ye.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Kt.a)(this.query.get(t)).pipe(Object(_h.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new lx(this.ref.doc(t),this.afs)}}class lx{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=gx(n,e);return new ux(r,i,this.afs)}snapshotChanges(){return ix(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(ye.a)(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(ye.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Kt.a)(this.ref.get(t)).pipe(Object(_h.b)(this.afs.schedulers.insideAngular))}}class hx{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?ox(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ye.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Ae(t=>t.length>0),this.afs.keepUnstableUntilFirst):ox(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(xe((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=cx(t);return ax(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return sx(this.query,this.afs.schedulers.outsideAngular).pipe(Object(ye.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Kt.a)(this.query.get(t)).pipe(Object(_h.b)(this.afs.schedulers.insideAngular))}}const dx=new r.s("angularfire2.enableFirestorePersistence"),fx=new r.s("angularfire2.firestore.persistenceSettings"),px=new r.s("angularfire2.firestore.settings"),mx=new r.s("angularfire2.firestore.use-emulator");function gx(t,e=(t=>t)){return{query:e(t),ref:t}}let yx=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this.schedulers=new kd.d(s),this.keepUnstableUntilFirst=Object(kd.h)(this.schedulers);const u=Object(kd.g)(t,s,e);!rx.a.auth&&c&&Object(kd.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(kd.f)(`${u.name}.firestore`,"AngularFirestore",u,()=>{const t=s.runOutsideAngular(()=>u.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!ft(i)){const e=()=>{try{return Object(Kt.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(XT){return"undefined"!=typeof console&&console.warn(XT),Object(Gt.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Gt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=gx(n,e),s=this.schedulers.ngZone.run(()=>r);return new ux(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new hx(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new lx(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.dc(kd.c),r.dc(kd.b,8),r.dc(dx,8),r.dc(px,8),r.dc(r.D),r.dc(r.B),r.dc(fx,8),r.dc(mx,8),r.dc(Ad,8))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(kd.c),Object(r.dc)(kd.b,8),Object(r.dc)(dx,8),Object(r.dc)(px,8),Object(r.dc)(r.D),Object(r.dc)(r.B),Object(r.dc)(fx,8),Object(r.dc)(mx,8),Object(r.dc)(Ad,8))},token:t,providedIn:"any"}),t})(),bx=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:dx,useValue:!0},{provide:fx,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({providers:[yx]}),t})();class vx{call(t,e){return e.subscribe(new _x(t))}}class _x extends ne{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=oe(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(e),this.add(e)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}n("KqfI");var wx=n("Lhse");function Ex(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(ae.a)(t,void 0).lift(new Sx(e))}class Sx{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Cx(t,this.resultSelector))}}class Cx extends ee.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(te.a)(t)?e.push(new Tx(t)):e.push("function"==typeof t[wx.a]?new Ox(t[wx.a]()):new xx(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let s=0;s<e;s++){let e=t[s];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let s=0;s<e;s++){let e=t[s],o=e.next();if(e.hasCompleted()&&(r=!0),o.done)return void n.complete();i.push(o.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class Ox{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class Tx{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[wx.a](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class xx extends be.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[wx.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(be.c)(this.observable,new be.a(this))}}function Ix(...t){return e=>{let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new kx(t,n))}}class kx{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new Ax(t,this.observables,this.project))}}class Ax extends ne{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(oe(this,e[i],void 0,i))}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}n("WMd4");const Dx=["*"],Rx=["dialog"];function jx(t){return null!=t}function Px(t){return(t||document.body).getBoundingClientRect()}"undefined"==typeof Element||Element.prototype.closest||(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const Nx={animation:!0,transitionTimerDelayMs:5};let Mx=(()=>{class t{constructor(){this.animation=Nx.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Lx=()=>{},{transitionTimerDelayMs:Fx}=Nx,Vx=new Map,Bx=(t,e,n,r)=>{let i=r.context||{};const s=Vx.get(e);if(s)switch(r.runningTransition){case"continue":return pe.a;case"stop":t.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),Vx.delete(e)}const o=n(e,r.animation,i)||Lx;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(()=>o()),Object(Gt.a)(void 0).pipe(function(t){return e=>new se.a(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())))}(t));const a=new Yt.a,c=new Yt.a,u=a.pipe(function(...t){return e=>fe(e,Object(Gt.a)(...t))}(!0));Vx.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const l=function(t){const{transitionDelay:e,transitionDuration:n}=window.getComputedStyle(t);return 1e3*(parseFloat(e)+parseFloat(n))}(e);return t.runOutsideAngular(()=>{const n=oh(e,"transitionend").pipe(fh(u),Ae(({target:t})=>t===e));(function(...t){if(1===t.length){if(!Object(te.a)(t[0]))return t[0];t=t[0]}return Object(ae.a)(t,void 0).lift(new vx)})(uh(l+Fx).pipe(fh(u)),n,c).pipe(fh(u)).subscribe(()=>{Vx.delete(e),t.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let Ux=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[dt]]}),t})(),qx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[dt]]}),t})(),Hx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({}),t})(),zx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[dt]]}),t})(),Wx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({}),t})();var Qx=function(t){return t[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",t}({});"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const $x=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Kx(t){const e=Array.from(t.querySelectorAll($x)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new class{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let n,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))n=t.getBoundingClientRect(),n={top:n.top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{const e=this.offsetParent(t);n=this.offset(t,!1),e!==document.documentElement&&(r=this.offset(e,!1)),r.top+=e.clientTop,r.left+=e.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,e&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n}offset(t,e=!0){const n=t.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft;let s={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return e&&(s.height=Math.round(s.height),s.width=Math.round(s.width),s.top=Math.round(s.top),s.bottom=Math.round(s.bottom),s.left=Math.round(s.left),s.right=Math.round(s.right)),s}positionElements(t,e,n,r){const[i="top",s="center"]=n.split("-"),o=r?this.offset(t,!1):this.position(t,!1),a=this.getAllStyles(e),c=parseFloat(a.marginTop),u=parseFloat(a.marginBottom),l=parseFloat(a.marginLeft),h=parseFloat(a.marginRight);let d=0,f=0;switch(i){case"top":d=o.top-(e.offsetHeight+c+u);break;case"bottom":d=o.top+o.height;break;case"left":f=o.left-(e.offsetWidth+l+h);break;case"right":f=o.left+o.width}switch(s){case"top":d=o.top;break;case"bottom":d=o.top+o.height-e.offsetHeight;break;case"left":f=o.left;break;case"right":f=o.left+o.width-e.offsetWidth;break;case"center":"top"===i||"bottom"===i?f=o.left+o.width/2-e.offsetWidth/2:d=o.top+o.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(f)}px, ${Math.round(d)}px)`;const p=e.getBoundingClientRect(),m=document.documentElement,g=window.innerHeight||m.clientHeight,y=window.innerWidth||m.clientWidth;return p.left>=0&&p.top>=0&&p.right<=y&&p.bottom<=g}},new Date(1882,10,12),new Date(2174,10,25);let Gx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[dt,po]]}),t})(),Yx=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({}),t})(),Zx=(()=>{class t{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return t.\u0275fac=function(e){return new(e||t)(r.dc(Mx))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(Mx))},token:t,providedIn:"root"}),t})();class Xx{constructor(t,e,n){this.nodes=t,this.viewRef=e,this.componentRef=n}}const Jx=()=>{};let tI=(()=>{class t{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):Jx}_adjustBody(t){const e=this._document.body,n=e.style.paddingRight,r=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]=`${r+t}px`,()=>e.style["padding-right"]=n}_isPresent(t){const e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const e=this._document.body;e.appendChild(t);const n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}return t.\u0275fac=function(e){return new(e||t)(r.dc(o))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(o))},token:t,providedIn:"root"}),t})(),eI=(()=>{class t{constructor(t,e){this._el=t,this._zone=e}ngOnInit(){this._zone.onStable.asObservable().pipe(Se(1)).subscribe(()=>{Bx(this._zone,this._el.nativeElement,(t,e)=>{e&&Px(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Bx(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(r.B))},t.\u0275cmp=r.Kb({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(r.Fb("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),r.Ib("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t})();class nI{close(t){}dismiss(t){}}class rI{constructor(t,e,n,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=n,this._beforeDismiss=r,this._closed=new Yt.a,this._dismissed=new Yt.a,this._hidden=new Yt.a,t.instance.dismissEvent.subscribe(t=>{this.dismiss(t)}),this.result=new Promise((t,e)=>{this._resolve=t,this._reject=e}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(fh(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(fh(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();e&&e.then?e.then(e=>{!1!==e&&this._dismiss(t)},()=>{}):!1!==e&&this._dismiss(t)}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Object(Gt.a)(void 0);t.subscribe(()=>{const{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ex(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var iI=function(t){return t[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",t}({});let sI=(()=>{class t{constructor(t,e,n){this._document=t,this._elRef=e,this._zone=n,this._closed$=new Yt.a,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new r.o,this.shown=new Yt.a,this.hidden=new Yt.a}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement}ngAfterViewInit(){this._show()}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,e={animation:this.animation,runningTransition:"stop"},n=Ex(Bx(this._zone,t,()=>t.classList.remove("show"),e),Bx(this._zone,this._dialogEl.nativeElement,()=>{},e));return n.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),n}_show(){const t={animation:this.animation,runningTransition:"continue"};Ex(Bx(this._zone,this._elRef.nativeElement,(t,e)=>{e&&Px(t),t.classList.add("show")},t),Bx(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{oh(t,"keydown").pipe(fh(this._closed$),Ae(t=>t.which===Qx.Escape)).subscribe(t=>{this.keyboard?requestAnimationFrame(()=>{t.defaultPrevented||this._zone.run(()=>this.dismiss(iI.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let e=!1;oh(this._dialogEl.nativeElement,"mousedown").pipe(fh(this._closed$),Object(Ye.a)(()=>e=!1),ve(()=>oh(t,"mouseup").pipe(fh(this._closed$),Se(1))),Ae(({target:e})=>t===e)).subscribe(()=>{e=!0}),oh(t,"click").pipe(fh(this._closed$)).subscribe(({target:n})=>{t===n&&("static"===this.backdrop?this._bumpBackdrop():!0!==this.backdrop||e||this._zone.run(()=>this.dismiss(iI.BACKDROP_CLICK))),e=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const e=t.querySelector("[ngbAutofocus]"),n=Kx(t)[0];(e||n||t).focus()}}_restoreFocus(){const t=this._document.body,e=this._elWithFocus;let n;n=e&&e.focus&&t.contains(e)?e:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>n.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Bx(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(o),r.Qb(r.l),r.Qb(r.B))},t.\u0275cmp=r.Kb({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){if(1&t&&r.Jc(Rx,3),2&t){let t;r.vc(t=r.hc())&&(e._dialogEl=t.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Eb("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),r.Fb("modal d-block"+(e.windowClass?" "+e.windowClass:"")),r.Ib("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Dx,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(r.oc(),r.Wb(0,"div",0,1),r.Wb(2,"div",2),r.nc(3),r.Vb(),r.Vb()),2&t&&r.Fb("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t})(),oI=(()=>{class t{constructor(t,e,n,i,s,o){this._applicationRef=t,this._injector=e,this._document=n,this._scrollBar=i,this._rendererFactory=s,this._ngZone=o,this._activeWindowCmptHasChanged=new Yt.a,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass"],this._windowCmpts=[],this._activeInstances=new r.o,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const t=this._windowCmpts[this._windowCmpts.length-1];((t,e,n,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const t=oh(e,"focusin").pipe(fh(n),Object(ye.a)(t=>t.target));oh(e,"keydown").pipe(fh(n),Ae(t=>t.which===Qx.Tab),Ix(t)).subscribe(([t,n])=>{const[r,i]=Kx(e);n!==r&&n!==e||!t.shiftKey||(i.focus(),t.preventDefault()),n!==i||t.shiftKey||(r.focus(),t.preventDefault())}),r&&oh(e,"click").pipe(fh(n),Ix(t),Object(ye.a)(t=>t[1])).subscribe(t=>t.focus())})})(0,t.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(t.location.nativeElement)}})}open(t,e,n,r){const i=r.container instanceof HTMLElement?r.container:jx(r.container)?this._document.querySelector(r.container):this._document.body,s=this._rendererFactory.createRenderer(null,null),o=this._scrollBar.compensate(),a=()=>{this._modalRefs.length||(s.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!i)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);const c=new nI,u=this._getContentRef(t,r.injector||e,n,c,r);let l=!1!==r.backdrop?this._attachBackdrop(t,i):void 0,h=this._attachWindowComponent(t,i,u),d=new rI(h,u,l,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(h),d.result.then(o,o),d.result.then(a,a),c.close=t=>{d.close(t)},c.dismiss=t=>{d.dismiss(t)},this._applyWindowOptions(h.instance,r),1===this._modalRefs.length&&s.addClass(this._document.body,"modal-open"),l&&l.instance&&this._applyBackdropOptions(l.instance,r),d}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(e=>e.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,e){let n=t.resolveComponentFactory(eI).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}_attachWindowComponent(t,e,n){let r=t.resolveComponentFactory(sI).create(this._injector,n.nodes);return this._applicationRef.attachView(r.hostView),e.appendChild(r.location.nativeElement),r}_applyWindowOptions(t,e){this._windowAttributes.forEach(n=>{jx(e[n])&&(t[n]=e[n])})}_applyBackdropOptions(t,e){this._backdropAttributes.forEach(n=>{jx(e[n])&&(t[n]=e[n])})}_getContentRef(t,e,n,i,s){return n?n instanceof r.N?this._createFromTemplateRef(n,i):"string"==typeof n?this._createFromString(n):this._createFromComponent(t,e,n,i,s):new Xx([])}_createFromTemplateRef(t,e){const n=t.createEmbeddedView({$implicit:e,close(t){e.close(t)},dismiss(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new Xx([n.rootNodes],n)}_createFromString(t){const e=this._document.createTextNode(`${t}`);return new Xx([[e]])}_createFromComponent(t,e,n,i,s){const o=t.resolveComponentFactory(n),a=r.t.create({providers:[{provide:nI,useValue:i}],parent:e}),c=o.create(a),u=c.location.nativeElement;return s.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new Xx([[u]],c.hostView,c)}_setAriaHidden(t){const e=t.parentElement;e&&t!==this._document.body&&(Array.from(e.children).forEach(e=>{e!==t&&"SCRIPT"!==e.nodeName&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(e))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const e=()=>{const e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(e,e)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const e=this._windowCmpts.indexOf(t);e>-1&&(this._windowCmpts.splice(e,1),this._activeWindowCmptHasChanged.next())})}}return t.\u0275fac=function(e){return new(e||t)(r.dc(r.g),r.dc(r.t),r.dc(o),r.dc(tI),r.dc(r.H),r.dc(r.B))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(r.g),Object(r.dc)(r.p),Object(r.dc)(o),Object(r.dc)(tI),Object(r.dc)(r.H),Object(r.dc)(r.B))},token:t,providedIn:"root"}),t})(),aI=(()=>{class t{constructor(t,e,n,r){this._moduleCFR=t,this._injector=e,this._modalStack=n,this._config=r}open(t,e={}){const n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return t.\u0275fac=function(e){return new(e||t)(r.dc(r.j),r.dc(r.t),r.dc(oI),r.dc(Zx))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(r.j),Object(r.dc)(r.p),Object(r.dc)(oI),Object(r.dc)(Zx))},token:t,providedIn:"root"}),t})(),cI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({providers:[aI]}),t})(),uI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[dt]]}),t})(),lI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[dt]]}),t})(),hI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[dt]]}),t})(),dI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[dt]]}),t})(),fI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[dt]]}),t})(),pI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[dt]]}),t})(),mI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[dt]]}),t})(),gI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({}),t})();new r.s("live announcer delay",{providedIn:"root",factory:function(){return 100}});let yI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[dt]]}),t})();const bI=[Ux,qx,Hx,zx,Wx,Gx,Yx,cI,uI,lI,hI,dI,fI,pI,mI,gI,yI];let vI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[bI,Ux,qx,Hx,zx,Wx,Gx,Yx,cI,uI,lI,hI,dI,fI,pI,mI,gI,yI]}),t})();const _I=No();class wI{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=To(-this._previousScrollPosition.left),t.style.top=To(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),_I&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),_I&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class EI{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class SI{enable(){}disable(){}attach(){}}function CI(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function OI(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class TI{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();CI(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let xI=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new SI,this.close=t=>new EI(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new wI(this._viewportRuler,this._document),this.reposition=t=>new TI(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.dc(Ch),r.dc(Oh),r.dc(r.B),r.dc(o))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(Ch),Object(r.dc)(Oh),Object(r.dc)(r.B),Object(r.dc)(o))},token:t,providedIn:"root"}),t})();class II{constructor(t){if(this.scrollStrategy=new SI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class kI{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class AI{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let DI=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.dc(o))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(o))},token:t,providedIn:"root"}),t})(),RI=(()=>{class t extends DI{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(o))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(o))},token:t,providedIn:"root"}),t})(),jI=(()=>{class t extends DI{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(o),r.dc(Ro))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(o),Object(r.dc)(Ro))},token:t,providedIn:"root"}),t})();const PI=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let NI=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||PI){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),PI?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.dc(o),r.dc(Ro))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(o),Object(r.dc)(Ro))},token:t,providedIn:"root"}),t})();class MI{constructor(t,e,n,r,i,s,o,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Yt.a,this._attachments=new Yt.a,this._detachments=new Yt.a,this._locationChanges=Xe.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new Yt.a,this._outsidePointerEvents=new Yt.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Se(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=To(this._config.width),t.height=To(this._config.height),t.minWidth=To(this._config.minWidth),t.minHeight=To(this._config.minHeight),t.maxWidth=To(this._config.maxWidth),t.maxHeight=To(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;Oo(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(fh(Object(ih.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const LI="cdk-overlay-connected-position-bounding-box",FI=/([A-Za-z%]+)$/;class VI{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Yt.a,this._resizeSubscription=Xe.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(LI),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),c=this._getOverlayFit(a,e,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&BI(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(LI),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=qI(e);let{x:s,y:o}=t,a=this._getOffset(r,"x"),c=this._getOffset(r,"y");a&&(s+=a),c&&(o+=c);let u=0-o,l=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,u,l),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=UI(this._overlayRef.getConfig().minHeight),o=UI(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=qI(e),i=this._viewportRect,s=Math.max(t.x+r.width-i.width,0),o=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),c=Math.max(i.left-n.left-t.x,0);let u=0,l=0;return u=r.width<=i.width?c||-s:t.x<this._viewportMargin?i.left-n.left-t.x:0,l=r.height<=i.height?a||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:u,y:l},{x:t.x+u,y:t.y+l}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new AI(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,c,u;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:s,left:c,bottom:o,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=To(n.height),r.top=To(n.top),r.bottom=To(n.bottom),r.width=To(n.width),r.left=To(n.left),r.right=To(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=To(t)),i&&(r.maxWidth=To(i))}this._lastBoundingBoxSize=n,BI(this._boundingBox.style,r)}_resetBoundingBoxStyles(){BI(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){BI(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();BI(n,this._getExactOverlayY(e,t,r)),BI(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=To(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=To(s.maxWidth):i&&(n.maxWidth="")),BI(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=To(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=To(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:OI(t,n),isOriginOutsideView:CI(t,n),isOverlayClipped:OI(e,n),isOverlayOutsideView:CI(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Oo(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function BI(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function UI(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(FI);return n&&"px"!==n?null:parseFloat(e)}return t||null}function qI(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class HI{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new VI(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new kI(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const zI="cdk-global-overlay-wrapper";class WI{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(zI),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(zI),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let QI=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new WI}connectedTo(t,e,n){return new HI(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new VI(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(Oh),r.dc(o),r.dc(Ro),r.dc(NI))},t.\u0275prov=Object(r.Mb)({factory:function(){return new t(Object(r.dc)(Oh),Object(r.dc)(o),Object(r.dc)(Ro),Object(r.dc)(NI))},token:t,providedIn:"root"}),t})(),$I=0,KI=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,u,l){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=u,this._outsideClickDispatcher=l}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new II(t);return i.direction=i.direction||this._directionality.value,new MI(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+$I++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new eh(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(xI),r.dc(NI),r.dc(r.j),r.dc(QI),r.dc(RI),r.dc(r.t),r.dc(r.B),r.dc(o),r.dc(sa),r.dc(w),r.dc(jI))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})();const GI={provide:new r.s("cdk-connected-overlay-scroll-strategy"),deps:[KI],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let YI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({providers:[KI,GI],imports:[[oa,rh,xh],xh]}),t})(),ZI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[dt,Gu,Vo],Gu]}),t})();const XI={provide:new r.s("mat-select-scroll-strategy"),deps:[KI],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let JI=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({providers:[XI],imports:[[dt,YI,ll,Gu],Th,ZI,ll,Gu]}),t})(),tk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[Gu],Gu]}),t})();function ek(t,e){}class nk{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const rk={dialogContainer:la("dialogContainer",[pa("void, exit",fa({opacity:0,transform:"scale(0.7)"})),pa("enter",fa({transform:"none"})),ma("* => enter",ha("150ms cubic-bezier(0, 0, 0.2, 1)",fa({transform:"none",opacity:1}))),ma("* => void, * => exit",ha("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",fa({opacity:0})))])};let ik=(()=>{class t extends th{constructor(t,e,n,i,s,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=s,this._focusMonitor=o,this._animationStateChanged=new r.o,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._getActiveElement(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._getActiveElement();return t===e||t.contains(e)}_getActiveElement(){var t;const e=this._document.activeElement;return(null===(t=null==e?void 0:e.shadowRoot)||void 0===t?void 0:t.activeElement)||e}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(r.l),r.Qb(Wo),r.Qb(r.h),r.Qb(o,8),r.Qb(nk),r.Qb(Yo))},t.\u0275dir=r.Lb({type:t,viewQuery:function(t,e){if(1&t&&r.Jc(nh,3),2&t){let t;r.vc(t=r.hc())&&(e._portalOutlet=t.first)}},features:[r.Ab]}),t})(),sk=(()=>{class t extends ik{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return ok(e||t)},t.\u0275cmp=r.Kb({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.Bc("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(r.Zb("id",e._id),r.Eb("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.Cc("@dialogContainer",e._state))},features:[r.Ab],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.Dc(0,ek,0,0,"ng-template",0)},directives:[nh],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[rk.dialogContainer]}}),t})();const ok=r.Yb(sk);let ak=0;class ck{constructor(t,e,n="mat-dialog-"+ak++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Yt.a,this._afterClosed=new Yt.a,this._beforeClosed=new Yt.a,this._state=0,e._id=n,e._animationStateChanged.pipe(Ae(t=>"opened"===t.state),Se(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Ae(t=>"closed"===t.state),Se(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Ae(t=>27===t.keyCode&&!this.disableClose&&!yo(t))).subscribe(t=>{t.preventDefault(),uk(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():uk(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Ae(t=>"closing"===t.state),Se(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function uk(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const lk=new r.s("MatDialogData"),hk=new r.s("mat-dialog-default-options"),dk=new r.s("mat-dialog-scroll-strategy"),fk={provide:dk,deps:[KI],useFactory:function(t){return()=>t.scrollStrategies.block()}};let pk=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Yt.a,this._afterOpenedAtThisLevel=new Yt.a,this._ariaHiddenElements=new Map,this.afterAllClosed=me(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Te(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new nk)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new II({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.t.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:nk,useValue:e}]}),i=new Zl(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const s=new this._dialogRefConstructor(n,e,i.id);if(t instanceof r.N)e.attachTemplatePortal(new Xl(t,null,{$implicit:i.data,dialogRef:s}));else{const n=this._createInjector(i,s,e),r=e.attachComponentPortal(new Zl(t,i.viewContainerRef,n));s.componentInstance=r.instance}return s.updateSize(i.width,i.height).updatePosition(i.position),s}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(sa,null)||s.push({provide:sa,useValue:{value:t.direction,change:Object(Gt.a)()}}),r.t.create({parent:i||this._injector,providers:s})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.Qb(KI),r.Qb(r.t),r.Qb(void 0),r.Qb(void 0),r.Qb(NI),r.Qb(void 0),r.Qb(r.P),r.Qb(r.P),r.Qb(r.s))},t.\u0275dir=r.Lb({type:t}),t})(),mk=(()=>{class t extends pk{constructor(t,e,n,r,i,s,o){super(t,e,r,s,o,i,ck,sk,lk)}}return t.\u0275fac=function(e){return new(e||t)(r.dc(KI),r.dc(r.t),r.dc(w,8),r.dc(hk,8),r.dc(dk),r.dc(t,12),r.dc(NI))},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac}),t})(),gk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({providers:[mk,fk],imports:[[YI,rh,Gu],Gu]}),t})(),yk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[jo]]}),t})(),bk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({providers:[Ju],imports:[[yk,ZI,Gu],yk,ZI]}),t})(),vk=(()=>{class t{constructor(){this.changes=new Yt.a,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(t,e){return`${t} \u2013 ${e}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Mb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const _k={provide:new r.s("mat-datepicker-scroll-strategy"),deps:[KI],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let wk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({providers:[vk,_k],imports:[[dt,yl,gk,YI,ra,rh,Gu],Th]}),t})(),Ek=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[xh]]}),t})(),Sk=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[Ek,Gu],Gu]}),t})(),Ck=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t}),t.\u0275inj=r.Nb({imports:[[Gu],Gu]}),t})(),Ok=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Ob({type:t,bootstrap:[Ud]}),t.\u0275inj=r.Nb({providers:[],imports:[[$t,Bd,Wu,po,mo,kd.a.initializeApp(qd),bx,Ld,Sd,yl,gd,JI,vI,Gl,tk,wk,Sk,Ck,bk]]}),t})();Object(r.V)(),Wt().bootstrapModule(Ok).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);